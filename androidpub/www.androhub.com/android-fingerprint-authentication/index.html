<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
	
<!-- Mirrored from www.androhub.com/android-fingerprint-authentication/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jan 2018 03:29:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="UTF-8" />
		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0'>
		<title>Android Fingerprint Authentication - AndrohubAndrohub</title>
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="pingback" href="http://www.androhub.com/xmlrpc.php" />
					<link rel="shortcut icon" href="http://www.androhub.com/wp-content/uploads/2016/05/app_icon_small.png" type="image/x-icon" />
						
<!-- This site is optimized with the Yoast SEO plugin v4.4 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.androhub.com/android-fingerprint-authentication/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Android Fingerprint Authentication - Androhub" />
<meta property="og:description" content="Android fingerprint authentication uses smartphone touch sensor to authenticate the user. Android Marshmallow has introduced a set of API that makes it easy to use the touch sensor. Before Android Marshmallow, the method to access the touch sensor was not standard. There are several benefits of using Android fingerprint authentication: 1. Doesn’t matter how sick &hellip;" />
<meta property="og:url" content="http://www.androhub.com/android-fingerprint-authentication/" />
<meta property="og:site_name" content="Androhub" />
<meta property="article:publisher" content="https://www.facebook.com/androhubtutorial/" />
<meta property="article:author" content="facebook.com/sonu.surender" />
<meta property="article:tag" content="cipher" />
<meta property="article:tag" content="fingerprint" />
<meta property="article:tag" content="getting fingerprint" />
<meta property="article:tag" content="keystore" />
<meta property="article:section" content="Android FingerPrint" />
<meta property="article:published_time" content="2017-03-24T15:04:14+00:00" />
<meta property="article:modified_time" content="2017-03-24T15:30:36+00:00" />
<meta property="og:updated_time" content="2017-03-24T15:30:36+00:00" />
<meta property="og:image" content="http://www.androhub.com/wp-content/uploads/2017/03/fingerprint_authentication_.jpg" />
<meta property="og:image:width" content="795" />
<meta property="og:image:height" content="413" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Android fingerprint authentication uses smartphone touch sensor to authenticate the user. Android Marshmallow has introduced a set of API that makes it easy to use the touch sensor. Before Android Marshmallow, the method to access the touch sensor was not standard. There are several benefits of using Android fingerprint authentication: 1. Doesn’t matter how sick [&hellip;]" />
<meta name="twitter:title" content="Android Fingerprint Authentication - Androhub" />
<meta name="twitter:site" content="@sonusurender0" />
<meta name="twitter:image" content="https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/03/fingerprint_authentication_.jpg?fit=795%2C413" />
<meta name="twitter:creator" content="@sonusurender0" />
<!-- / Yoast SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Feed" href="http://www.androhub.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Comments Feed" href="http://www.androhub.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Android Fingerprint Authentication Comments Feed" href="http://www.androhub.com/android-fingerprint-authentication/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.androhub.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.12"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='normalize-css'  href='http://www.androhub.com/wp-content/themes/circles/css/normalize.css' type='text/css' media='all' />
<link rel='stylesheet' id='prettyPhoto-css'  href='http://www.androhub.com/wp-content/themes/circles/css/prettyPhoto.css' type='text/css' media='all' />
<link rel='stylesheet' id='grid-system-css'  href='http://www.androhub.com/wp-content/themes/circles/css/grid-system.css' type='text/css' media='all' />
<link rel='stylesheet' id='main-css'  href='http://www.androhub.com/wp-content/themes/circles/css/main.css' type='text/css' media='all' />
<link rel='stylesheet' id='shortcodes-css'  href='http://www.androhub.com/wp-content/themes/circles/css/shortcodes.css' type='text/css' media='all' />
<link rel='stylesheet' id='widgets-css'  href='http://www.androhub.com/wp-admin/css/widgets.min.css?ver=4.5.12' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='http://www.androhub.com/wp-content/themes/circles/css/font-awesome.css' type='text/css' media='all' />
<link rel='stylesheet' id='icomoon-css'  href='http://www.androhub.com/wp-content/themes/circles/css/icomoon.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsiveness-css'  href='http://www.androhub.com/wp-content/themes/circles/css/media.php?switch_menu_to_mobile=' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='http://www.androhub.com/wp-content/themes/circles/style.css?ver=4.5.12' type='text/css' media='all' />
<!-- Inline jetpack_facebook_likebox -->
<style id='jetpack_facebook_likebox-inline-css' type='text/css'>
.widget_facebook_likebox {
	overflow: hidden;
}

</style>
<link rel='stylesheet' id='tablepress-default-css'  href='http://www.androhub.com/wp-content/plugins/tablepress/css/default.min.css?ver=1.7' type='text/css' media='all' />
<link rel='stylesheet' id='__EPYT__style-css'  href='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/styles/ytprefs.min.css?ver=4.5.12' type='text/css' media='all' />
<style id='__EPYT__style-inline-css' type='text/css'>

                .epyt-gallery-thumb {
                        width: 33.333%;
                }
                
</style>
<link rel='stylesheet' id='social-logos-css'  href='http://www.androhub.com/wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='http://www.androhub.com/wp-content/plugins/jetpack/css/jetpack.css?ver=4.4.2' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var _EPYT_ = {"ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php","security":"83453349b8","gallery_scrolloffset":"20","eppathtoscripts":"http:\/\/www.androhub.com\/wp-content\/plugins\/youtube-embed-plus\/scripts\/","epresponsiveselector":"[\"iframe.__youtube_prefs_widget__\"]","epdovol":"1","version":"11.8.5","evselector":"iframe.__youtube_prefs__[src], iframe[src*=\"youtube.com\/embed\/\"], iframe[src*=\"youtube-nocookie.com\/embed\/\"]","ajax_compat":"","stopMobileBuffer":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/image-captcha/assets/image-captcha.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/scripts/ytprefs.min.js?ver=4.5.12'></script>
<link rel='https://api.w.org/' href='http://www.androhub.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.androhub.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.androhub.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.5.12" />
<link rel='shortlink' href='http://wp.me/p7E9B2-j8' />
<link rel="alternate" type="application/json+oembed" href="http://www.androhub.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androhub.com%2Fandroid-fingerprint-authentication%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.androhub.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androhub.com%2Fandroid-fingerprint-authentication%2F&amp;format=xml" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
<link rel='dns-prefetch' href='http://i0.wp.com/'>
<link rel='dns-prefetch' href='http://i1.wp.com/'>
<link rel='dns-prefetch' href='http://i2.wp.com/'>
<style type='text/css'>img#wpstats{display:none}</style><!--[if lt IE 9]><script src="http://www.androhub.com/wp-content/themes/circles/js/html5.js"></script><![endif]--><!--[if lt IE 7]><script src="http://www.androhub.com/wp-content/themes/circles/js/icomoon.js"></script><![endif]-->	<script type="text/javascript">
		var ajaxurl = 'http://www.androhub.com/wp-admin/admin-ajax.php';
	</script>
				<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,800,300,700" rel="stylesheet" type="text/css">
					<link href="http://fonts.googleapis.com/css?family=Noto+Sans:400,800,300,700" rel="stylesheet" type="text/css">
			<style type="text/css">
					body,
			article .column_post-body,
			.post-body-text,
			.post-area 
			{ font-family: 'Noto Sans'; }
		
		
					.headline h1 { font-family: 'Noto Sans'; }
		
		
					.menu .menu-item a,
			.menu .page_item a { font-family: 'Noto Sans'; }
		
		
					.post-area h1, .post-body-text h1,
			.post-area h2, .post-body-text h2,
			.post-area h3, .post-body-text h3,
			.post-area h4, .post-body-text h4,
			.post-area h5, .post-body-text h5,
			.post-area h6, .post-body-text h6, aside h5 {
				font-family: 'Noto Sans';
			}
		
		
		
		
		
		
		
		
		#logo {
											}
		
			</style>
	<style type="text/css" id="dynamic-styles">
				
			
	
	
			
			
			
			
		
			
		
	
			
	
	
	
	
	
	
	
		</style>
			<style type="text/css">
			div.wrapper.menu-bg {
    display: none;
}
.right-sidebar h3{
    margin-top: 15px;
    margin-bottom: 1px;
}

footer .wrapper.grey {
    display: none;
}
.form-allowed-tags {
    display: none;
}
.headline.marble h1 {
    display: none;
}

.wrapper.headline {
    height: 36px;
}
.header-image {
    height: 50px;
    background-position: center;
}
.header-image {
    height: 50px;
}
.logo img {
    position: absolute;
    top: -18px;
    height: 87px;
    width: 270px;
    z-index: 105;
}
.marble {
    background-color: #91C448 !important;
}
.marble .page-path span,.marble .page-path a {
    color: #FFFFFF;
}
.widget_search {
    margin-bottom: 15px;
}
.grid_12 {
    margin: -8px 1.25%;
}		</style>
			<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		
<style id="custom-css-css">.phone-icon{right:522px;position:absolute;top:33px;display:inline-block;height:16px;padding:1px 0;font-size:13px;font-weight:700;margin-right:10px;padding-left:25px;background:url(http://www.androhub.com/downloads/ic_phone.png);background-position:left center;background-repeat:no-repeat}.email-icon{right:319px;position:absolute;top:33px;display:inline-block;height:16px;padding:1px 0;font-size:13px;font-weight:700;margin-right:10px;padding-left:25px;background:url(http://www.androhub.com/downloads/ic_email.png);background-position:left center;background-repeat:no-repeat}</style>
	</head>
	<body class="single single-post postid-1186 single-format-standard w1170 sticky-menu-on nice-scroll">
    
			<div class="preloading-screen" style=" background: #fff center no-repeat fixed">
			<div class="spinners">
				<div class="bounce1"></div>
			</div>
		</div>
					<header class='page-header'>
	
		
	<div class='wrapper wrapper-bg'>
		<div class='container'>
			<div class='grid_12'>
				<div class='logo'>
																					<a href='http://www.androhub.com/' title="Androhub" rel="home"><img src="http://androhub.com/wp-content/uploads/2016/05/andro_new.png" class="" alt="Androhub" /></a>
				</div>
				
<!-- Header Contact -->
<div class="phone-icon">
<span>+91 9008091580</span>
</div>

<div class="email-icon">
<span>surender@androhub.com</span>
</div>
<!--  Exit  -->


				<ul class='socials'>
											<li>
							<span class="tran02slinear"></span>
							<a class='facebook tran02slinear' href='https://www.facebook.com/sonu.surender' title="Facebook" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='twitter tran02slinear' href='https://twitter.com/sonusurender0' title="Twitter" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='youtube tran02slinear' href='https://www.youtube.com/channel/UCHJh3E9mtRzbM3WVVl9glJg' title="Youtube" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='google-plus tran02slinear' href='https://plus.google.com/u/0/+SurenderKumarandrohub' title="Google+" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='linkedin tran02slinear' href='https://in.linkedin.com/in/surender-kumar-681472a8' title="LinkedIn" target="_blank"></a>
						</li>
														</ul>
			</div>
		</div>
	</div>
	<div class='absolute'>
		<div class='wrapper menu-bg custom-menu-bg border-bottom-black-tr'>
			<div class='container'>
										<a id="menu-btn" href="#"></a>

						<nav class="menu"><ul><li ><a href="http://www.androhub.com/">Home</a></li></ul></nav>

					<ul class='socials mobile-socials'>
											<li>
							<span class="tran02slinear"></span>
							<a class='facebook tran02slinear' href='https://www.facebook.com/sonu.surender' title="Facebook" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='twitter tran02slinear' href='https://twitter.com/sonusurender0' title="Twitter" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='youtube tran02slinear' href='https://www.youtube.com/channel/UCHJh3E9mtRzbM3WVVl9glJg' title="Youtube" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='google-plus tran02slinear' href='https://plus.google.com/u/0/+SurenderKumarandrohub' title="Google+" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='linkedin tran02slinear' href='https://in.linkedin.com/in/surender-kumar-681472a8' title="LinkedIn" target="_blank"></a>
						</li>
														</ul>
			</div>
		</div>
			<div class='wrapper headline  marble border-bottom-black-tr'>
		<div class='container'>
			<div class='grid_12'>
									<h1>Blog</h1>
													<div class='page-path'>
						<div id="crumbs" xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.androhub.com/">Home</a></span> <span class="delimiter">|</span> <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.androhub.com/category/android-fingerprint/">Android FingerPrint</a></span> <span class="delimiter">|</span> <span class="current">Android Fingerprint Authentication</span></div>					</div>
							</div>
		</div>
	</div>
	</div>
</header><div class='wrapper header-image '></div>
<div class='wrapper'>
	<div class='container main'>
						<div class='post-area grid_9'>
			<div class='posts-container'>
													<article id="post-1186" class="post  center post-1186 type-post status-publish format-standard has-post-thumbnail hentry category-android-fingerprint tag-cipher tag-fingerprint tag-getting-fingerprint tag-keystore">
		<header>
		<a href='http://www.androhub.com/android-fingerprint-authentication/'><h2>Android Fingerprint Authentication</h2></a>
	</header>
	<footer>
	<div class='post-helper-absolute'>
		<div class='avatar big'>
			<img alt='' src='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=61&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=122&amp;d=mm&amp;r=g 2x' class='avatar avatar-61 photo' height='61' width='61' />		</div>
		<div class='post-comments'>
			<span>0</span>
		</div>
		<div class='post-author'>
			By			<span>
				<a href="http://www.androhub.com/author/droid/" title="Posts by Dr. Droid" rel="author">Dr. Droid</a>			</span>
		</div>
		<div class='post-type'>
			<span></span>
		</div>
	</div>
	<div class='post-date'>
		<span>March 24, 2017</span>
	</div>
			<div class='post-category'>
			<span>
				<a href="http://www.androhub.com/category/android-fingerprint/" rel="category tag">Android FingerPrint</a>			</span>
		</div>
		<div class='separator'>
	</div>
</footer>	<div class="post-body clearfix">
					<article class='item-con-t1'>
				<div class='container-t1'>
					<div class='container-t1-margin'>
						<img src="http://www.androhub.com/wp-content/uploads/freshizer/e41bfd3120bb2aebf2bff0c5a0c5bcb7_fingerprint_authentication_-863-430-c.jpg" class="wp-post-image" width="863" height="430" alt="Android Fingerprint Authentication"  />					</div>
				</div>
				<div class='blue-line'></div>
			</article>
				<div class='post-body-text'>
			<p>Android fingerprint authentication uses smartphone touch sensor to authenticate the user. Android Marshmallow has introduced a set of API that makes it easy to use the touch sensor. Before Android Marshmallow, the method to access the touch sensor was not standard.</p>
<p><strong>There are several benefits of using Android fingerprint authentication:</strong></p>
<p><strong>1</strong>. Doesn’t matter how sick you are , your fingerprint still stays faultless as your identity and can never be misplaced.<br />
<strong>2</strong>. Fast, Convenient and Reliable to use.<br />
<strong>3</strong>. Unique fingerprints assure that it’s unlocked just by you.<br />
<strong>4</strong>. With the help of Fingerprint authentication, online transactions become more convenient, hence your just a tap away from getting verified.</p>
<p><b>NOTE: Make sure you have at least one fingerprint is registered on the smartphone.</b></p>
<p>To authenticate users using the fingerprint sensor, you need to get an instance of the newly implemented <a href="https://developer.android.com/reference/android/hardware/fingerprint/FingerprintManager.html" target="_blank" rel="nofollow">FingerprintManager</a> class and call the <strong>authenticate()</strong> method. However your app must be running on a compatible device which includes a fingerprint sensor. Moreover you must implement the user interface for the fingerprint authentication flow on your app, and use the standard Android fingerprint icon in your UI. Note that If you are developing multiple apps that use fingerprint authentication, each app must authenticate the user’s fingerprint separately.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to implement Fingerprint Authentication in your application.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_39725" width="602" height="339" src="https://www.youtube.com/embed/5WJ3r67ORxo?enablejsapi=1&amp;autoplay=0&amp;cc_load_policy=0&amp;iv_load_policy=1&amp;loop=0&amp;modestbranding=0&amp;rel=1&amp;showinfo=1&amp;fs=1&amp;theme=dark&amp;color=red&amp;autohide=2&amp;controls=2&amp;playsinline=0&amp;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values. These are some strings that we are going to use in our project.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f38c046690642" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">strings.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;resources&gt;
    &lt;string name="app_name"&gt;FingerPrint Demo&lt;/string&gt;
    &lt;string name="fingerprint_message"&gt;Place your fingertip on the scanner to verify fingerprint.&lt;/string&gt;
    &lt;string name="successful_message"&gt;You have successfully authenticated with FingerPrint.&lt;/string&gt;
    &lt;string name="fingerprint_not_exist"&gt;Your Device does not have a Fingerprint Sensor.&lt;/string&gt;
    &lt;string name="fingerprint_not_enabled"&gt;Fingerprint authentication permission not enabled in your device.&lt;/string&gt;
    &lt;string name="fingerprint_not_registered"&gt;Register at least one fingerprint in Settings to make work Fingerprint.&lt;/string&gt;
    &lt;string name="lock_screen_setting_disabled"&gt;Lock screen security not enabled in Settings.&lt;/string&gt;
&lt;/resources&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f38c046690642-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f38c046690642-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f38c046690642-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f38c046690642-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f38c046690642-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f38c046690642-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f38c046690642-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f38c046690642-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f38c046690642-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f38c046690642-1"><span class="crayon-o">&lt;</span><span class="crayon-v">resources</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f38c046690642-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"app_name"</span><span class="crayon-o">&gt;</span><span class="crayon-e">FingerPrint </span><span class="crayon-v">Demo</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d02126f38c046690642-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"fingerprint_message"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Place </span><span class="crayon-e">your </span><span class="crayon-e">fingertip </span><span class="crayon-e">on </span><span class="crayon-e">the </span><span class="crayon-e">scanner </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">verify </span><span class="crayon-v">fingerprint</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f38c046690642-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"successful_message"</span><span class="crayon-o">&gt;</span><span class="crayon-e">You </span><span class="crayon-e">have </span><span class="crayon-e">successfully </span><span class="crayon-e">authenticated </span><span class="crayon-e">with </span><span class="crayon-v">FingerPrint</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d02126f38c046690642-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"fingerprint_not_exist"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Your </span><span class="crayon-e">Device </span><span class="crayon-e">does </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-i">have</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">Fingerprint </span><span class="crayon-v">Sensor</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f38c046690642-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"fingerprint_not_enabled"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Fingerprint </span><span class="crayon-e">authentication </span><span class="crayon-e">permission </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-e">enabled </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">your </span><span class="crayon-v">device</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d02126f38c046690642-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"fingerprint_not_registered"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Register </span><span class="crayon-e">at </span><span class="crayon-e">least </span><span class="crayon-e">one </span><span class="crayon-e">fingerprint </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">Settings </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">make </span><span class="crayon-e">work </span><span class="crayon-v">Fingerprint</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f38c046690642-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"lock_screen_setting_disabled"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Lock </span><span class="crayon-e">screen </span><span class="crayon-e">security </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-e">enabled </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d02126f38c046690642-9"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">resources</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0060 seconds] -->
<p>
<b>3</b>. Since we are going to work with Fingerprint authentication, we need to add <strong><em>USE_FINGERPRINT</em></strong> permission to <strong>AndroidManifest.xml</strong> file</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3a1580665015" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">AndroidManifest.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    &lt;!--  Permission required for FingerPrint  --&gt;
    &lt;uses-permission android:name="android.permission.USE_FINGERPRINT" /&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3a1580665015-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3a1580665015-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3a1580665015-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">Permission </span><span class="crayon-e">required </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">FingerPrint</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3a1580665015-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">uses</span><span class="crayon-o">-</span><span class="crayon-e">permission </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.permission.USE_FINGERPRINT"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>
<b>4</b>. Create the fingerprint icon with the help of <strong>Android Vector Assets</strong>. To do so, <strong>Right click</strong> on the drawable folder and <strong>Create a New ⇒ Vector Asset</strong> named <strong>ic_fingerprint_white_60dp.xml.</strong></p>
<div>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3aa137452622" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">ic_fingerprint_white_60dp.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;vector xmlns:android="http://schemas.android.com/apk/res/android"
        android:width="60dp"
        android:height="60dp"
        android:viewportWidth="24.0"
        android:viewportHeight="24.0"&gt;
    &lt;path
        android:fillColor="#FFFFFFFF"
        android:pathData="M17.81,4.47c-0.08,0 -0.16,-0.02 -0.23,-0.06C15.66,3.42 14,3 12.01,3c-1.98,0 -3.86,0.47 -5.57,1.41 -0.24,0.13 -0.54,0.04 -0.68,-0.2 -0.13,-0.24 -0.04,-0.55 0.2,-0.68C7.82,2.52 9.86,2 12.01,2c2.13,0 3.99,0.47 6.03,1.52 0.25,0.13 0.34,0.43 0.21,0.67 -0.09,0.18 -0.26,0.28 -0.44,0.28zM3.5,9.72c-0.1,0 -0.2,-0.03 -0.29,-0.09 -0.23,-0.16 -0.28,-0.47 -0.12,-0.7 0.99,-1.4 2.25,-2.5 3.75,-3.27C9.98,4.04 14,4.03 17.15,5.65c1.5,0.77 2.76,1.86 3.75,3.25 0.16,0.22 0.11,0.54 -0.12,0.7 -0.23,0.16 -0.54,0.11 -0.7,-0.12 -0.9,-1.26 -2.04,-2.25 -3.39,-2.94 -2.87,-1.47 -6.54,-1.47 -9.4,0.01 -1.36,0.7 -2.5,1.7 -3.4,2.96 -0.08,0.14 -0.23,0.21 -0.39,0.21zM9.75,21.79c-0.13,0 -0.26,-0.05 -0.35,-0.15 -0.87,-0.87 -1.34,-1.43 -2.01,-2.64 -0.69,-1.23 -1.05,-2.73 -1.05,-4.34 0,-2.97 2.54,-5.39 5.66,-5.39s5.66,2.42 5.66,5.39c0,0.28 -0.22,0.5 -0.5,0.5s-0.5,-0.22 -0.5,-0.5c0,-2.42 -2.09,-4.39 -4.66,-4.39 -2.57,0 -4.66,1.97 -4.66,4.39 0,1.44 0.32,2.77 0.93,3.85 0.64,1.15 1.08,1.64 1.85,2.42 0.19,0.2 0.19,0.51 0,0.71 -0.11,0.1 -0.24,0.15 -0.37,0.15zM16.92,19.94c-1.19,0 -2.24,-0.3 -3.1,-0.89 -1.49,-1.01 -2.38,-2.65 -2.38,-4.39 0,-0.28 0.22,-0.5 0.5,-0.5s0.5,0.22 0.5,0.5c0,1.41 0.72,2.74 1.94,3.56 0.71,0.48 1.54,0.71 2.54,0.71 0.24,0 0.64,-0.03 1.04,-0.1 0.27,-0.05 0.53,0.13 0.58,0.41 0.05,0.27 -0.13,0.53 -0.41,0.58 -0.57,0.11 -1.07,0.12 -1.21,0.12zM14.91,22c-0.04,0 -0.09,-0.01 -0.13,-0.02 -1.59,-0.44 -2.63,-1.03 -3.72,-2.1 -1.4,-1.39 -2.17,-3.24 -2.17,-5.22 0,-1.62 1.38,-2.94 3.08,-2.94 1.7,0 3.08,1.32 3.08,2.94 0,1.07 0.93,1.94 2.08,1.94s2.08,-0.87 2.08,-1.94c0,-3.77 -3.25,-6.83 -7.25,-6.83 -2.84,0 -5.44,1.58 -6.61,4.03 -0.39,0.81 -0.59,1.76 -0.59,2.8 0,0.78 0.07,2.01 0.67,3.61 0.1,0.26 -0.03,0.55 -0.29,0.64 -0.26,0.1 -0.55,-0.04 -0.64,-0.29 -0.49,-1.31 -0.73,-2.61 -0.73,-3.96 0,-1.2 0.23,-2.29 0.68,-3.24 1.33,-2.79 4.28,-4.6 7.51,-4.6 4.55,0 8.25,3.51 8.25,7.83 0,1.62 -1.38,2.94 -3.08,2.94s-3.08,-1.32 -3.08,-2.94c0,-1.07 -0.93,-1.94 -2.08,-1.94s-2.08,0.87 -2.08,1.94c0,1.71 0.66,3.31 1.87,4.51 0.95,0.94 1.86,1.46 3.27,1.85 0.27,0.07 0.42,0.35 0.35,0.61 -0.05,0.23 -0.26,0.38 -0.47,0.38z"/&gt;
&lt;/vector&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3aa137452622-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3aa137452622-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3aa137452622-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3aa137452622-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3aa137452622-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3aa137452622-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3aa137452622-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3aa137452622-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3aa137452622-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3aa137452622-1"><span class="crayon-o">&lt;</span><span class="crayon-e">vector </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">android</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/apk/res/android"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3aa137452622-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">width</span><span class="crayon-o">=</span><span class="crayon-s">"60dp"</span></div><div class="crayon-line" id="crayon-5a4d02126f3aa137452622-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">height</span><span class="crayon-o">=</span><span class="crayon-s">"60dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3aa137452622-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">viewportWidth</span><span class="crayon-o">=</span><span class="crayon-s">"24.0"</span></div><div class="crayon-line" id="crayon-5a4d02126f3aa137452622-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">viewportHeight</span><span class="crayon-o">=</span><span class="crayon-s">"24.0"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3aa137452622-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">path</span></div><div class="crayon-line" id="crayon-5a4d02126f3aa137452622-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">fillColor</span><span class="crayon-o">=</span><span class="crayon-s">"#FFFFFFFF"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3aa137452622-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">pathData</span><span class="crayon-o">=</span><span class="crayon-s">"M17.81,4.47c-0.08,0 -0.16,-0.02 -0.23,-0.06C15.66,3.42 14,3 12.01,3c-1.98,0 -3.86,0.47 -5.57,1.41 -0.24,0.13 -0.54,0.04 -0.68,-0.2 -0.13,-0.24 -0.04,-0.55 0.2,-0.68C7.82,2.52 9.86,2 12.01,2c2.13,0 3.99,0.47 6.03,1.52 0.25,0.13 0.34,0.43 0.21,0.67 -0.09,0.18 -0.26,0.28 -0.44,0.28zM3.5,9.72c-0.1,0 -0.2,-0.03 -0.29,-0.09 -0.23,-0.16 -0.28,-0.47 -0.12,-0.7 0.99,-1.4 2.25,-2.5 3.75,-3.27C9.98,4.04 14,4.03 17.15,5.65c1.5,0.77 2.76,1.86 3.75,3.25 0.16,0.22 0.11,0.54 -0.12,0.7 -0.23,0.16 -0.54,0.11 -0.7,-0.12 -0.9,-1.26 -2.04,-2.25 -3.39,-2.94 -2.87,-1.47 -6.54,-1.47 -9.4,0.01 -1.36,0.7 -2.5,1.7 -3.4,2.96 -0.08,0.14 -0.23,0.21 -0.39,0.21zM9.75,21.79c-0.13,0 -0.26,-0.05 -0.35,-0.15 -0.87,-0.87 -1.34,-1.43 -2.01,-2.64 -0.69,-1.23 -1.05,-2.73 -1.05,-4.34 0,-2.97 2.54,-5.39 5.66,-5.39s5.66,2.42 5.66,5.39c0,0.28 -0.22,0.5 -0.5,0.5s-0.5,-0.22 -0.5,-0.5c0,-2.42 -2.09,-4.39 -4.66,-4.39 -2.57,0 -4.66,1.97 -4.66,4.39 0,1.44 0.32,2.77 0.93,3.85 0.64,1.15 1.08,1.64 1.85,2.42 0.19,0.2 0.19,0.51 0,0.71 -0.11,0.1 -0.24,0.15 -0.37,0.15zM16.92,19.94c-1.19,0 -2.24,-0.3 -3.1,-0.89 -1.49,-1.01 -2.38,-2.65 -2.38,-4.39 0,-0.28 0.22,-0.5 0.5,-0.5s0.5,0.22 0.5,0.5c0,1.41 0.72,2.74 1.94,3.56 0.71,0.48 1.54,0.71 2.54,0.71 0.24,0 0.64,-0.03 1.04,-0.1 0.27,-0.05 0.53,0.13 0.58,0.41 0.05,0.27 -0.13,0.53 -0.41,0.58 -0.57,0.11 -1.07,0.12 -1.21,0.12zM14.91,22c-0.04,0 -0.09,-0.01 -0.13,-0.02 -1.59,-0.44 -2.63,-1.03 -3.72,-2.1 -1.4,-1.39 -2.17,-3.24 -2.17,-5.22 0,-1.62 1.38,-2.94 3.08,-2.94 1.7,0 3.08,1.32 3.08,2.94 0,1.07 0.93,1.94 2.08,1.94s2.08,-0.87 2.08,-1.94c0,-3.77 -3.25,-6.83 -7.25,-6.83 -2.84,0 -5.44,1.58 -6.61,4.03 -0.39,0.81 -0.59,1.76 -0.59,2.8 0,0.78 0.07,2.01 0.67,3.61 0.1,0.26 -0.03,0.55 -0.29,0.64 -0.26,0.1 -0.55,-0.04 -0.64,-0.29 -0.49,-1.31 -0.73,-2.61 -0.73,-3.96 0,-1.2 0.23,-2.29 0.68,-3.24 1.33,-2.79 4.28,-4.6 7.51,-4.6 4.55,0 8.25,3.51 8.25,7.83 0,1.62 -1.38,2.94 -3.08,2.94s-3.08,-1.32 -3.08,-2.94c0,-1.07 -0.93,-1.94 -2.08,-1.94s-2.08,0.87 -2.08,1.94c0,1.71 0.66,3.31 1.87,4.51 0.95,0.94 1.86,1.46 3.27,1.85 0.27,0.07 0.42,0.35 0.35,0.61 -0.05,0.23 -0.26,0.38 -0.47,0.38z"</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d02126f3aa137452622-9"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">vector</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0037 seconds] -->

</div>
<p><b>5</b>. Now, open your <em>activity_main.xml</em> layout and place the below code.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3b6360041739" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">activity_main.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"
    tools:context="com.fingerprint_demo.MainActivity"&gt;

    &lt;ImageView
        android:id="@+id/fingerprint_logo"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/fingerprint_message"
        android:layout_centerHorizontal="true"
        android:layout_margin="10dp"
        android:src="@drawable/ic_fingerprint_white_60dp" /&gt;

    &lt;TextView
        android:id="@+id/fingerprint_message"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:gravity="center"
        android:padding="10dp"
        android:text="@string/fingerprint_message"
        android:textColor="@android:color/white"
        android:textSize="15sp" /&gt;

    &lt;!--  TextView to show any error message  --&gt;
    &lt;TextView
        android:id="@+id/error_message"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:gravity="center"
        android:padding="10dp"
        android:textColor="@color/redColor"
        android:textSize="14sp" /&gt;
&lt;/RelativeLayout&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-16">16</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-18">18</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-20">20</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-22">22</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-24">24</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-26">26</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-28">28</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-30">30</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-32">32</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-34">34</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-36">36</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-38">38</div><div class="crayon-num" data-line="crayon-5a4d02126f3b6360041739-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3b6360041739-40">40</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-1"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">"1.0"</span><span class="crayon-h"> </span><span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-ta">?&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-2"><span class="crayon-o">&lt;</span><span class="crayon-e">RelativeLayout </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">android</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/apk/res/android"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">tools</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/tools"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tools</span><span class="crayon-o">:</span><span class="crayon-v">context</span><span class="crayon-o">=</span><span class="crayon-s">"com.fingerprint_demo.MainActivity"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">ImageView</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/fingerprint_logo"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_above</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/fingerprint_message"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_centerHorizontal</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_margin</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"@drawable/ic_fingerprint_white_60dp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">TextView</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-19"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/fingerprint_message"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_centerInParent</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"@string/fingerprint_message"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textColor</span><span class="crayon-o">=</span><span class="crayon-s">"@android:color/white"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textSize</span><span class="crayon-o">=</span><span class="crayon-s">"15sp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-28">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">TextView </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">show </span><span class="crayon-e">any </span><span class="crayon-e">error </span><span class="crayon-v">message</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">TextView</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-31"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/error_message"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_alignParentBottom</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_centerHorizontal</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textColor</span><span class="crayon-o">=</span><span class="crayon-s">"@color/redColor"</span></div><div class="crayon-line" id="crayon-5a4d02126f3b6360041739-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textSize</span><span class="crayon-o">=</span><span class="crayon-s">"14sp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3b6360041739-40"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">RelativeLayout</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0134 seconds] -->
<p>
<b>6</b>. Now open your <em>MainActivity.java </em>class<em> </em>and place the below code. The following class includes various steps as follows:</p>
<ul>
<li><strong>Access to Android KeyStore and Generate the Key</strong> :<strong> generateKey()</strong> function which generates an encryption key which is then stored securely on the device.</li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3c1771257375" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">generate key</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
@TargetApi(Build.VERSION_CODES.M)
    protected void generateKey() {
        try {
            // Get the reference to the key store
            keyStore = KeyStore.getInstance("AndroidKeyStore");
        } catch (Exception e) {
            e.printStackTrace();
        }

        KeyGenerator keyGenerator;
        try {
            // Key generator to generate the key
            keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, "AndroidKeyStore");
        } catch (NoSuchAlgorithmException | NoSuchProviderException e) {
            throw new RuntimeException("Failed to get KeyGenerator instance", e);
        }

        try {
            keyStore.load(null);
            keyGenerator.init(new
                    KeyGenParameterSpec.Builder(KEY_NAME,
                    KeyProperties.PURPOSE_ENCRYPT |
                            KeyProperties.PURPOSE_DECRYPT)
                    .setBlockModes(KeyProperties.BLOCK_MODE_CBC)
                    .setUserAuthenticationRequired(true)
                    .setEncryptionPaddings(
                            KeyProperties.ENCRYPTION_PADDING_PKCS7)
                    .build());
            keyGenerator.generateKey();
        } catch (NoSuchAlgorithmException |
                InvalidAlgorithmParameterException
                | CertificateException | IOException e) {
            throw new RuntimeException(e);
        }
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-16">16</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-18">18</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-20">20</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-22">22</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-24">24</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-26">26</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-28">28</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-30">30</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-32">32</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3c1771257375-34">34</div><div class="crayon-num" data-line="crayon-5a4d02126f3c1771257375-35">35</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-1"><span class="crayon-sy">@</span><span class="crayon-e">TargetApi</span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">generateKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Get the reference to the key store</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyStore</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">KeyStore</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-s">"AndroidKeyStore"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">KeyGenerator </span><span class="crayon-v">keyGenerator</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Key generator to generate the key</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyGenerator</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">KeyGenerator</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">KEY_ALGORITHM_AES</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"AndroidKeyStore"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">NoSuchProviderException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-s">"Failed to get KeyGenerator instance"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyStore</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyGenerator</span><span class="crayon-sy">.</span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-r">new</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyGenParameterSpec</span><span class="crayon-sy">.</span><span class="crayon-e">Builder</span><span class="crayon-sy">(</span><span class="crayon-v">KEY_NAME</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">PURPOSE_ENCRYPT</span><span class="crayon-h"> </span><span class="crayon-o">|</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">PURPOSE_DECRYPT</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setBlockModes</span><span class="crayon-sy">(</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">BLOCK_MODE_CBC</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setUserAuthenticationRequired</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setEncryptionPaddings</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">ENCRYPTION_PADDING_PKCS7</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">build</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyGenerator</span><span class="crayon-sy">.</span><span class="crayon-e">generateKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">InvalidAlgorithmParameterException</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">CertificateException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">IOException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3c1771257375-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3c1771257375-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0110 seconds] -->

<ul>
<li><strong>Create the Android Cipher : cipherInit()</strong> function that initialises the cipher that will be used to create the encrypted FingerprintManager.</li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3cb817071025" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">init cipher</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
 @TargetApi(Build.VERSION_CODES.M)
    public boolean cipherInit() {
        try {
            cipher = Cipher.getInstance(KeyProperties.KEY_ALGORITHM_AES + "/" + KeyProperties.BLOCK_MODE_CBC + "/" + KeyProperties.ENCRYPTION_PADDING_PKCS7);
        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {
            throw new RuntimeException("Failed to get Cipher", e);
        }

        try {
            keyStore.load(null);
            SecretKey key = (SecretKey) keyStore.getKey(KEY_NAME,
                    null);
            cipher.init(Cipher.ENCRYPT_MODE, key);
            return true;
        } catch (KeyPermanentlyInvalidatedException e) {
            return false;
        } catch (KeyStoreException | CertificateException | UnrecoverableKeyException | IOException | NoSuchAlgorithmException | InvalidKeyException e) {
            throw new RuntimeException("Failed to init Cipher", e);
        }

    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-16">16</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-18">18</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3cb817071025-20">20</div><div class="crayon-num" data-line="crayon-5a4d02126f3cb817071025-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-1"><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-e">TargetApi</span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">cipherInit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cipher</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Cipher</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">KEY_ALGORITHM_AES</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">BLOCK_MODE_CBC</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">ENCRYPTION_PADDING_PKCS7</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">NoSuchPaddingException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-s">"Failed to get Cipher"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyStore</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">SecretKey </span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">SecretKey</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">keyStore</span><span class="crayon-sy">.</span><span class="crayon-e">getKey</span><span class="crayon-sy">(</span><span class="crayon-v">KEY_NAME</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cipher</span><span class="crayon-sy">.</span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-v">Cipher</span><span class="crayon-sy">.</span><span class="crayon-v">ENCRYPT_MODE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">KeyPermanentlyInvalidatedException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">KeyStoreException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">CertificateException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">UnrecoverableKeyException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">IOException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">InvalidKeyException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-s">"Failed to init Cipher"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3cb817071025-20">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3cb817071025-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0119 seconds] -->

<ul>
<li><strong>CryptoObject</strong> instance and various other checks before initiating the authentication process which is implemented inside onCreate() method.</li>
</ul>
<p><span style="text-decoration: underline;"><strong>Full Code</strong></span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3d5344143049" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">MainActivity.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.fingerprint_demo;

import android.Manifest;
import android.annotation.TargetApi;
import android.app.KeyguardManager;
import android.content.pm.PackageManager;
import android.hardware.fingerprint.FingerprintManager;
import android.os.Build;
import android.os.Bundle;
import android.security.keystore.KeyGenParameterSpec;
import android.security.keystore.KeyPermanentlyInvalidatedException;
import android.security.keystore.KeyProperties;
import android.support.annotation.RequiresApi;
import android.support.v4.app.ActivityCompat;
import android.support.v7.app.AppCompatActivity;
import android.widget.TextView;

import java.io.IOException;
import java.security.InvalidAlgorithmParameterException;
import java.security.InvalidKeyException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.NoSuchProviderException;
import java.security.UnrecoverableKeyException;
import java.security.cert.CertificateException;

import javax.crypto.Cipher;
import javax.crypto.KeyGenerator;
import javax.crypto.NoSuchPaddingException;
import javax.crypto.SecretKey;

public class MainActivity extends AppCompatActivity {
    private KeyStore keyStore;

    // Variable used for storing the key in the Android Keystore container
    private static final String KEY_NAME = "AndroHub";

    private Cipher cipher;

    @RequiresApi(api = Build.VERSION_CODES.M)
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // Initializing both Android Keyguard Manager and Fingerprint Manager
        KeyguardManager keyguardManager = (KeyguardManager) getSystemService(KEYGUARD_SERVICE);
        FingerprintManager fingerprintManager = (FingerprintManager) getSystemService(FINGERPRINT_SERVICE);

        //Find id of Error text
        TextView errorText = (TextView) findViewById(R.id.error_message);


        // Check whether the device has a Fingerprint sensor.
        if (!fingerprintManager.isHardwareDetected()) {
            /**
             * An error message will be displayed if the device does not contain the fingerprint hardware.
             * However if you plan to implement a default authentication method,
             * you can redirect the user to a default authentication activity from here or can skip this method.
             * Example:
             * Intent intent = new Intent(this, YourActivity.class);
             * startActivity(intent);
             * finish();
             */
            errorText.setText(getResources().getString(R.string.fingerprint_not_exist));
        } else {
            // Checks whether fingerprint permission is set on manifest
            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.USE_FINGERPRINT) != PackageManager.PERMISSION_GRANTED) {
                //If permission is not set show error message
                errorText.setText(getResources().getString(R.string.fingerprint_not_enabled));
            } else {
                // Check whether at least one fingerprint is registered on your device
                if (!fingerprintManager.hasEnrolledFingerprints()) {
                    //If no fingerprint is registered show error message
                    errorText.setText(getResources().getString(R.string.fingerprint_not_registered));
                } else {
                    // Checks whether lock screen security is enabled or not
                    if (!keyguardManager.isKeyguardSecure()) {
                        //Show error message when screen security is disabled
                        errorText.setText(getResources().getString(R.string.lock_screen_setting_disabled));
                    } else {

                        //else generate keystore key
                        generateKey();

                        //Now initiate Cipher, if cipher is initiated successfully then proceed
                        if (cipherInit()) {
                            FingerprintManager.CryptoObject cryptoObject = new FingerprintManager.CryptoObject(cipher);
                            FingerPrintHandler helper = new FingerPrintHandler(this, errorText);//Set Fingerprint Handler class
                            helper.startAuth(fingerprintManager, cryptoObject);//now start authentication process
                        }
                    }
                }
            }
        }
    }

    @TargetApi(Build.VERSION_CODES.M)
    protected void generateKey() {
        try {
            // Get the reference to the key store
            keyStore = KeyStore.getInstance("AndroidKeyStore");
        } catch (Exception e) {
            e.printStackTrace();
        }

        KeyGenerator keyGenerator;
        try {
            // Key generator to generate the key
            keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, "AndroidKeyStore");
        } catch (NoSuchAlgorithmException | NoSuchProviderException e) {
            throw new RuntimeException("Failed to get KeyGenerator instance", e);
        }

        try {
            keyStore.load(null);
            keyGenerator.init(new
                    KeyGenParameterSpec.Builder(KEY_NAME,
                    KeyProperties.PURPOSE_ENCRYPT |
                            KeyProperties.PURPOSE_DECRYPT)
                    .setBlockModes(KeyProperties.BLOCK_MODE_CBC)
                    .setUserAuthenticationRequired(true)
                    .setEncryptionPaddings(
                            KeyProperties.ENCRYPTION_PADDING_PKCS7)
                    .build());
            keyGenerator.generateKey();
        } catch (NoSuchAlgorithmException |
                InvalidAlgorithmParameterException
                | CertificateException | IOException e) {
            throw new RuntimeException(e);
        }
    }


    @TargetApi(Build.VERSION_CODES.M)
    public boolean cipherInit() {
        try {
            cipher = Cipher.getInstance(KeyProperties.KEY_ALGORITHM_AES + "/" + KeyProperties.BLOCK_MODE_CBC + "/" + KeyProperties.ENCRYPTION_PADDING_PKCS7);
        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {
            throw new RuntimeException("Failed to get Cipher", e);
        }

        try {
            keyStore.load(null);
            SecretKey key = (SecretKey) keyStore.getKey(KEY_NAME,
                    null);
            cipher.init(Cipher.ENCRYPT_MODE, key);
            return true;
        } catch (KeyPermanentlyInvalidatedException e) {
            return false;
        } catch (KeyStoreException | CertificateException | UnrecoverableKeyException | IOException | NoSuchAlgorithmException | InvalidKeyException e) {
            throw new RuntimeException("Failed to init Cipher", e);
        }

    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-16">16</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-18">18</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-20">20</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-22">22</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-24">24</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-26">26</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-28">28</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-30">30</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-32">32</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-34">34</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-36">36</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-38">38</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-40">40</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-42">42</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-44">44</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-46">46</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-48">48</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-50">50</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-52">52</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-54">54</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-56">56</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-58">58</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-60">60</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-62">62</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-64">64</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-66">66</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-68">68</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-70">70</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-72">72</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-74">74</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-76">76</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-78">78</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-80">80</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-82">82</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-84">84</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-86">86</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-88">88</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-90">90</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-92">92</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-94">94</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-96">96</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-98">98</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-100">100</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-102">102</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-104">104</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-106">106</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-108">108</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-110">110</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-112">112</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-114">114</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-116">116</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-118">118</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-120">120</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-122">122</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-124">124</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-126">126</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-128">128</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-130">130</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-132">132</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-134">134</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-136">136</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-138">138</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-140">140</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-142">142</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-144">144</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-146">146</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-148">148</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-150">150</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-152">152</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-154">154</div><div class="crayon-num" data-line="crayon-5a4d02126f3d5344143049-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3d5344143049-156">156</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">Manifest</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">annotation</span><span class="crayon-sy">.</span><span class="crayon-v">TargetApi</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">KeyguardManager</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-6"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">pm</span><span class="crayon-sy">.</span><span class="crayon-v">PackageManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">hardware</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint</span><span class="crayon-sy">.</span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Build</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Bundle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">keystore</span><span class="crayon-sy">.</span><span class="crayon-v">KeyGenParameterSpec</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-11"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">keystore</span><span class="crayon-sy">.</span><span class="crayon-v">KeyPermanentlyInvalidatedException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-12"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">keystore</span><span class="crayon-sy">.</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-13"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">annotation</span><span class="crayon-sy">.</span><span class="crayon-v">RequiresApi</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-14"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v4</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">ActivityCompat</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-15"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v7</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AppCompatActivity</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-16"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">TextView</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-18"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">IOException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-19"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">InvalidAlgorithmParameterException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-20"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">InvalidKeyException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-21"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">KeyStore</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-22"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">KeyStoreException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-23"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-24"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">NoSuchProviderException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-25"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">UnrecoverableKeyException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-26"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">security</span><span class="crayon-sy">.</span><span class="crayon-v">cert</span><span class="crayon-sy">.</span><span class="crayon-v">CertificateException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-28"><span class="crayon-e">import </span><span class="crayon-v">javax</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">Cipher</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-29"><span class="crayon-e">import </span><span class="crayon-v">javax</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">KeyGenerator</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-30"><span class="crayon-e">import </span><span class="crayon-v">javax</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">NoSuchPaddingException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-31"><span class="crayon-e">import </span><span class="crayon-v">javax</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">SecretKey</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-32">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-33"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MainActivity</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">AppCompatActivity</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">KeyStore </span><span class="crayon-v">keyStore</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Variable used for storing the key in the Android Keystore container</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">KEY_NAME</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"AndroHub"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-38">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Cipher </span><span class="crayon-v">cipher</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-40">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">RequiresApi</span><span class="crayon-sy">(</span><span class="crayon-v">api</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-43"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setContentView</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">layout</span><span class="crayon-sy">.</span><span class="crayon-v">activity_main</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Initializing both Android Keyguard Manager and Fingerprint Manager</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">KeyguardManager </span><span class="crayon-v">keyguardManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">KeyguardManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">KEYGUARD_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">FingerprintManager </span><span class="crayon-v">fingerprintManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">FINGERPRINT_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Find id of Error text</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">TextView </span><span class="crayon-v">errorText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">TextView</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">findViewById</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">error_message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-52">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Check whether the device has a Fingerprint sensor.</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">fingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-e">isHardwareDetected</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-57"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * An error message will be displayed if the device does not contain the fingerprint hardware.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-58"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * However if you plan to implement a default authentication method,</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-59"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * you can redirect the user to a default authentication activity from here or can skip this method.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-60"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * Example:</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-61"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * Intent intent = new Intent(this, YourActivity.class);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-62"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * startActivity(intent);</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-63"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * finish();</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-64"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">errorText</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-e">getResources</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint_not_exist</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Checks whether fingerprint permission is set on manifest</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ActivityCompat</span><span class="crayon-sy">.</span><span class="crayon-e">checkSelfPermission</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Manifest</span><span class="crayon-sy">.</span><span class="crayon-v">permission</span><span class="crayon-sy">.</span><span class="crayon-v">USE_FINGERPRINT</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">PackageManager</span><span class="crayon-sy">.</span><span class="crayon-v">PERMISSION_GRANTED</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If permission is not set show error message</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">errorText</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-e">getResources</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint_not_enabled</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Check whether at least one fingerprint is registered on your device</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">fingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-e">hasEnrolledFingerprints</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If no fingerprint is registered show error message</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">errorText</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-e">getResources</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint_not_registered</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Checks whether lock screen security is enabled or not</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">keyguardManager</span><span class="crayon-sy">.</span><span class="crayon-e">isKeyguardSecure</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Show error message when screen security is disabled</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">errorText</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-e">getResources</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">lock_screen_setting_disabled</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-82">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//else generate keystore key</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">generateKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-85">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Now initiate Cipher, if cipher is initiated successfully then proceed</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">cipherInit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-e">CryptoObject </span><span class="crayon-v">cryptoObject</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-e">CryptoObject</span><span class="crayon-sy">(</span><span class="crayon-v">cipher</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">FingerPrintHandler </span><span class="crayon-v">helper</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">FingerPrintHandler</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">errorText</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Set Fingerprint Handler class</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">helper</span><span class="crayon-sy">.</span><span class="crayon-e">startAuth</span><span class="crayon-sy">(</span><span class="crayon-v">fingerprintManager</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cryptoObject</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//now start authentication process</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-97">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">TargetApi</span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">generateKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Get the reference to the key store</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyStore</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">KeyStore</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-s">"AndroidKeyStore"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-106">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">KeyGenerator </span><span class="crayon-v">keyGenerator</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Key generator to generate the key</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyGenerator</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">KeyGenerator</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">KEY_ALGORITHM_AES</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"AndroidKeyStore"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">NoSuchProviderException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-s">"Failed to get KeyGenerator instance"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-114">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyStore</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyGenerator</span><span class="crayon-sy">.</span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-r">new</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyGenParameterSpec</span><span class="crayon-sy">.</span><span class="crayon-e">Builder</span><span class="crayon-sy">(</span><span class="crayon-v">KEY_NAME</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">PURPOSE_ENCRYPT</span><span class="crayon-h"> </span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">PURPOSE_DECRYPT</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setBlockModes</span><span class="crayon-sy">(</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">BLOCK_MODE_CBC</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setUserAuthenticationRequired</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setEncryptionPaddings</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">ENCRYPTION_PADDING_PKCS7</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-125"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">build</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyGenerator</span><span class="crayon-sy">.</span><span class="crayon-e">generateKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">InvalidAlgorithmParameterException</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">CertificateException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">IOException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-133">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-134">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">TargetApi</span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">cipherInit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-137"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cipher</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Cipher</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">KEY_ALGORITHM_AES</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">BLOCK_MODE_CBC</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">KeyProperties</span><span class="crayon-sy">.</span><span class="crayon-v">ENCRYPTION_PADDING_PKCS7</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">NoSuchPaddingException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-s">"Failed to get Cipher"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-142">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">keyStore</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">SecretKey </span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">SecretKey</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">keyStore</span><span class="crayon-sy">.</span><span class="crayon-e">getKey</span><span class="crayon-sy">(</span><span class="crayon-v">KEY_NAME</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cipher</span><span class="crayon-sy">.</span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-v">Cipher</span><span class="crayon-sy">.</span><span class="crayon-v">ENCRYPT_MODE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-148"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-149"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">KeyPermanentlyInvalidatedException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-151"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">KeyStoreException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">CertificateException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">UnrecoverableKeyException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">IOException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">NoSuchAlgorithmException</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">InvalidKeyException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-152"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RuntimeException</span><span class="crayon-sy">(</span><span class="crayon-s">"Failed to init Cipher"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-154">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3d5344143049-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3d5344143049-156"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0416 seconds] -->
<p>
<b>7</b>. Now create Welcome activity which will open on successful Fingerprint Authentication.</p>
<ul>
<li><strong>welcome_activity.xml</strong></li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3ea656747528" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">welcome_activity.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="vertical"
    android:padding="10dp"&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="@string/successful_message"
        android:textColor="@android:color/white"
        android:textSize="15sp" /&gt;
&lt;/LinearLayout&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3ea656747528-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3ea656747528-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-1"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">"1.0"</span><span class="crayon-h"> </span><span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-ta">?&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-2"><span class="crayon-o">&lt;</span><span class="crayon-e">LinearLayout </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">android</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/apk/res/android"</span></div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">orientation</span><span class="crayon-o">=</span><span class="crayon-s">"vertical"</span></div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">TextView</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"@string/successful_message"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textColor</span><span class="crayon-o">=</span><span class="crayon-s">"@android:color/white"</span></div><div class="crayon-line" id="crayon-5a4d02126f3ea656747528-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textSize</span><span class="crayon-o">=</span><span class="crayon-s">"15sp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3ea656747528-16"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">LinearLayout</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0042 seconds] -->

<ul>
<li><strong>WelcomeActivity.java</strong></li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3f3615104671" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">WelcomeActivity.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.fingerprint_demo;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v7.app.AppCompatActivity;

/**
 * Created by sonu on 24/03/17.
 */

public class WelcomeActivity extends AppCompatActivity {

    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.welcome_activity);
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-16">16</div><div class="crayon-num" data-line="crayon-5a4d02126f3f3615104671-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3f3615104671-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Bundle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">annotation</span><span class="crayon-sy">.</span><span class="crayon-v">Nullable</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v7</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AppCompatActivity</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-7"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-8"><span class="crayon-c"> * Created by sonu on 24/03/17.</span></div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-9"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-10">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-11"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">WelcomeActivity</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">AppCompatActivity</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-12">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-14"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-sy">@</span><span class="crayon-e">Nullable </span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setContentView</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">layout</span><span class="crayon-sy">.</span><span class="crayon-v">welcome_activity</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3f3615104671-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3f3615104671-18"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0035 seconds] -->

<div><b>8</b>. Create a Fingerprint Authentication Handler class and name it <strong>FingerPrintHandler.java</strong>. The Handler class extends <strong>FingerprintManager.AuthenticationCallback</strong> and includes some additional modules so that we can receive event notification and we can know when the authentication succeeded or something went wrong.</div>
<p>There are some important methods to notice. First of all, the doAuth that starts the authentication process. This method has the CryptoObject, a cancellation signal and the callback listener (this class).</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f3fc039027566" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">FingerPrintHandler.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.fingerprint_demo;

import android.Manifest;
import android.annotation.TargetApi;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.hardware.fingerprint.FingerprintManager;
import android.os.Build;
import android.os.CancellationSignal;
import android.support.v4.app.ActivityCompat;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;
import android.widget.TextView;

/**
 * Created by sonu on 24/03/17.
 */

/*  Implement Fingerprint Authentication Callback to get access to Fingerprint methods  */
@TargetApi(Build.VERSION_CODES.M)
public class FingerPrintHandler extends FingerprintManager.AuthenticationCallback {

    private Context context;
    private TextView errorText;

    public FingerPrintHandler(Context mContext,TextView errorText) {
        context = mContext;
        this.errorText=errorText;
    }


    public void startAuth(FingerprintManager manager, FingerprintManager.CryptoObject cryptoObject) {
        CancellationSignal cancellationSignal = new CancellationSignal();
        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.USE_FINGERPRINT) != PackageManager.PERMISSION_GRANTED) {
            return;
        }
        manager.authenticate(cryptoObject, cancellationSignal, 0, this, null);
    }

    /*  Method will call on Fingerprint Auth Error  */
    @Override
    public void onAuthenticationError(int errMsgId, CharSequence errString) {
        this.update("Fingerprint Authentication error\n" + errString);
    }

    /*  Method will call on Fingerprint Auth have some help  */
    @Override
    public void onAuthenticationHelp(int helpMsgId, CharSequence helpString) {
        this.update("Fingerprint Authentication help\n" + helpString);
    }

    /*  Method will call on Fingerprint Auth Failed  */
    @Override
    public void onAuthenticationFailed() {
        this.update("Fingerprint Authentication failed. Please try again.");
    }

    /*  Method will call on Fingerprint Auth Succeeded  */
    @Override
    public void onAuthenticationSucceeded(FingerprintManager.AuthenticationResult result) {
        Log.d("Authentication", "Fingerprint Authentication successful.");
        onAuthSuccess();
    }

    /*  Trigger this method on FingerPrint get Success  */
    private void onAuthSuccess() {
        context.startActivity(new Intent(context, WelcomeActivity.class));
        ((AppCompatActivity) context).finish();
    }


    /*  Method to update Error text message on Auth failed  */
    public void update(String e) {
        errorText.setText(e);
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-2">2</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-4">4</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-6">6</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-8">8</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-10">10</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-12">12</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-14">14</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-16">16</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-18">18</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-20">20</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-22">22</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-24">24</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-26">26</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-28">28</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-30">30</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-32">32</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-34">34</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-36">36</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-38">38</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-40">40</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-42">42</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-44">44</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-46">46</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-48">48</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-50">50</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-52">52</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-54">54</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-56">56</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-58">58</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-60">60</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-62">62</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-64">64</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-66">66</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-68">68</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-70">70</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-72">72</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-74">74</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d02126f3fc039027566-76">76</div><div class="crayon-num" data-line="crayon-5a4d02126f3fc039027566-77">77</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">Manifest</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">annotation</span><span class="crayon-sy">.</span><span class="crayon-v">TargetApi</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-6"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Intent</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">pm</span><span class="crayon-sy">.</span><span class="crayon-v">PackageManager</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">hardware</span><span class="crayon-sy">.</span><span class="crayon-v">fingerprint</span><span class="crayon-sy">.</span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Build</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">CancellationSignal</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-11"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v4</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">ActivityCompat</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-12"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v7</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AppCompatActivity</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-13"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Log</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-14"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">TextView</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-16"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-17"><span class="crayon-c"> * Created by sonu on 24/03/17.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-18"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-20"><span class="crayon-c">/*&nbsp;&nbsp;Implement Fingerprint Authentication Callback to get access to Fingerprint methods&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-21"><span class="crayon-sy">@</span><span class="crayon-e">TargetApi</span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-22"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">FingerPrintHandler </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-i">AuthenticationCallback</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">TextView </span><span class="crayon-v">errorText</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-26">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">FingerPrintHandler</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">mContext</span><span class="crayon-sy">,</span><span class="crayon-e">TextView </span><span class="crayon-v">errorText</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mContext</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">errorText</span><span class="crayon-o">=</span><span class="crayon-v">errorText</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-32">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startAuth</span><span class="crayon-sy">(</span><span class="crayon-e">FingerprintManager </span><span class="crayon-v">manager</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-e">CryptoObject </span><span class="crayon-v">cryptoObject</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CancellationSignal </span><span class="crayon-v">cancellationSignal</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">CancellationSignal</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ActivityCompat</span><span class="crayon-sy">.</span><span class="crayon-e">checkSelfPermission</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Manifest</span><span class="crayon-sy">.</span><span class="crayon-v">permission</span><span class="crayon-sy">.</span><span class="crayon-v">USE_FINGERPRINT</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">PackageManager</span><span class="crayon-sy">.</span><span class="crayon-v">PERMISSION_GRANTED</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">manager</span><span class="crayon-sy">.</span><span class="crayon-e">authenticate</span><span class="crayon-sy">(</span><span class="crayon-v">cryptoObject</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cancellationSignal</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-40">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Method will call on Fingerprint Auth Error&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-43"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onAuthenticationError</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">errMsgId</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">CharSequence </span><span class="crayon-v">errString</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-s">"Fingerprint Authentication error\n"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">errString</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-46">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Method will call on Fingerprint Auth have some help&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-49"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onAuthenticationHelp</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">helpMsgId</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">CharSequence </span><span class="crayon-v">helpString</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-s">"Fingerprint Authentication help\n"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">helpString</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-52">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Method will call on Fingerprint Auth Failed&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-55"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onAuthenticationFailed</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-s">"Fingerprint Authentication failed. Please try again."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-58">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Method will call on Fingerprint Auth Succeeded&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-61"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onAuthenticationSucceeded</span><span class="crayon-sy">(</span><span class="crayon-v">FingerprintManager</span><span class="crayon-sy">.</span><span class="crayon-e">AuthenticationResult </span><span class="crayon-v">result</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Log</span><span class="crayon-sy">.</span><span class="crayon-e">d</span><span class="crayon-sy">(</span><span class="crayon-s">"Authentication"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"Fingerprint Authentication successful."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">onAuthSuccess</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Trigger this method on FingerPrint get Success&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onAuthSuccess</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">WelcomeActivity</span><span class="crayon-sy">.</span><span class="crayon-t">class</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">AppCompatActivity</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">finish</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-72">&nbsp;</div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Method to update Error text message on Auth failed&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">errorText</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d02126f3fc039027566-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d02126f3fc039027566-77"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0175 seconds] -->
<p>
<b>9</b>. Finally you are all done. Now you can test your app in Physical Device or in Emulator. To test the app in emulator follow below steps:</p>
<ul>
<li>Install Android SDK Tools Revision 24.3, if you have not done so.</li>
<li>Enroll a new fingerprint in the emulator by going to <strong>Settings ⇒ Security ⇒ Fingerprint</strong>, then follow the enrolment instructions.</li>
</ul>
<p>Use an emulator to emulate fingerprint touch events with the following command. Use the same command to emulate fingerprint touch events on the lockscreen or in your app.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d02126f40a648194925" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">emulator testing code</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
adb -e emu finger touch &lt;finger_id&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d02126f40a648194925-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d02126f40a648194925-1"><span class="crayon-v">adb</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-e">emu </span><span class="crayon-e">finger </span><span class="crayon-v">touch</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-v">finger_id</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>
Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/FingerPrint_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1186" class="share-twitter sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=twitter" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1186" class="share-facebook sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=facebook" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1186" class="share-google-plus-1 sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=google-plus-1" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow" data-shared="" class="share-jetpack-whatsapp sd-button share-icon no-text" href="whatsapp://send?text=Android%20Fingerprint%20Authentication http%3A%2F%2Fwww.androhub.com%2Fandroid-fingerprint-authentication%2F" target="_blank" title="Click to share on WhatsApp"><span></span><span class="sharing-screen-reader-text">Click to share on WhatsApp (Opens in new window)</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1186" class="share-linkedin sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=linkedin" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li><li class="share-email"><a rel="nofollow" data-shared="" class="share-email sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=email" target="_blank" title="Click to email this to a friend"><span></span><span class="sharing-screen-reader-text">Click to email this to a friend (Opens in new window)</span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/#print" target="_blank" title="Click to print"><span></span><span class="sharing-screen-reader-text">Click to print (Opens in new window)</span></a></li><li class="share-tumblr"><a rel="nofollow" data-shared="" class="share-tumblr sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=tumblr" target="_blank" title="Click to share on Tumblr"><span></span><span class="sharing-screen-reader-text">Click to share on Tumblr (Opens in new window)</span></a></li><li class="share-pinterest"><a rel="nofollow" data-shared="sharing-pinterest-1186" class="share-pinterest sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=pinterest" target="_blank" title="Click to share on Pinterest"><span></span><span class="sharing-screen-reader-text">Click to share on Pinterest (Opens in new window)</span></a></li><li class="share-pocket"><a rel="nofollow" data-shared="" class="share-pocket sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=pocket" target="_blank" title="Click to share on Pocket"><span></span><span class="sharing-screen-reader-text">Click to share on Pocket (Opens in new window)</span></a></li><li class="share-telegram"><a rel="nofollow" data-shared="" class="share-telegram sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=telegram" target="_blank" title="Click to share on Telegram"><span></span><span class="sharing-screen-reader-text">Click to share on Telegram (Opens in new window)</span></a></li><li class="share-skype"><a rel="nofollow" data-shared="sharing-skype-1186" class="share-skype sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=skype" target="_blank" title="Share on Skype"><span></span><span class="sharing-screen-reader-text">Share on Skype (Opens in new window)</span></a></li><li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.androhub.com/android-fingerprint-authentication/?share=reddit" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div>

<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>					</div>
	</div>
</article>

	<section class='about'>
		<h4>About the author</h4>
		<div class='separator'>
			<div></div>
		</div>
		<article class='about-content'>
			<footer>
				<div class='about-helper-absolute'>
					<div class='avatar'>
						<img alt='' src='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=61&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=122&amp;d=mm&amp;r=g 2x' class='avatar avatar-61 photo' height='61' width='61' />					</div>
				</div>
			</footer>
			<div class='about-body'>
				<p>I am an Android developer for whom Android is the one and only love. I work as a freelancer which gets me and Android closer. I always love to share my learnings and love to learn from others knowledge too.</p>
			</div>
		</article>
	</section>
					
	
	
	
	<section class='leave-comment'>
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.androhub.com/android-fingerprint-authentication/#respond" style="display:none;">Cancel Comment</a></small></h3>				<form action="http://www.androhub.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<div class="separator"><div></div></div>
			<div class="input-field text-area">
				<div>
					Comment
					<span>(required)</span>
				</div>
				<div class="input-style dlight-grey sc-input">
					<textarea aria-required="true" rows="1" cols="1" name="comment" id="comment"  aria-required='true'></textarea>
				</div>
			</div><div><p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;span class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; </code></p></div>
					<div class="input-field">
						<div>
							Name <span>(required)</span>
						</div>
						<div class="input-style dlight-grey sc-input">
							<input id="author" type="text"  aria-required='true' size="20" value="" name="author">
						</div>
					</div>

					<div class="input-field">
						<div>
							Email <span>(required)</span>
						</div>
						<div class="input-style dlight-grey sc-input">
							<input id="email" name="email" type="text" value="" size="20" aria-required='true' />
						</div>
					</div>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="SENT" /> <input type='hidden' name='comment_post_ID' value='1186' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="317cc144e7" /></p>
    <style type="text/css">
      .comment-image-captcha {
        margin-bottom: 20px;
      }
      .comment-image-captcha table {
        border-width: 0;
        border: 0;
        padding: 0;
        margin: 0;
      }
      .comment-image-captcha td {
        border-width: 0;
        vertical-align: middle !important;
        padding: 0;
        margin: 0;
        background-color: transparent !important;
      }
      .comment-image-captcha div {
        margin: 0;
      }
      .image-captcha {
        display: none;
      }
      #image-captcha-input {
        width: 100% !important;
        box-sizing: border-box;
        height: auto !important;;
      }
      #image-captcha-refresh {
        width: 20px;
        height: 20px;
        cursor: pointer;
        position: relative;
      }
      #image-captcha-block{
        margin-right: 10px;
        background-color: #ffffff;
      }
      #image-captcha-refresh img {
        width: 20px;
      }
    </style>
    <div class="comment-image-captcha">
      <table style="width: 100%;" class="image-captcha">
        <tr>
          <td style="width: 77px; vertical-align: bottom;">
            <div id="image-captcha-block" style="border: 1px solid #DDDDDD; width: 75px; height: 75px;"><img style="padding: 5px;" src="http://www.androhub.com/wp-content/plugins/image-captcha/images/06-06.png"></div>
          </td>
          <td style="vertical-align: bottom;">
            <table style="width: 100%">
              <tr>
                <td colspan="2"><label for="image-captcha-input">Object in the image</label></td>
              </tr>
              <tr>
                <td style="vertical-align: bottom;">
                  <input style="margin-bottom: 0px;" type="text" class="input" id="image-captcha-input" name="image-captcha-input">
                </td>
                <td style="vertical-align: middle; width: 35px; text-align: center;">
                  <span id="image-captcha-refresh"><img src="http://www.androhub.com/wp-content/plugins/image-captcha/assets/refresh.png"></span>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <!--<div class="comment-image-captcha">
      <table class="image-captcha">
          <tr>
            <td style="width: 77px; vertical-align: bottom">

            </td>
            <td style="vertical-align: bottom;">
              <label for="image-captcha-input">Object in the image</label>
              <table style="display: block;">
                <tr>
                  <td><input style="margin-bottom: 0px;" type="text" value="" class="input" id="image-captcha-input" name="image-captcha-input"></td>
                  <td><div id="image-captcha-refresh"><img src="http://www.androhub.com/wp-content/plugins/image-captcha/assets/refresh.png"></div></td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </div>--><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="132"/></p>				</form>
					</div><!-- #respond -->
			</section>							</div>
		</div>
				<aside class='right-sidebar grid_3'>
	<section id="search-2" class="widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://www.androhub.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></section><section id="facebook-likebox-2" class="widget_facebook_likebox">		<div id="fb-root"></div>
		<div class="fb-page" data-href="https://www.facebook.com/androhubtutorial/" data-width="340"  data-height="432" data-hide-cover="false" data-show-facepile="true" data-show-posts="false">
		<div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/androhubtutorial/"><a href="https://www.facebook.com/androhubtutorial/"></a></blockquote></div>
		</div>
		</section>			<section id="wp_subscribe-2" class="wp_subscribe">	
		<div id="wp-subscribe" class="wp-subscribe-wrap wp-subscribe wp-subscribe-1" data-thanks_page="0" data-thanks_page_url="" data-thanks_page_new_window="0">

			<h4 class="title"></h4>

			<p class="text">Subscribe to our mailing list and get interesting stuff and updates to your email inbox. We don't Spam.</p>

			
			<form action="http://www.androhub.com/android-fingerprint-authentication?name=android-fingerprint-authentication" method="post" class="wp-subscribe-form wp-subscribe-mailchimp" id="wp-subscribe-form-1">

				
				<input class="regular-text email-field" type="text" name="email" placeholder="Enter your email here">

				<input type="hidden" name="form_type" value="widget">

				<input type="hidden" name="service" value="mailchimp">

				<input type="hidden" name="widget" value="wp_subscribe-2">

				<input class="submit" type="submit" name="submit" value="Sign Up Now">

			</form>

			
			<div class="wp-subscribe-loader">
				<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
					<path fill="" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
						<animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
					</path>
				</svg>
			</div>

			<p class="thanks">Thank you for subscribing.</p>
			<p class="error">Something went wrong.</p>
			<div class="clear"></div>

			<p class="footer-text">We respect your privacy and take protecting it seriously.</p>

		</div>

			</section>	
		<section id="recent-posts-2" class="widget_recent_entries">		<h3>Recent Posts</h3>		<ul>
					<li>
				<a href="http://www.androhub.com/authenticate-using-google-sign-in-on-android/">Authenticate Using Google Sign-In on Android</a>
						</li>
					<li>
				<a href="http://www.androhub.com/implementing-android-app-shortcuts/">Implementing Android App Shortcuts</a>
						</li>
					<li>
				<a href="http://www.androhub.com/implement-youtube-player-fragment-android-app/">How to implement Youtube Player Fragment in Android App</a>
						</li>
					<li>
				<a href="http://www.androhub.com/how-to-show-youtube-video-thumbnail-play-youtube-video-in-android-app/">How to show Youtube Video Thumbnail &#038; Play Youtube Video in Android App</a>
						</li>
					<li>
				<a href="http://www.androhub.com/android-confirm-credential-security-lock/">Android Confirm Credential (Security Lock)</a>
						</li>
				</ul>
		</section>		<section id="recent-comments-2" class="widget_recent_comments"><h3>Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://androhub.com/' rel='external nofollow' class='url'>Dr. Droid</a></span> on <a href="http://www.androhub.com/android-expandablelistview/#comment-478">Android ExpandableListView</a></li><li class="recentcomments"><span class="comment-author-link">Mrittunjay</span> on <a href="http://www.androhub.com/android-expandablelistview/#comment-477">Android ExpandableListView</a></li><li class="recentcomments"><span class="comment-author-link">Lawrence</span> on <a href="http://www.androhub.com/android-download-files-save/#comment-476">Android Download Files &#038; Save</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://androhub.com/' rel='external nofollow' class='url'>Dr. Droid</a></span> on <a href="http://www.androhub.com/login-signup-and-forgot-password-screen-design-android/#comment-475">Login, SignUp and Forgot Password Screen Design Android</a></li><li class="recentcomments"><span class="comment-author-link">fawad azam</span> on <a href="http://www.androhub.com/login-signup-and-forgot-password-screen-design-android/#comment-474">Login, SignUp and Forgot Password Screen Design Android</a></li></ul></section><section id="archives-2" class="widget_archive"><h3>Archives</h3>		<ul>
			<li><a href='http://www.androhub.com/2017/12/'>December 2017</a></li>
	<li><a href='http://www.androhub.com/2017/11/'>November 2017</a></li>
	<li><a href='http://www.androhub.com/2017/10/'>October 2017</a></li>
	<li><a href='http://www.androhub.com/2017/07/'>July 2017</a></li>
	<li><a href='http://www.androhub.com/2017/06/'>June 2017</a></li>
	<li><a href='http://www.androhub.com/2017/05/'>May 2017</a></li>
	<li><a href='http://www.androhub.com/2017/04/'>April 2017</a></li>
	<li><a href='http://www.androhub.com/2017/03/'>March 2017</a></li>
	<li><a href='http://www.androhub.com/2017/02/'>February 2017</a></li>
	<li><a href='http://www.androhub.com/2017/01/'>January 2017</a></li>
	<li><a href='http://www.androhub.com/2016/08/'>August 2016</a></li>
	<li><a href='http://www.androhub.com/2016/07/'>July 2016</a></li>
	<li><a href='http://www.androhub.com/2016/06/'>June 2016</a></li>
	<li><a href='http://www.androhub.com/2016/04/'>April 2016</a></li>
	<li><a href='http://www.androhub.com/2016/03/'>March 2016</a></li>
	<li><a href='http://www.androhub.com/2015/12/'>December 2015</a></li>
	<li><a href='http://www.androhub.com/2015/11/'>November 2015</a></li>
	<li><a href='http://www.androhub.com/2015/10/'>October 2015</a></li>
	<li><a href='http://www.androhub.com/2015/09/'>September 2015</a></li>
	<li><a href='http://www.androhub.com/2015/08/'>August 2015</a></li>
	<li><a href='http://www.androhub.com/2015/07/'>July 2015</a></li>
	<li><a href='http://www.androhub.com/2015/06/'>June 2015</a></li>
	<li><a href='http://www.androhub.com/2015/05/'>May 2015</a></li>
	<li><a href='http://www.androhub.com/2015/04/'>April 2015</a></li>
		</ul>
		</section><section id="categories-2" class="widget_categories"><h3>Categories</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="http://www.androhub.com/category/android-actionbar/" >Android Actionbar</a>
</li>
	<li class="cat-item cat-item-500"><a href="http://www.androhub.com/category/android-advanced/" >Android Advanced</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.androhub.com/category/android-animations/" >Android Animations</a>
</li>
	<li class="cat-item cat-item-562"><a href="http://www.androhub.com/category/android-app-shortcuts/" >Android App Shortcuts</a>
</li>
	<li class="cat-item cat-item-541"><a href="http://www.androhub.com/category/android-authentication/" >Android Authentication</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.androhub.com/category/android-autocomplete/" >Android AutoComplete</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.androhub.com/category/android-basics/" >Android Basics</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.androhub.com/category/android-bluetooth/" >Android Bluetooth</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.androhub.com/category/android-cardview/" >Android CardView</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.androhub.com/category/android-clocks/" >Android Clocks</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://www.androhub.com/category/android-contacts/" >Android Contacts</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://www.androhub.com/category/android-content-provider/" >Android Content Provider</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://www.androhub.com/category/android-custom-font/" >Android Custom Font</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://www.androhub.com/category/android-custom-view/" >Android Custom View</a>
</li>
	<li class="cat-item cat-item-13"><a href="http://www.androhub.com/category/android-database/" >Android Database</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.androhub.com/category/android-dialogs/" >Android Dialogs</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://www.androhub.com/category/android-download-files/" >Android Download Files</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://www.androhub.com/category/android-drawer/" >Android Drawer</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://www.androhub.com/category/android-expandablelistview/" >Android ExpandableListView</a>
</li>
	<li class="cat-item cat-item-18"><a href="http://www.androhub.com/category/android-file/" >Android File</a>
</li>
	<li class="cat-item cat-item-489"><a href="http://www.androhub.com/category/android-fingerprint/" >Android FingerPrint</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.androhub.com/category/android-fragment/" >Android Fragment</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://www.androhub.com/category/android-gestures/" >Android Gestures</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://www.androhub.com/category/android-gps/" >Android GPS</a>
</li>
	<li class="cat-item cat-item-22"><a href="http://www.androhub.com/category/android-image-picker/" >Android Image Picker</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://www.androhub.com/category/android-internet-connection/" >Android Internet Connection</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://www.androhub.com/category/android-json/" >Android JSON</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://www.androhub.com/category/android-listview/" >Android ListView</a>
</li>
	<li class="cat-item cat-item-26"><a href="http://www.androhub.com/category/android-material-design/" >Android Material Design</a>
</li>
	<li class="cat-item cat-item-27"><a href="http://www.androhub.com/category/android-navigationdrawer/" >Android NavigationDrawer</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://www.androhub.com/category/android-notification-bar/" >Android Notification Bar</a>
</li>
	<li class="cat-item cat-item-493"><a href="http://www.androhub.com/category/android-palette/" >Android Palette</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://www.androhub.com/category/android-progressbar/" >Android ProgressBar</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://www.androhub.com/category/android-ratingbar/" >Android RatingBar</a>
</li>
	<li class="cat-item cat-item-31"><a href="http://www.androhub.com/category/android-recyclerview/" >Android RecyclerView</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://www.androhub.com/category/android-seekbar/" >Android SeekBar</a>
</li>
	<li class="cat-item cat-item-34"><a href="http://www.androhub.com/category/android-spinner/" >Android Spinner</a>
</li>
	<li class="cat-item cat-item-35"><a href="http://www.androhub.com/category/android-stackview/" >Android StackView</a>
</li>
	<li class="cat-item cat-item-36"><a href="http://www.androhub.com/category/android-swiperefresh-layout/" >Android SwipeRefresh Layout</a>
</li>
	<li class="cat-item cat-item-37"><a href="http://www.androhub.com/category/android-tabs/" >Android Tabs</a>
</li>
	<li class="cat-item cat-item-38"><a href="http://www.androhub.com/category/android-textswitcher/" >Android TextSwitcher</a>
</li>
	<li class="cat-item cat-item-39"><a href="http://www.androhub.com/category/android-toolbar/" >Android ToolBar</a>
</li>
	<li class="cat-item cat-item-40"><a href="http://www.androhub.com/category/android-ui-design/" >Android UI Design</a>
</li>
	<li class="cat-item cat-item-41"><a href="http://www.androhub.com/category/android-viewanimator/" >Android ViewAnimator</a>
</li>
	<li class="cat-item cat-item-42"><a href="http://www.androhub.com/category/android-viewpager/" >Android ViewPager</a>
</li>
	<li class="cat-item cat-item-43"><a href="http://www.androhub.com/category/android-viewswitcher/" >Android ViewSwitcher</a>
</li>
	<li class="cat-item cat-item-44"><a href="http://www.androhub.com/category/android-wifi/" >Android WIFI</a>
</li>
	<li class="cat-item cat-item-446"><a href="http://www.androhub.com/category/google-maps/" >Google Maps</a>
</li>
	<li class="cat-item cat-item-45"><a href="http://www.androhub.com/category/http-requests/" >Http Requests</a>
</li>
	<li class="cat-item cat-item-46"><a href="http://www.androhub.com/category/intent/" >Intent</a>
</li>
		</ul>
</section></aside>	</div>
</div>
<aside class='wrapper lighter-grey'>
	<div class='container'>
		<div class='grid_9'>
			<div class='posts-container'>
				<div class='post-single-pagination'>
					<a href="http://www.androhub.com/android-working-with-camera/" rel="prev">previous post</a><a href="http://www.androhub.com/android-working-palette/" rel="next">next post</a>
				</div>
			</div>
		</div>
	</div>
</aside>
					<footer>
			<div class='wrapper grey'>
				<div class='container'>
						<div class='grid_4'>
			</div>
	<div class='grid_4'>
			</div>
	<div class='grid_4'>
			</div>
				</div>
			</div>
			<div class='wrapper dark-grey copyright-bar'>
				<div class='container'>
					<div class='grid_12'>
						<span class='copyright'>Copyright ® 2015 - 2017 Androhub.com | All rights reserved.</span><span class="copyright" style="float: right;">Powered by <a href="http://pacdevelopers.com/" target="_blank">PAC Developers</a></span>
					</div>
				</div>
			</div>
		</footer>
		<a id="back_to_top" href="#"></a>
					<div style="display:none">
	<div class="grofile-hash-map-ebab67fae339761312d475ef8e13e63d">
	</div>
	<div class="grofile-hash-map-ebab67fae339761312d475ef8e13e63d">
	</div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"http:\/\/www.androhub.com\/android-fingerprint-authentication\/":1186};
	</script>
	<div id="sharing_email" style="display: none;">
		<form action="http://www.androhub.com/android-fingerprint-authentication/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" />
			<script>jQuery( document ).ready( function(){ document.getElementById('jetpack-source_f_name').value = '' });</script>
			
			<img style="float: right; display: none" class="loading" src="http://www.androhub.com/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a rel="nofollow" href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
		<link rel='stylesheet' id='wp-subscribe-css'  href='http://www.androhub.com/wp-content/plugins/wp-subscribe/assets/css/wp-subscribe-form.css?ver=4.5.12' type='text/css' media='all' />
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201801'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2018Janaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/main.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.nicescroll.min.js'></script>
<script type='text/javascript' src='http://heartcode-canvasloader.googlecode.com/files/heartcode-canvasloader-min-0.9.1.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.prettyPhoto.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.flexslider-min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/zozo.tabs.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.isotope.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.iosslider.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/comment-reply.min.js?ver=4.5.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var jpfbembed = {"appid":"249643311490","locale":"en_US"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/_inc/facebook-embed.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/scripts/fitvids.min.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/wp-embed.min.js?ver=4.5.12'></script>
<script async="async" type='text/javascript' src='http://www.androhub.com/wp-content/plugins/akismet/_inc/form.js?ver=4.0.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wp_subscribe = {"ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/wp-subscribe/assets/js/wp-subscribe-form.js?ver=4.5.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=4.4.2'></script>
<script type='text/javascript'>
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-tumblr', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtumblr', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-pocket', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcompocket', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-telegram', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtelegram', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-skype', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomskype', 'menubar=1,resizable=1,width=305,height=665' );
				return false;
			});
</script>
<script type='text/javascript' src='http://stats.wp.com/e-201801.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.4.2',blog:'113004364',post:'1186',tz:'0',srv:'www.androhub.com'} ]);
	_stq.push([ 'clickTrackerInit', '113004364', '1186' ]);
</script>
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-63664503-1']);
			_gaq.push(['_trackPageview']);

			(function() {
			  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
			<div class="media_for_js"></div>
	</body>

<!-- Mirrored from www.androhub.com/android-fingerprint-authentication/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jan 2018 03:29:02 GMT -->
</html>