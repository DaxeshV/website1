<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
	
<!-- Mirrored from www.androhub.com/android-working-with-camera/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jan 2018 03:29:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="UTF-8" />
		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0'>
		<title>Android working with Camera - AndrohubAndrohub</title>
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="pingback" href="http://www.androhub.com/xmlrpc.php" />
					<link rel="shortcut icon" href="http://www.androhub.com/wp-content/uploads/2016/05/app_icon_small.png" type="image/x-icon" />
						
<!-- This site is optimized with the Yoast SEO plugin v4.4 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.androhub.com/android-working-with-camera/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Android working with Camera - Androhub" />
<meta property="og:description" content="Today we are going to learn how to capture image via Camera in Android. Integrating camera can be done in two ways. One is to use android inbuilt camera app which is very easy process. This method won’t give you much control over camera as everything is taken care by inbuilt camera app. This way &hellip;" />
<meta property="og:url" content="http://www.androhub.com/android-working-with-camera/" />
<meta property="og:site_name" content="Androhub" />
<meta property="article:publisher" content="https://www.facebook.com/androhubtutorial/" />
<meta property="article:author" content="facebook.com/sonu.surender" />
<meta property="article:tag" content="camera" />
<meta property="article:tag" content="create directory" />
<meta property="article:tag" content="directory" />
<meta property="article:tag" content="multiple permission" />
<meta property="article:tag" content="onActivityResult" />
<meta property="article:tag" content="permissions" />
<meta property="article:section" content="Android Basics" />
<meta property="article:published_time" content="2017-03-23T12:13:22+00:00" />
<meta property="article:modified_time" content="2017-03-23T12:19:10+00:00" />
<meta property="og:updated_time" content="2017-03-23T12:19:10+00:00" />
<meta property="og:image" content="http://www.androhub.com/wp-content/uploads/2017/03/working_with_camera_banner.jpg" />
<meta property="og:image:width" content="795" />
<meta property="og:image:height" content="413" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Today we are going to learn how to capture image via Camera in Android. Integrating camera can be done in two ways. One is to use android inbuilt camera app which is very easy process. This method won’t give you much control over camera as everything is taken care by inbuilt camera app. This way [&hellip;]" />
<meta name="twitter:title" content="Android working with Camera - Androhub" />
<meta name="twitter:site" content="@sonusurender0" />
<meta name="twitter:image" content="https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/03/working_with_camera_banner.jpg?fit=795%2C413" />
<meta name="twitter:creator" content="@sonusurender0" />
<!-- / Yoast SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Feed" href="http://www.androhub.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Comments Feed" href="http://www.androhub.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Android working with Camera Comments Feed" href="http://www.androhub.com/android-working-with-camera/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.androhub.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.12"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='normalize-css'  href='http://www.androhub.com/wp-content/themes/circles/css/normalize.css' type='text/css' media='all' />
<link rel='stylesheet' id='prettyPhoto-css'  href='http://www.androhub.com/wp-content/themes/circles/css/prettyPhoto.css' type='text/css' media='all' />
<link rel='stylesheet' id='grid-system-css'  href='http://www.androhub.com/wp-content/themes/circles/css/grid-system.css' type='text/css' media='all' />
<link rel='stylesheet' id='main-css'  href='http://www.androhub.com/wp-content/themes/circles/css/main.css' type='text/css' media='all' />
<link rel='stylesheet' id='shortcodes-css'  href='http://www.androhub.com/wp-content/themes/circles/css/shortcodes.css' type='text/css' media='all' />
<link rel='stylesheet' id='widgets-css'  href='http://www.androhub.com/wp-admin/css/widgets.min.css?ver=4.5.12' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='http://www.androhub.com/wp-content/themes/circles/css/font-awesome.css' type='text/css' media='all' />
<link rel='stylesheet' id='icomoon-css'  href='http://www.androhub.com/wp-content/themes/circles/css/icomoon.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsiveness-css'  href='http://www.androhub.com/wp-content/themes/circles/css/media.php?switch_menu_to_mobile=' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='http://www.androhub.com/wp-content/themes/circles/style.css?ver=4.5.12' type='text/css' media='all' />
<!-- Inline jetpack_facebook_likebox -->
<style id='jetpack_facebook_likebox-inline-css' type='text/css'>
.widget_facebook_likebox {
	overflow: hidden;
}

</style>
<link rel='stylesheet' id='tablepress-default-css'  href='http://www.androhub.com/wp-content/plugins/tablepress/css/default.min.css?ver=1.7' type='text/css' media='all' />
<link rel='stylesheet' id='__EPYT__style-css'  href='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/styles/ytprefs.min.css?ver=4.5.12' type='text/css' media='all' />
<style id='__EPYT__style-inline-css' type='text/css'>

                .epyt-gallery-thumb {
                        width: 33.333%;
                }
                
</style>
<link rel='stylesheet' id='social-logos-css'  href='http://www.androhub.com/wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='http://www.androhub.com/wp-content/plugins/jetpack/css/jetpack.css?ver=4.4.2' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var _EPYT_ = {"ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php","security":"83453349b8","gallery_scrolloffset":"20","eppathtoscripts":"http:\/\/www.androhub.com\/wp-content\/plugins\/youtube-embed-plus\/scripts\/","epresponsiveselector":"[\"iframe.__youtube_prefs_widget__\"]","epdovol":"1","version":"11.8.5","evselector":"iframe.__youtube_prefs__[src], iframe[src*=\"youtube.com\/embed\/\"], iframe[src*=\"youtube-nocookie.com\/embed\/\"]","ajax_compat":"","stopMobileBuffer":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/image-captcha/assets/image-captcha.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/scripts/ytprefs.min.js?ver=4.5.12'></script>
<link rel='https://api.w.org/' href='http://www.androhub.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.androhub.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.androhub.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.5.12" />
<link rel='shortlink' href='http://wp.me/p7E9B2-iE' />
<link rel="alternate" type="application/json+oembed" href="http://www.androhub.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androhub.com%2Fandroid-working-with-camera%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.androhub.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androhub.com%2Fandroid-working-with-camera%2F&amp;format=xml" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
<link rel='dns-prefetch' href='http://i0.wp.com/'>
<link rel='dns-prefetch' href='http://i1.wp.com/'>
<link rel='dns-prefetch' href='http://i2.wp.com/'>
<style type='text/css'>img#wpstats{display:none}</style><!--[if lt IE 9]><script src="http://www.androhub.com/wp-content/themes/circles/js/html5.js"></script><![endif]--><!--[if lt IE 7]><script src="http://www.androhub.com/wp-content/themes/circles/js/icomoon.js"></script><![endif]-->	<script type="text/javascript">
		var ajaxurl = 'http://www.androhub.com/wp-admin/admin-ajax.php';
	</script>
				<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,800,300,700" rel="stylesheet" type="text/css">
					<link href="http://fonts.googleapis.com/css?family=Noto+Sans:400,800,300,700" rel="stylesheet" type="text/css">
			<style type="text/css">
					body,
			article .column_post-body,
			.post-body-text,
			.post-area 
			{ font-family: 'Noto Sans'; }
		
		
					.headline h1 { font-family: 'Noto Sans'; }
		
		
					.menu .menu-item a,
			.menu .page_item a { font-family: 'Noto Sans'; }
		
		
					.post-area h1, .post-body-text h1,
			.post-area h2, .post-body-text h2,
			.post-area h3, .post-body-text h3,
			.post-area h4, .post-body-text h4,
			.post-area h5, .post-body-text h5,
			.post-area h6, .post-body-text h6, aside h5 {
				font-family: 'Noto Sans';
			}
		
		
		
		
		
		
		
		
		#logo {
											}
		
			</style>
	<style type="text/css" id="dynamic-styles">
				
			
	
	
			
			
			
			
		
			
		
	
			
	
	
	
	
	
	
	
		</style>
			<style type="text/css">
			div.wrapper.menu-bg {
    display: none;
}
.right-sidebar h3{
    margin-top: 15px;
    margin-bottom: 1px;
}

footer .wrapper.grey {
    display: none;
}
.form-allowed-tags {
    display: none;
}
.headline.marble h1 {
    display: none;
}

.wrapper.headline {
    height: 36px;
}
.header-image {
    height: 50px;
    background-position: center;
}
.header-image {
    height: 50px;
}
.logo img {
    position: absolute;
    top: -18px;
    height: 87px;
    width: 270px;
    z-index: 105;
}
.marble {
    background-color: #91C448 !important;
}
.marble .page-path span,.marble .page-path a {
    color: #FFFFFF;
}
.widget_search {
    margin-bottom: 15px;
}
.grid_12 {
    margin: -8px 1.25%;
}		</style>
			<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		
<style id="custom-css-css">.phone-icon{right:522px;position:absolute;top:33px;display:inline-block;height:16px;padding:1px 0;font-size:13px;font-weight:700;margin-right:10px;padding-left:25px;background:url(http://www.androhub.com/downloads/ic_phone.png);background-position:left center;background-repeat:no-repeat}.email-icon{right:319px;position:absolute;top:33px;display:inline-block;height:16px;padding:1px 0;font-size:13px;font-weight:700;margin-right:10px;padding-left:25px;background:url(http://www.androhub.com/downloads/ic_email.png);background-position:left center;background-repeat:no-repeat}</style>
	</head>
	<body class="single single-post postid-1156 single-format-standard w1170 sticky-menu-on nice-scroll">
    
			<div class="preloading-screen" style=" background: #fff center no-repeat fixed">
			<div class="spinners">
				<div class="bounce1"></div>
			</div>
		</div>
					<header class='page-header'>
	
		
	<div class='wrapper wrapper-bg'>
		<div class='container'>
			<div class='grid_12'>
				<div class='logo'>
																					<a href='http://www.androhub.com/' title="Androhub" rel="home"><img src="http://androhub.com/wp-content/uploads/2016/05/andro_new.png" class="" alt="Androhub" /></a>
				</div>
				
<!-- Header Contact -->
<div class="phone-icon">
<span>+91 9008091580</span>
</div>

<div class="email-icon">
<span>surender@androhub.com</span>
</div>
<!--  Exit  -->


				<ul class='socials'>
											<li>
							<span class="tran02slinear"></span>
							<a class='facebook tran02slinear' href='https://www.facebook.com/sonu.surender' title="Facebook" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='twitter tran02slinear' href='https://twitter.com/sonusurender0' title="Twitter" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='youtube tran02slinear' href='https://www.youtube.com/channel/UCHJh3E9mtRzbM3WVVl9glJg' title="Youtube" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='google-plus tran02slinear' href='https://plus.google.com/u/0/+SurenderKumarandrohub' title="Google+" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='linkedin tran02slinear' href='https://in.linkedin.com/in/surender-kumar-681472a8' title="LinkedIn" target="_blank"></a>
						</li>
														</ul>
			</div>
		</div>
	</div>
	<div class='absolute'>
		<div class='wrapper menu-bg custom-menu-bg border-bottom-black-tr'>
			<div class='container'>
										<a id="menu-btn" href="#"></a>

						<nav class="menu"><ul><li ><a href="http://www.androhub.com/">Home</a></li></ul></nav>

					<ul class='socials mobile-socials'>
											<li>
							<span class="tran02slinear"></span>
							<a class='facebook tran02slinear' href='https://www.facebook.com/sonu.surender' title="Facebook" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='twitter tran02slinear' href='https://twitter.com/sonusurender0' title="Twitter" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='youtube tran02slinear' href='https://www.youtube.com/channel/UCHJh3E9mtRzbM3WVVl9glJg' title="Youtube" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='google-plus tran02slinear' href='https://plus.google.com/u/0/+SurenderKumarandrohub' title="Google+" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='linkedin tran02slinear' href='https://in.linkedin.com/in/surender-kumar-681472a8' title="LinkedIn" target="_blank"></a>
						</li>
														</ul>
			</div>
		</div>
			<div class='wrapper headline  marble border-bottom-black-tr'>
		<div class='container'>
			<div class='grid_12'>
									<h1>Blog</h1>
													<div class='page-path'>
						<div id="crumbs" xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.androhub.com/">Home</a></span> <span class="delimiter">|</span> <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.androhub.com/category/android-basics/">Android Basics</a></span> <span class="delimiter">|</span> <span class="current">Android working with Camera</span></div>					</div>
							</div>
		</div>
	</div>
	</div>
</header><div class='wrapper header-image '></div>
<div class='wrapper'>
	<div class='container main'>
						<div class='post-area grid_9'>
			<div class='posts-container'>
													<article id="post-1156" class="post  center post-1156 type-post status-publish format-standard has-post-thumbnail hentry category-android-basics tag-camera tag-create-directory tag-directory tag-multiple-permission tag-onactivityresult tag-permissions">
		<header>
		<a href='http://www.androhub.com/android-working-with-camera/'><h2>Android working with Camera</h2></a>
	</header>
	<footer>
	<div class='post-helper-absolute'>
		<div class='avatar big'>
			<img alt='' src='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=61&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=122&amp;d=mm&amp;r=g 2x' class='avatar avatar-61 photo' height='61' width='61' />		</div>
		<div class='post-comments'>
			<span>0</span>
		</div>
		<div class='post-author'>
			By			<span>
				<a href="http://www.androhub.com/author/droid/" title="Posts by Dr. Droid" rel="author">Dr. Droid</a>			</span>
		</div>
		<div class='post-type'>
			<span></span>
		</div>
	</div>
	<div class='post-date'>
		<span>March 23, 2017</span>
	</div>
			<div class='post-category'>
			<span>
				<a href="http://www.androhub.com/category/android-basics/" rel="category tag">Android Basics</a>			</span>
		</div>
		<div class='separator'>
	</div>
</footer>	<div class="post-body clearfix">
					<article class='item-con-t1'>
				<div class='container-t1'>
					<div class='container-t1-margin'>
						<img src="http://www.androhub.com/wp-content/uploads/freshizer/2cedcbe9be0d524a70fa764bbe006984_working_with_camera_banner-863-430-c.jpg" class="wp-post-image" width="863" height="430" alt="Android working with Camera"  />					</div>
				</div>
				<div class='blue-line'></div>
			</article>
				<div class='post-body-text'>
			<p>Today we are going to learn how to capture image via Camera in Android.</p>
<p>Integrating camera can be done in two ways. One is to use android inbuilt camera app which is very easy process. This method won’t give you much control over camera as everything is taken care by inbuilt camera app. This way will be appropriate when your app need just a picture or video from camera.</p>
<p>Second way is to build a custom camera interface and adding the functionality. This needs higher effort as we have to do everything by our own. Building custom camera interface will be useful when you are building an app which mainly deals with images and videos like WhatsApp.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/" target="_blank">Marshmallow Permission.</a></li>
<li><a href="http://www.androhub.com/android-startactivityforresult/" target="_blank">Activity with Result.</a></li>
</ol>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_35902" width="602" height="339" src="https://www.youtube.com/embed/8ps9inZo7Ws?enablejsapi=1&amp;autoplay=0&amp;cc_load_policy=0&amp;iv_load_policy=1&amp;loop=0&amp;modestbranding=0&amp;rel=1&amp;showinfo=1&amp;fs=1&amp;theme=dark&amp;color=red&amp;autohide=2&amp;controls=2&amp;playsinline=0&amp;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values. These are some strings that we are going to use in our project.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be88f2802484112" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">strings.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;resources&gt;
    &lt;string name="app_name"&gt;Camera Demo&lt;/string&gt;
    &lt;string name="capture"&gt;Capture&lt;/string&gt;
    &lt;string name="camera_not_supported"&gt;Your Device doesn\'t Support Camera.&lt;/string&gt;
    &lt;string name="capture_image_failed"&gt;Failed to capture image.&lt;/string&gt;
    &lt;string name="permission_message"&gt;Both permissions are required. Please allow both permission to take picture.&lt;/string&gt;
    &lt;string name="cancel_message"&gt;Cancelled by user.&lt;/string&gt;
    &lt;string name="capture_deny_message"&gt;Capture image won\'t work without both permissions.&lt;/string&gt;
&lt;/resources&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be88f2802484112-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88f2802484112-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be88f2802484112-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88f2802484112-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be88f2802484112-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88f2802484112-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be88f2802484112-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88f2802484112-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be88f2802484112-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be88f2802484112-1"><span class="crayon-o">&lt;</span><span class="crayon-v">resources</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88f2802484112-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"app_name"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Camera </span><span class="crayon-v">Demo</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be88f2802484112-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"capture"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Capture</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88f2802484112-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"camera_not_supported"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Your </span><span class="crayon-e">Device </span><span class="crayon-v">doesn</span><span class="crayon-sy">\</span>'<span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-e">Support </span><span class="crayon-v">Camera</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be88f2802484112-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"capture_image_failed"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Failed </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">capture </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88f2802484112-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"permission_message"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Both </span><span class="crayon-e">permissions </span><span class="crayon-e">are </span><span class="crayon-v">required</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Please </span><span class="crayon-e">allow </span><span class="crayon-e">both </span><span class="crayon-e">permission </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">take </span><span class="crayon-v">picture</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be88f2802484112-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"cancel_message"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Cancelled </span><span class="crayon-e">by </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88f2802484112-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"capture_deny_message"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Capture </span><span class="crayon-e">image </span><span class="crayon-v">won</span><span class="crayon-sy">\</span>'<span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-e">work </span><span class="crayon-e">without </span><span class="crayon-e">both </span><span class="crayon-v">permissions</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be88f2802484112-9"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">resources</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0052 seconds] -->
<p>
<b>3</b>. Now open <em>activity_main.xml</em> and all the below layout code to it. It contains one Button to trigger capture image and an ImageView to display captured image.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be88ff515697467" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">activity_main.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="10dp"
    tools:context="com.camera_demo.MainActivity"&gt;

    &lt;Button
        android:id="+id/capture_image"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:onClick="captureImage"
        android:text="string/capture"
        android:textColor="android:color/white"
        android:textSize="15sp" /&gt;

    &lt;!--  ImageView to display captured Image --&gt;
    &lt;ImageView
        android:id="+id/image_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scaleType="centerCrop" /&gt;
&lt;/LinearLayout&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-22">22</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be88ff515697467-24">24</div><div class="crayon-num" data-line="crayon-5a4d021be88ff515697467-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be88ff515697467-1"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">"1.0"</span><span class="crayon-h"> </span><span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-ta">?&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-2"><span class="crayon-o">&lt;</span><span class="crayon-e">LinearLayout </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">android</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/apk/res/android"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">tools</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/tools"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">orientation</span><span class="crayon-o">=</span><span class="crayon-s">"vertical"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tools</span><span class="crayon-o">:</span><span class="crayon-v">context</span><span class="crayon-o">=</span><span class="crayon-s">"com.camera_demo.MainActivity"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">Button</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"+id/capture_image"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">onClick</span><span class="crayon-o">=</span><span class="crayon-s">"captureImage"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"string/capture"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textColor</span><span class="crayon-o">=</span><span class="crayon-s">"android:color/white"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textSize</span><span class="crayon-o">=</span><span class="crayon-s">"15sp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-18">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">ImageView </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">display </span><span class="crayon-e">captured </span><span class="crayon-v">Image</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">ImageView</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-21"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"+id/image_view"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"match_parent"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be88ff515697467-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">scaleType</span><span class="crayon-o">=</span><span class="crayon-s">"centerCrop"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be88ff515697467-25"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">LinearLayout</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0097 seconds] -->
<p>
<b>4</b>. Open your <em>AndroidManifest.xml</em> and add the below permissions into it. This permissions will require to Capture Image.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be8906000178778" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">AndroidManifest.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    &lt;!--  Permission required for CAMERA  --&gt;
    &lt;uses-permission android:name="android.permission.CAMERA" /&gt;

    &lt;!--  To write External Storage --&gt;
    &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be8906000178778-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8906000178778-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be8906000178778-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8906000178778-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be8906000178778-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be8906000178778-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">Permission </span><span class="crayon-e">required </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">CAMERA</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8906000178778-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">uses</span><span class="crayon-o">-</span><span class="crayon-e">permission </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.permission.CAMERA"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be8906000178778-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8906000178778-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">To</span><span class="crayon-h"> </span><span class="crayon-e">write </span><span class="crayon-e">External </span><span class="crayon-v">Storage</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be8906000178778-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">uses</span><span class="crayon-o">-</span><span class="crayon-e">permission </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.permission.WRITE_EXTERNAL_STORAGE"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0021 seconds] -->
<p>
<b>5</b>. Now open your <em>MainActivity.java</em> and follow the below steps to implement capture image functionality:</p>
<ul>
<li><a href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/" target="_blank"><strong>Check CAMERA permission (for Lollipop+ Devices)</strong></a></li>
<li><strong>Check Camera Supportability</strong></li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be890b018363024" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">camera supportability</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// Checking camera supportability
    private boolean isDeviceSupportCamera() {
        if (getPackageManager().hasSystemFeature(
                PackageManager.FEATURE_CAMERA))
            return true;
        else {
            Toast.makeText(MainActivity.this, getResources().getString(R.string.camera_not_supported), Toast.LENGTH_SHORT).show();
            return false;
        }
    }

&lt;ul&gt;
 	&lt;li&gt;&lt;strong&gt; Take Picture&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;pre class="lang:default decode:true" title="take picture"&gt;   /*  Capture Image Method  */
    private void captureImage() {
        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);//Start intent with Action_Image_Capture
        fileUri = CameraUtils.getOutputMediaFileUri(this);//get fileUri from CameraUtils
        intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);//Send fileUri with intent
        startActivityForResult(intent, CAMERA_REQUEST_CODE);//start activity for result with CAMERA_REQUEST_CODE
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be890b018363024-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be890b018363024-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be890b018363024-1"><span class="crayon-c">// Checking camera supportability</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isDeviceSupportCamera</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">getPackageManager</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">hasSystemFeature</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PackageManager</span><span class="crayon-sy">.</span><span class="crayon-v">FEATURE_CAMERA</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">getResources</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">camera_not_supported</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-12"><span class="crayon-o">&lt;</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-13"><span class="crayon-h"> 	</span><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-v">strong</span><span class="crayon-o">&gt;</span> <span class="crayon-e">Take </span><span class="crayon-v">Picture</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">strong</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-14"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-15"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-16"><span class="crayon-o">&lt;</span><span class="crayon-e">pre </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"lang:default decode:true"</span><span class="crayon-h"> </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"take picture"</span><span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">/*&nbsp;&nbsp;Capture Image Method&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">captureImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Intent </span><span class="crayon-v">intent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">ACTION_IMAGE_CAPTURE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Start intent with Action_Image_Capture</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CameraUtils</span><span class="crayon-sy">.</span><span class="crayon-e">getOutputMediaFileUri</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//get fileUri from CameraUtils</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">intent</span><span class="crayon-sy">.</span><span class="crayon-e">putExtra</span><span class="crayon-sy">(</span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">EXTRA_OUTPUT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Send fileUri with intent</span></div><div class="crayon-line" id="crayon-5a4d021be890b018363024-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">startActivityForResult</span><span class="crayon-sy">(</span><span class="crayon-v">intent</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CAMERA_REQUEST_CODE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//start activity for result with CAMERA_REQUEST_CODE</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be890b018363024-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0070 seconds] -->

<ul>
<li><strong>Get Result in onActivityResult : </strong>You will get captured image in <strong>onActivityResult</strong> method.</li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be8911354319807" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">onActivityResult</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
 @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        switch (requestCode) {
            case CAMERA_REQUEST_CODE:
                try {
                    //When image is captured successfully
                    if (resultCode == RESULT_OK) {

                        //Check if device SDK is greater than 22 then we get the actual image path via below method
                        if (Build.VERSION.SDK_INT &gt; 22)
                            getImageUrl = ImagePath_MarshMallow.getPath(MainActivity.this, fileUri);
                        else
                            //else we will get path directly
                            getImageUrl = fileUri.getPath();


                        //After image capture show captured image over image view
                        showCapturedImage();
                    } else
                        Toast.makeText(this, R.string.cancel_message, Toast.LENGTH_SHORT).show();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                break;

        }
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-22">22</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-24">24</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-26">26</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8911354319807-28">28</div><div class="crayon-num" data-line="crayon-5a4d021be8911354319807-29">29</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be8911354319807-1"><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-2"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onActivityResult</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">requestCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">resultCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Intent </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onActivityResult</span><span class="crayon-sy">(</span><span class="crayon-v">requestCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resultCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">switch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">requestCode</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-v">CAMERA_REQUEST_CODE</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//When image is captured successfully</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">resultCode</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">RESULT_OK</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Check if device SDK is greater than 22 then we get the actual image path via below method</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION</span><span class="crayon-sy">.</span><span class="crayon-v">SDK_INT</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">22</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ImagePath_MarshMallow</span><span class="crayon-sy">.</span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//else we will get path directly</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">.</span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-16">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8911354319807-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//After image capture show captured image over image view</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">showCapturedImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">cancel_message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8911354319807-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8911354319807-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0075 seconds] -->

<ul>
<li><strong>Displaying Captured Image : </strong>Display captured image by converting into <strong>Bitmap</strong>. Helper methods are in next point.</li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be8917348627419" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">display image</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
 /*  Show Captured over ImageView  */
    private void showCapturedImage() {
        if (!getImageUrl.equals("") &amp;&amp; getImageUrl != null)
            imageView.setImageBitmap(CameraUtils.convertImagePathToBitmap(getImageUrl, false));
        else
            Toast.makeText(this, R.string.capture_image_failed, Toast.LENGTH_SHORT).show();
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be8917348627419-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8917348627419-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be8917348627419-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8917348627419-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be8917348627419-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8917348627419-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be8917348627419-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be8917348627419-1"><span class="crayon-h"> </span><span class="crayon-c">/*&nbsp;&nbsp;Show Captured over ImageView&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8917348627419-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">showCapturedImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8917348627419-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">getImageUrl</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8917348627419-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">imageView</span><span class="crayon-sy">.</span><span class="crayon-e">setImageBitmap</span><span class="crayon-sy">(</span><span class="crayon-v">CameraUtils</span><span class="crayon-sy">.</span><span class="crayon-e">convertImagePathToBitmap</span><span class="crayon-sy">(</span><span class="crayon-v">getImageUrl</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8917348627419-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8917348627419-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">capture_image_failed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8917348627419-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0030 seconds] -->

<ul>
<li><strong>Handle Uri NullPointer Exception </strong></li>
</ul>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be891c489141932" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">handling null pointer</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
  /**
     * Here we store the file url as it will be null after returning from camera
     * app
     */
    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        // save file url in bundle as it will be null on scren orientation
        // changes
        outState.putParcelable("file_uri", fileUri);
    }

    /*
     * Here we restore the fileUri again
     */
    @Override
    protected void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
        // get the file url
        fileUri = savedInstanceState.getParcelable("file_uri");
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be891c489141932-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be891c489141932-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be891c489141932-1"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-2"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * Here we store the file url as it will be null after returning from camera</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-3"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * app</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-4"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-6"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onSaveInstanceState</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">outState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onSaveInstanceState</span><span class="crayon-sy">(</span><span class="crayon-v">outState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// save file url in bundle as it will be null on scren orientation</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// changes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">outState</span><span class="crayon-sy">.</span><span class="crayon-e">putParcelable</span><span class="crayon-sy">(</span><span class="crayon-s">"file_uri"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-12">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be891c489141932-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-14"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * Here we restore the fileUri again</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-15"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-17"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onRestoreInstanceState</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onRestoreInstanceState</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// get the file url</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be891c489141932-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">.</span><span class="crayon-e">getParcelable</span><span class="crayon-sy">(</span><span class="crayon-s">"file_uri"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be891c489141932-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0034 seconds] -->

<span style="text-decoration: underline;"><strong>Full Code:</strong></span><br />
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be8921721171000" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">MainActivity.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.camera_demo;

import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.provider.MediaStore;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AlertDialog;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.ImageView;
import android.widget.Toast;

import java.util.ArrayList;

import static android.Manifest.permission.CAMERA;
import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;

public class MainActivity extends AppCompatActivity {
    public static final int PERMISSION_REQUEST_CODE = 114;//request code for Camera and External Storage permission
    private static final int CAMERA_REQUEST_CODE = 133;//request code for capture image

    private Uri fileUri = null;//Uri to capture image
    private String getImageUrl = "";
    private ImageView imageView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        imageView = (ImageView) findViewById(R.id.image_view);
    }


    /*  Check both permissions  */
    private boolean checkPermission() {
        ArrayList&lt;String&gt; permissions = new ArrayList&lt;&gt;();
        for (String permission : getAllPermissions()) {
            int result = checkPermission(this, permission);
            if (result != PackageManager.PERMISSION_GRANTED) {
                permissions.add(permission);
            }
        }
        //If both permissions are granted
        if (permissions.size() == 0)
            allPermissionGranted();
        else
            //if any one of them are not granted then request permission
            requestPermission(permissions.toArray(new String[permissions.size()]));
        return true;
    }

    /*   on both permission granted  */
    private void allPermissionGranted() {
        //Initiate capture image method
        if (isDeviceSupportCamera())
            captureImage();
    }

    /*  Request permissions  */
    private void requestPermission(String[] permissions) {
        ActivityCompat.requestPermissions(this, permissions, PERMISSION_REQUEST_CODE);
    }

    /*  Permissions string array  */
    private String[] getAllPermissions() {
        return new String[]{CAMERA, WRITE_EXTERNAL_STORAGE};
    }

    /*  Method to check permissions  */
    public static int checkPermission(final Context context, String permission) {
        return ContextCompat.checkSelfPermission(context, permission);
    }

    /*  on Capture image button click check permissions  */
    public void captureImage(View view) {
        checkPermission();
    }

    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {
        switch (requestCode) {
            case PERMISSION_REQUEST_CODE:
                if (grantResults.length &gt; 0) {
                    int counter = 0;//counter to traverse all permissions
                    for (int result : grantResults) {
                        if (result != PackageManager.PERMISSION_GRANTED) {
                            //show alert dialog if any of the permission denied
                            showMessageOKCancel(getString(R.string.permission_message),
                                    new DialogInterface.OnClickListener() {
                                        @Override
                                        public void onClick(DialogInterface dialog, int which) {
                                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {
                                                //If user click on OK button check permission again.
                                                checkPermission();
                                            }
                                        }
                                    }, new DialogInterface.OnClickListener() {
                                        @Override
                                        public void onClick(DialogInterface dialog, int which) {
                                            Toast.makeText(MainActivity.this, R.string.capture_deny_message, Toast.LENGTH_SHORT).show();
                                        }
                                    });
                            return;
                        } else {
                            counter++;
                            //If counter is equal to permissions length mean all permission granted.
                            if (counter == permissions.length)
                                allPermissionGranted();
                        }
                    }

                }


                break;
        }
    }


    /*  Alert dialog on permission denied    */
    private void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener, DialogInterface.OnClickListener cancelListener) {
        new AlertDialog.Builder(MainActivity.this)
                .setMessage(message)
                .setPositiveButton(android.R.string.ok, okListener)
                .setNegativeButton(android.R.string.cancel, cancelListener)
                .setCancelable(false)
                .create()
                .show();
    }

    // Checking camera supportability
    private boolean isDeviceSupportCamera() {
        if (getPackageManager().hasSystemFeature(
                PackageManager.FEATURE_CAMERA))
            return true;
        else {
            Toast.makeText(MainActivity.this, getResources().getString(R.string.camera_not_supported), Toast.LENGTH_SHORT).show();
            return false;
        }

    }

    /*  Capture Image Method  */
    private void captureImage() {
        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);//Start intent with Action_Image_Capture
        fileUri = CameraUtils.getOutputMediaFileUri(this);//get fileUri from CameraUtils
        intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);//Send fileUri with intent
        startActivityForResult(intent, CAMERA_REQUEST_CODE);//start activity for result with CAMERA_REQUEST_CODE
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        switch (requestCode) {
            case CAMERA_REQUEST_CODE:
                try {
                    //When image is captured successfully
                    if (resultCode == RESULT_OK) {

                        //Check if device SDK is greater than 22 then we get the actual image path via below method
                        if (Build.VERSION.SDK_INT &gt; 22)
                            getImageUrl = ImagePath_MarshMallow.getPath(MainActivity.this, fileUri);
                        else
                            //else we will get path directly
                            getImageUrl = fileUri.getPath();


                        //After image capture show captured image over image view
                        showCapturedImage();
                    } else
                        Toast.makeText(this, R.string.cancel_message, Toast.LENGTH_SHORT).show();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                break;

        }
    }


    /*  Show Captured over ImageView  */
    private void showCapturedImage() {
        if (!getImageUrl.equals("") &amp;&amp; getImageUrl != null)
            imageView.setImageBitmap(CameraUtils.convertImagePathToBitmap(getImageUrl, false));
        else
            Toast.makeText(this, R.string.capture_image_failed, Toast.LENGTH_SHORT).show();
    }

    /**
     * Here we store the file url as it will be null after returning from camera
     * app
     */
    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        // save file url in bundle as it will be null on scren orientation
        // changes
        outState.putParcelable("file_uri", fileUri);
    }

    /*
     * Here we restore the fileUri again
     */
    @Override
    protected void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
        // get the file url
        fileUri = savedInstanceState.getParcelable("file_uri");
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-22">22</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-24">24</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-26">26</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-28">28</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-30">30</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-32">32</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-34">34</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-36">36</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-38">38</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-40">40</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-42">42</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-44">44</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-46">46</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-48">48</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-50">50</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-52">52</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-54">54</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-56">56</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-58">58</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-60">60</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-62">62</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-64">64</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-66">66</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-68">68</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-70">70</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-72">72</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-74">74</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-76">76</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-78">78</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-80">80</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-82">82</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-84">84</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-86">86</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-88">88</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-90">90</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-92">92</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-94">94</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-96">96</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-98">98</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-100">100</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-102">102</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-104">104</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-106">106</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-108">108</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-110">110</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-112">112</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-114">114</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-116">116</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-118">118</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-120">120</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-122">122</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-124">124</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-126">126</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-128">128</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-130">130</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-132">132</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-134">134</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-136">136</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-138">138</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-140">140</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-142">142</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-144">144</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-146">146</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-148">148</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-150">150</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-152">152</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-154">154</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-156">156</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-158">158</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-160">160</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-162">162</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-164">164</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-166">166</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-168">168</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-170">170</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-172">172</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-174">174</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-176">176</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-178">178</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-180">180</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-182">182</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-184">184</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-186">186</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-188">188</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-190">190</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-192">192</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-194">194</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-196">196</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-198">198</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-200">200</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-202">202</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-204">204</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-206">206</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-208">208</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-210">210</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-212">212</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-214">214</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-216">216</div><div class="crayon-num" data-line="crayon-5a4d021be8921721171000-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8921721171000-218">218</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be8921721171000-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">camera_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Intent</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-6"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">pm</span><span class="crayon-sy">.</span><span class="crayon-v">PackageManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-v">Uri</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Build</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Bundle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-v">MediaStore</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-11"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">annotation</span><span class="crayon-sy">.</span><span class="crayon-v">NonNull</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-12"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v4</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">ActivityCompat</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-13"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v4</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">ContextCompat</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-14"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v7</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-15"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v7</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AppCompatActivity</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-16"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">view</span><span class="crayon-sy">.</span><span class="crayon-v">View</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-17"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">ImageView</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-18"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">Toast</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-20"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">ArrayList</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-22"><span class="crayon-e">import </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">Manifest</span><span class="crayon-sy">.</span><span class="crayon-v">permission</span><span class="crayon-sy">.</span><span class="crayon-v">CAMERA</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-23"><span class="crayon-e">import </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">Manifest</span><span class="crayon-sy">.</span><span class="crayon-v">permission</span><span class="crayon-sy">.</span><span class="crayon-v">WRITE_EXTERNAL_STORAGE</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-24">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-25"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MainActivity</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">AppCompatActivity</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">PERMISSION_REQUEST_CODE</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">114</span><span class="crayon-sy">;</span><span class="crayon-c">//request code for Camera and External Storage permission</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">CAMERA_REQUEST_CODE</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">133</span><span class="crayon-sy">;</span><span class="crayon-c">//request code for capture image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-28">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Uri </span><span class="crayon-v">fileUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span><span class="crayon-c">//Uri to capture image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">ImageView </span><span class="crayon-v">imageView</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-32">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-34"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setContentView</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">layout</span><span class="crayon-sy">.</span><span class="crayon-v">activity_main</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">imageView</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ImageView</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">findViewById</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">image_view</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-40">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Check both permissions&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">checkPermission</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ArrayList</span><span class="crayon-o">&lt;</span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">permissions</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">ArrayList</span><span class="crayon-o">&lt;&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">permission</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">getAllPermissions</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">checkPermission</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">permission</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">PackageManager</span><span class="crayon-sy">.</span><span class="crayon-v">PERMISSION_GRANTED</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">permissions</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-v">permission</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If both permissions are granted</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">permissions</span><span class="crayon-sy">.</span><span class="crayon-e">size</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">allPermissionGranted</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//if any one of them are not granted then request permission</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">requestPermission</span><span class="crayon-sy">(</span><span class="crayon-v">permissions</span><span class="crayon-sy">.</span><span class="crayon-e">toArray</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-v">permissions</span><span class="crayon-sy">.</span><span class="crayon-e">size</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-58">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp; on both permission granted&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">allPermissionGranted</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Initiate capture image method</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">isDeviceSupportCamera</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">captureImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Request permissions&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">requestPermission</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">permissions</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ActivityCompat</span><span class="crayon-sy">.</span><span class="crayon-e">requestPermissions</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">permissions</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">PERMISSION_REQUEST_CODE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-70">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Permissions string array&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-e">getAllPermissions</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">{</span><span class="crayon-v">CAMERA</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">WRITE_EXTERNAL_STORAGE</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Method to check permissions&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-e">checkPermission</span><span class="crayon-sy">(</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">permission</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">ContextCompat</span><span class="crayon-sy">.</span><span class="crayon-e">checkSelfPermission</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">permission</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-80">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;on Capture image button click check permissions&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">captureImage</span><span class="crayon-sy">(</span><span class="crayon-e">View </span><span class="crayon-v">view</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">checkPermission</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-85">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-87"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onRequestPermissionsResult</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">requestCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-e">NonNull </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">permissions</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-e">NonNull </span><span class="crayon-t">int</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">grantResults</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">switch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">requestCode</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-v">PERMISSION_REQUEST_CODE</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">grantResults</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">counter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-c">//counter to traverse all permissions</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">grantResults</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">PackageManager</span><span class="crayon-sy">.</span><span class="crayon-v">PERMISSION_GRANTED</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//show alert dialog if any of the permission denied</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">showMessageOKCancel</span><span class="crayon-sy">(</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">permission_message</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-98"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-e">DialogInterface </span><span class="crayon-v">dialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">which</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION</span><span class="crayon-sy">.</span><span class="crayon-v">SDK_INT</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">M</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If user click on OK button check permission again.</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">checkPermission</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-106"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-e">DialogInterface </span><span class="crayon-v">dialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">which</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">capture_deny_message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">counter</span><span class="crayon-o">++</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If counter is equal to permissions length mean all permission granted.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">counter</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">permissions</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">allPermissionGranted</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-118">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-120">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-121">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-125">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-126">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Alert dialog on permission denied&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">showMessageOKCancel</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener </span><span class="crayon-v">okListener</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener </span><span class="crayon-v">cancelListener</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">Builder</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setMessage</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setPositiveButton</span><span class="crayon-sy">(</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">ok</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">okListener</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setNegativeButton</span><span class="crayon-sy">(</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">cancel</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cancelListener</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setCancelable</span><span class="crayon-sy">(</span><span class="crayon-t">false</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">create</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-137">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Checking camera supportability</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isDeviceSupportCamera</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">getPackageManager</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">hasSystemFeature</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PackageManager</span><span class="crayon-sy">.</span><span class="crayon-v">FEATURE_CAMERA</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">getResources</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">camera_not_supported</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-147">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-148"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-149">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Capture Image Method&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-151"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">captureImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-152"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Intent </span><span class="crayon-v">intent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">ACTION_IMAGE_CAPTURE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Start intent with Action_Image_Capture</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CameraUtils</span><span class="crayon-sy">.</span><span class="crayon-e">getOutputMediaFileUri</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//get fileUri from CameraUtils</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-154"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">intent</span><span class="crayon-sy">.</span><span class="crayon-e">putExtra</span><span class="crayon-sy">(</span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">EXTRA_OUTPUT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Send fileUri with intent</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">startActivityForResult</span><span class="crayon-sy">(</span><span class="crayon-v">intent</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CAMERA_REQUEST_CODE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//start activity for result with CAMERA_REQUEST_CODE</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-157">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-158"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-159"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onActivityResult</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">requestCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">resultCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Intent </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onActivityResult</span><span class="crayon-sy">(</span><span class="crayon-v">requestCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resultCode</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-161"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">switch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">requestCode</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-v">CAMERA_REQUEST_CODE</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-163"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//When image is captured successfully</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">resultCode</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">RESULT_OK</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-166">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-167"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Check if device SDK is greater than 22 then we get the actual image path via below method</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION</span><span class="crayon-sy">.</span><span class="crayon-v">SDK_INT</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">22</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ImagePath_MarshMallow</span><span class="crayon-sy">.</span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-170"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//else we will get path directly</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">.</span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-173">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-174">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-175"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//After image capture show captured image over image view</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-176"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">showCapturedImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-177"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-178"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">cancel_message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-179"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-180"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-181"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-182">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-183"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-184">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-185"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-186"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-187">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-188">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-189"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Show Captured over ImageView&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-190"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">showCapturedImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-191"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">getImageUrl</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">getImageUrl</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-192"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">imageView</span><span class="crayon-sy">.</span><span class="crayon-e">setImageBitmap</span><span class="crayon-sy">(</span><span class="crayon-v">CameraUtils</span><span class="crayon-sy">.</span><span class="crayon-e">convertImagePathToBitmap</span><span class="crayon-sy">(</span><span class="crayon-v">getImageUrl</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-193"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-194"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">capture_image_failed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-195"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-196">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-197"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-198"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * Here we store the file url as it will be null after returning from camera</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-199"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * app</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-200"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-201"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-202"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onSaveInstanceState</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">outState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-203"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onSaveInstanceState</span><span class="crayon-sy">(</span><span class="crayon-v">outState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-204"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// save file url in bundle as it will be null on scren orientation</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-205"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// changes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-206"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">outState</span><span class="crayon-sy">.</span><span class="crayon-e">putParcelable</span><span class="crayon-sy">(</span><span class="crayon-s">"file_uri"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fileUri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-207"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-208">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8921721171000-209"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-210"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * Here we restore the fileUri again</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-211"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-212"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-213"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onRestoreInstanceState</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-214"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onRestoreInstanceState</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-215"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// get the file url</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-216"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">.</span><span class="crayon-e">getParcelable</span><span class="crayon-sy">(</span><span class="crayon-s">"file_uri"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8921721171000-217"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8921721171000-218"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0754 seconds] -->

<b>6</b>. Create new java class naming <em>CameraUtils.java</em>, this class contains helper methods for camera.<br />
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be8930411977417" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">CameraUtils.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.camera_demo;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.os.Environment;
import android.util.Log;

import java.io.File;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;

/**
 * Created by sonu on 23/03/17.
 */

public class CameraUtils {

    //Get Uri Of captured Image
    public static Uri getOutputMediaFileUri(Context context) {
        File mediaStorageDir = new File(
                context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), "Camera");
        //If File is not present create directory
        if (!mediaStorageDir.exists()) {
            if (mediaStorageDir.mkdir())
                Log.e("Create Directory", "Main Directory Created : " + mediaStorageDir);
        }

        String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss",
                Locale.getDefault()).format(new Date());//Get Current timestamp
        File mediaFile = new File(mediaStorageDir.getPath() + File.separator
                + "IMG_" + timeStamp + ".jpg");//create image path with system mill and image format
        return Uri.fromFile(mediaFile);

    }

    /*  Convert Captured image path into Bitmap to display over ImageView  */
    public static Bitmap convertImagePathToBitmap(String imagePath, boolean scaleBitmap) {
        BitmapFactory.Options bmOptions = new BitmapFactory.Options();
        Bitmap bitmap = BitmapFactory.decodeFile(imagePath, bmOptions);//Decode image path

        //If you want to scale bitmap/reduce captured image size then send true
        if (scaleBitmap)
            return Bitmap.createScaledBitmap(bitmap, 500, 500, true);
        else
            //if you don't want to scale bitmap then send false
            return bitmap;
    }


}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-22">22</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-24">24</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-26">26</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-28">28</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-30">30</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-32">32</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-34">34</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-36">36</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-38">38</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-40">40</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-42">42</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-44">44</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-46">46</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-48">48</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-50">50</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8930411977417-52">52</div><div class="crayon-num" data-line="crayon-5a4d021be8930411977417-53">53</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be8930411977417-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">camera_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">graphics</span><span class="crayon-sy">.</span><span class="crayon-v">Bitmap</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">graphics</span><span class="crayon-sy">.</span><span class="crayon-v">BitmapFactory</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-6"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-v">Uri</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Environment</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Log</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-10"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">File</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-11"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">text</span><span class="crayon-sy">.</span><span class="crayon-v">SimpleDateFormat</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-12"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Date</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-13"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Locale</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-14">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-15"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-16"><span class="crayon-c"> * Created by sonu on 23/03/17.</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-17"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-18">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-19"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">CameraUtils</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-20">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Get Uri Of captured Image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-e">Uri </span><span class="crayon-e">getOutputMediaFileUri</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">File </span><span class="crayon-v">mediaStorageDir</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">File</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">getExternalFilesDir</span><span class="crayon-sy">(</span><span class="crayon-v">Environment</span><span class="crayon-sy">.</span><span class="crayon-v">DIRECTORY_PICTURES</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"Camera"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If File is not present create directory</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">mediaStorageDir</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mediaStorageDir</span><span class="crayon-sy">.</span><span class="crayon-e">mkdir</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Log</span><span class="crayon-sy">.</span><span class="crayon-e">e</span><span class="crayon-sy">(</span><span class="crayon-s">"Create Directory"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"Main Directory Created : "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">mediaStorageDir</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-30">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">timeStamp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">SimpleDateFormat</span><span class="crayon-sy">(</span><span class="crayon-s">"yyyyMMdd_HHmmss"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Locale</span><span class="crayon-sy">.</span><span class="crayon-e">getDefault</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Get Current timestamp</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">File </span><span class="crayon-v">mediaFile</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">File</span><span class="crayon-sy">(</span><span class="crayon-v">mediaStorageDir</span><span class="crayon-sy">.</span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">File</span><span class="crayon-sy">.</span><span class="crayon-v">separator</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"IMG_"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">timeStamp</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".jpg"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//create image path with system mill and image format</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">fromFile</span><span class="crayon-sy">(</span><span class="crayon-v">mediaFile</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-36">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-38">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;Convert Captured image path into Bitmap to display over ImageView&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-e">Bitmap </span><span class="crayon-e">convertImagePathToBitmap</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">imagePath</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">scaleBitmap</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BitmapFactory</span><span class="crayon-sy">.</span><span class="crayon-e">Options </span><span class="crayon-v">bmOptions</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">BitmapFactory</span><span class="crayon-sy">.</span><span class="crayon-e">Options</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Bitmap </span><span class="crayon-v">bitmap</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">BitmapFactory</span><span class="crayon-sy">.</span><span class="crayon-e">decodeFile</span><span class="crayon-sy">(</span><span class="crayon-v">imagePath</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">bmOptions</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//Decode image path</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//If you want to scale bitmap/reduce captured image size then send true</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">scaleBitmap</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Bitmap</span><span class="crayon-sy">.</span><span class="crayon-e">createScaledBitmap</span><span class="crayon-sy">(</span><span class="crayon-v">bitmap</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">500</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">500</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//if you don't want to scale bitmap then send false</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">bitmap</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8930411977417-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8930411977417-52">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8930411977417-53"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0129 seconds] -->

<b>7</b>. For Lollipop+ Devices we will get the actual image path from Uri with the help of below class naming<em> ImagePath_Marshmallow.java</em>. We have to pass the Uri and it will return image path.<br />
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4d021be8938145451310" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">ImagePath_MarshMallow.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.camera_demo;

import android.content.ContentUris;
import android.content.Context;
import android.database.Cursor;
import android.net.Uri;
import android.os.Build;
import android.os.Environment;
import android.provider.DocumentsContract;
import android.provider.MediaStore;

/**
 * Created by SONU on 14/01/16.
 */
public class ImagePath_MarshMallow {
    public  static String getPath(final Context context, final Uri uri) {

        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;

        // DocumentProvider
        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {
            // ExternalStorageProvider
            if (isExternalStorageDocument(uri)) {
                final String docId = DocumentsContract.getDocumentId(uri);
                final String[] split = docId.split(":");
                final String type = split[0];

                if ("primary".equalsIgnoreCase(type)) {
                    return Environment.getExternalStorageDirectory() + "/" + split[1];
                }

                // TODO handle non-primary volumes
            }
            // DownloadsProvider
            else if (isDownloadsDocument(uri)) {

                final String id = DocumentsContract.getDocumentId(uri);
                final Uri contentUri = ContentUris.withAppendedId(
                        Uri.parse("content://downloads/public_downloads"), Long.valueOf(id));

                return getDataColumn(context, contentUri, null, null);
            }
            // MediaProvider
            else if (isMediaDocument(uri)) {
                final String docId = DocumentsContract.getDocumentId(uri);
                final String[] split = docId.split(":");
                final String type = split[0];

                Uri contentUri = null;
                if ("image".equals(type)) {
                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;
                } else if ("video".equals(type)) {
                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;
                } else if ("audio".equals(type)) {
                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;
                }

                final String selection = "_id=?";
                final String[] selectionArgs = new String[]{
                        split[1]
                };

                return getDataColumn(context, contentUri, selection, selectionArgs);
            }
        }
        // MediaStore (and general)
        else if ("content".equalsIgnoreCase(uri.getScheme())) {

            // Return the remote address
            if (isGooglePhotosUri(uri))
                return uri.getLastPathSegment();

            return getDataColumn(context, uri, null, null);
        }
        // File
        else if ("file".equalsIgnoreCase(uri.getScheme())) {
            return uri.getPath();
        }

        return null;
    }

    /**
     * Get the value of the data column for this Uri. This is useful for
     * MediaStore Uris, and other file-based ContentProviders.
     *
     * @param context       The context.
     * @param uri           The Uri to query.
     * @param selection     (Optional) Filter used in the query.
     * @param selectionArgs (Optional) Selection arguments used in the query.
     * @return The value of the _data column, which is typically a file path.
     */
    public static String getDataColumn(Context context, Uri uri, String selection,
                                       String[] selectionArgs) {

        Cursor cursor = null;
        final String column = "_data";
        final String[] projection = {
                column
        };

        try {
            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,
                    null);
            if (cursor != null &amp;&amp; cursor.moveToFirst()) {
                final int index = cursor.getColumnIndexOrThrow(column);
                return cursor.getString(index);
            }
        } finally {
            if (cursor != null)
                cursor.close();
        }
        return null;
    }


    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is ExternalStorageProvider.
     */
    public static boolean isExternalStorageDocument(Uri uri) {
        return "com.android.externalstorage.documents".equals(uri.getAuthority());
    }

    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is DownloadsProvider.
     */
    public static boolean isDownloadsDocument(Uri uri) {
        return "com.android.providers.downloads.documents".equals(uri.getAuthority());
    }

    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is MediaProvider.
     */
    public static boolean isMediaDocument(Uri uri) {
        return "com.android.providers.media.documents".equals(uri.getAuthority());
    }

    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is Google Photos.
     */
    public static boolean isGooglePhotosUri(Uri uri) {
        return "com.google.android.apps.photos.content".equals(uri.getAuthority());
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-2">2</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-4">4</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-6">6</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-8">8</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-10">10</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-12">12</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-14">14</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-16">16</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-18">18</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-20">20</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-22">22</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-24">24</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-26">26</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-28">28</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-30">30</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-32">32</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-34">34</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-36">36</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-38">38</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-40">40</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-42">42</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-44">44</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-46">46</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-48">48</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-50">50</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-52">52</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-54">54</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-56">56</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-58">58</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-60">60</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-62">62</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-64">64</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-66">66</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-68">68</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-70">70</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-72">72</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-74">74</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-76">76</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-78">78</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-80">80</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-82">82</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-84">84</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-86">86</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-88">88</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-90">90</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-92">92</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-94">94</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-96">96</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-98">98</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-100">100</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-102">102</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-104">104</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-106">106</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-108">108</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-110">110</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-112">112</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-114">114</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-116">116</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-118">118</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-120">120</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-122">122</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-124">124</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-126">126</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-128">128</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-130">130</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-132">132</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-134">134</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-136">136</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-138">138</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-140">140</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-142">142</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-144">144</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-146">146</div><div class="crayon-num" data-line="crayon-5a4d021be8938145451310-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4d021be8938145451310-148">148</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4d021be8938145451310-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">camera_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">ContentUris</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">database</span><span class="crayon-sy">.</span><span class="crayon-v">Cursor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-6"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-v">Uri</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Build</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Environment</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-v">DocumentsContract</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-v">MediaStore</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-12"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-13"><span class="crayon-c"> * Created by SONU on 14/01/16.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-14"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-15"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">ImagePath_MarshMallow</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Uri </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isKitKat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION</span><span class="crayon-sy">.</span><span class="crayon-v">SDK_INT</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">Build</span><span class="crayon-sy">.</span><span class="crayon-v">VERSION_CODES</span><span class="crayon-sy">.</span><span class="crayon-v">KITKAT</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// DocumentProvider</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isKitKat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">DocumentsContract</span><span class="crayon-sy">.</span><span class="crayon-e">isDocumentUri</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ExternalStorageProvider</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">isExternalStorageDocument</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">docId</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">DocumentsContract</span><span class="crayon-sy">.</span><span class="crayon-e">getDocumentId</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">split</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">docId</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">":"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">split</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"primary"</span><span class="crayon-sy">.</span><span class="crayon-e">equalsIgnoreCase</span><span class="crayon-sy">(</span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Environment</span><span class="crayon-sy">.</span><span class="crayon-e">getExternalStorageDirectory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">split</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// TODO handle non-primary volumes</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// DownloadsProvider</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">isDownloadsDocument</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-36">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">DocumentsContract</span><span class="crayon-sy">.</span><span class="crayon-e">getDocumentId</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Uri </span><span class="crayon-v">contentUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ContentUris</span><span class="crayon-sy">.</span><span class="crayon-e">withAppendedId</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-s">"content://downloads/public_downloads"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">Long</span><span class="crayon-sy">.</span><span class="crayon-e">valueOf</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-40">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">getDataColumn</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">contentUri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// MediaProvider</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">isMediaDocument</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">docId</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">DocumentsContract</span><span class="crayon-sy">.</span><span class="crayon-e">getDocumentId</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">split</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">docId</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">":"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">split</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-48">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Uri </span><span class="crayon-v">contentUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"image"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contentUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">Images</span><span class="crayon-sy">.</span><span class="crayon-v">Media</span><span class="crayon-sy">.</span><span class="crayon-v">EXTERNAL_CONTENT_URI</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"video"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contentUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">Video</span><span class="crayon-sy">.</span><span class="crayon-v">Media</span><span class="crayon-sy">.</span><span class="crayon-v">EXTERNAL_CONTENT_URI</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"audio"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contentUri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">MediaStore</span><span class="crayon-sy">.</span><span class="crayon-v">Audio</span><span class="crayon-sy">.</span><span class="crayon-v">Media</span><span class="crayon-sy">.</span><span class="crayon-v">EXTERNAL_CONTENT_URI</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">selection</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"_id=?"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">selectionArgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">split</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-62">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">getDataColumn</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">contentUri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">selection</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">selectionArgs</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// MediaStore (and general)</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"content"</span><span class="crayon-sy">.</span><span class="crayon-e">equalsIgnoreCase</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getScheme</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-68">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Return the remote address</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">isGooglePhotosUri</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getLastPathSegment</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-72">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">getDataColumn</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// File</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"file"</span><span class="crayon-sy">.</span><span class="crayon-e">equalsIgnoreCase</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getScheme</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-82">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-84"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * Get the value of the data column for this Uri. This is useful for</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-85"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * MediaStore Uris, and other file-based ContentProviders.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-86"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; *</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-87"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param context&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The context.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-88"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param uri&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Uri to query.</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-89"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param selection&nbsp;&nbsp;&nbsp;&nbsp; (Optional) Filter used in the query.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-90"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param selectionArgs (Optional) Selection arguments used in the query.</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-91"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @return The value of the _data column, which is typically a file path.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-92"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getDataColumn</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Uri </span><span class="crayon-v">uri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">selection</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">selectionArgs</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-95">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Cursor </span><span class="crayon-v">cursor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">column</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"_data"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">projection</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">column</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-101">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cursor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">getContentResolver</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">query</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">projection</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">selection</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">selectionArgs</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">cursor</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">cursor</span><span class="crayon-sy">.</span><span class="crayon-e">moveToFirst</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cursor</span><span class="crayon-sy">.</span><span class="crayon-e">getColumnIndexOrThrow</span><span class="crayon-sy">(</span><span class="crayon-v">column</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">cursor</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-v">index</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">finally</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">cursor</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cursor</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-115">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-116">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-118"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param uri The Uri to check.</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-119"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @return Whether the Uri authority is ExternalStorageProvider.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-120"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isExternalStorageDocument</span><span class="crayon-sy">(</span><span class="crayon-e">Uri </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"com.android.externalstorage.documents"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getAuthority</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-124">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-125"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-126"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param uri The Uri to check.</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-127"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @return Whether the Uri authority is DownloadsProvider.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-128"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isDownloadsDocument</span><span class="crayon-sy">(</span><span class="crayon-e">Uri </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"com.android.providers.downloads.documents"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getAuthority</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-132">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-134"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param uri The Uri to check.</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-135"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @return Whether the Uri authority is MediaProvider.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-136"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-137"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isMediaDocument</span><span class="crayon-sy">(</span><span class="crayon-e">Uri </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"com.android.providers.media.documents"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getAuthority</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-140">&nbsp;</div><div class="crayon-line" id="crayon-5a4d021be8938145451310-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-142"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @param uri The Uri to check.</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-143"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * @return Whether the Uri authority is Google Photos.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-144"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isGooglePhotosUri</span><span class="crayon-sy">(</span><span class="crayon-e">Uri </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"com.google.android.apps.photos.content"</span><span class="crayon-sy">.</span><span class="crayon-e">equals</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">getAuthority</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4d021be8938145451310-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4d021be8938145451310-148"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0358 seconds] -->

<b>8</b>. Now, you are all done and you can also add the Camera functionality to your app.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/Camera_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1156" class="share-twitter sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=twitter" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1156" class="share-facebook sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=facebook" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1156" class="share-google-plus-1 sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=google-plus-1" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow" data-shared="" class="share-jetpack-whatsapp sd-button share-icon no-text" href="whatsapp://send?text=Android%20working%20with%20Camera http%3A%2F%2Fwww.androhub.com%2Fandroid-working-with-camera%2F" target="_blank" title="Click to share on WhatsApp"><span></span><span class="sharing-screen-reader-text">Click to share on WhatsApp (Opens in new window)</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1156" class="share-linkedin sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=linkedin" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li><li class="share-email"><a rel="nofollow" data-shared="" class="share-email sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=email" target="_blank" title="Click to email this to a friend"><span></span><span class="sharing-screen-reader-text">Click to email this to a friend (Opens in new window)</span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/#print" target="_blank" title="Click to print"><span></span><span class="sharing-screen-reader-text">Click to print (Opens in new window)</span></a></li><li class="share-tumblr"><a rel="nofollow" data-shared="" class="share-tumblr sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=tumblr" target="_blank" title="Click to share on Tumblr"><span></span><span class="sharing-screen-reader-text">Click to share on Tumblr (Opens in new window)</span></a></li><li class="share-pinterest"><a rel="nofollow" data-shared="sharing-pinterest-1156" class="share-pinterest sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=pinterest" target="_blank" title="Click to share on Pinterest"><span></span><span class="sharing-screen-reader-text">Click to share on Pinterest (Opens in new window)</span></a></li><li class="share-pocket"><a rel="nofollow" data-shared="" class="share-pocket sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=pocket" target="_blank" title="Click to share on Pocket"><span></span><span class="sharing-screen-reader-text">Click to share on Pocket (Opens in new window)</span></a></li><li class="share-telegram"><a rel="nofollow" data-shared="" class="share-telegram sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=telegram" target="_blank" title="Click to share on Telegram"><span></span><span class="sharing-screen-reader-text">Click to share on Telegram (Opens in new window)</span></a></li><li class="share-skype"><a rel="nofollow" data-shared="sharing-skype-1156" class="share-skype sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=skype" target="_blank" title="Share on Skype"><span></span><span class="sharing-screen-reader-text">Share on Skype (Opens in new window)</span></a></li><li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.androhub.com/android-working-with-camera/?share=reddit" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div>

<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>					</div>
	</div>
</article>

	<section class='about'>
		<h4>About the author</h4>
		<div class='separator'>
			<div></div>
		</div>
		<article class='about-content'>
			<footer>
				<div class='about-helper-absolute'>
					<div class='avatar'>
						<img alt='' src='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=61&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=122&amp;d=mm&amp;r=g 2x' class='avatar avatar-61 photo' height='61' width='61' />					</div>
				</div>
			</footer>
			<div class='about-body'>
				<p>I am an Android developer for whom Android is the one and only love. I work as a freelancer which gets me and Android closer. I always love to share my learnings and love to learn from others knowledge too.</p>
			</div>
		</article>
	</section>
					
	
	
	
	<section class='leave-comment'>
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.androhub.com/android-working-with-camera/#respond" style="display:none;">Cancel Comment</a></small></h3>				<form action="http://www.androhub.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<div class="separator"><div></div></div>
			<div class="input-field text-area">
				<div>
					Comment
					<span>(required)</span>
				</div>
				<div class="input-style dlight-grey sc-input">
					<textarea aria-required="true" rows="1" cols="1" name="comment" id="comment"  aria-required='true'></textarea>
				</div>
			</div><div><p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;span class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; </code></p></div>
					<div class="input-field">
						<div>
							Name <span>(required)</span>
						</div>
						<div class="input-style dlight-grey sc-input">
							<input id="author" type="text"  aria-required='true' size="20" value="" name="author">
						</div>
					</div>

					<div class="input-field">
						<div>
							Email <span>(required)</span>
						</div>
						<div class="input-style dlight-grey sc-input">
							<input id="email" name="email" type="text" value="" size="20" aria-required='true' />
						</div>
					</div>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="SENT" /> <input type='hidden' name='comment_post_ID' value='1156' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="9917b42a3c" /></p>
    <style type="text/css">
      .comment-image-captcha {
        margin-bottom: 20px;
      }
      .comment-image-captcha table {
        border-width: 0;
        border: 0;
        padding: 0;
        margin: 0;
      }
      .comment-image-captcha td {
        border-width: 0;
        vertical-align: middle !important;
        padding: 0;
        margin: 0;
        background-color: transparent !important;
      }
      .comment-image-captcha div {
        margin: 0;
      }
      .image-captcha {
        display: none;
      }
      #image-captcha-input {
        width: 100% !important;
        box-sizing: border-box;
        height: auto !important;;
      }
      #image-captcha-refresh {
        width: 20px;
        height: 20px;
        cursor: pointer;
        position: relative;
      }
      #image-captcha-block{
        margin-right: 10px;
        background-color: #ffffff;
      }
      #image-captcha-refresh img {
        width: 20px;
      }
    </style>
    <div class="comment-image-captcha">
      <table style="width: 100%;" class="image-captcha">
        <tr>
          <td style="width: 77px; vertical-align: bottom;">
            <div id="image-captcha-block" style="border: 1px solid #DDDDDD; width: 75px; height: 75px;"><img style="padding: 5px;" src="http://www.androhub.com/wp-content/plugins/image-captcha/images/06-27.png"></div>
          </td>
          <td style="vertical-align: bottom;">
            <table style="width: 100%">
              <tr>
                <td colspan="2"><label for="image-captcha-input">Object in the image</label></td>
              </tr>
              <tr>
                <td style="vertical-align: bottom;">
                  <input style="margin-bottom: 0px;" type="text" class="input" id="image-captcha-input" name="image-captcha-input">
                </td>
                <td style="vertical-align: middle; width: 35px; text-align: center;">
                  <span id="image-captcha-refresh"><img src="http://www.androhub.com/wp-content/plugins/image-captcha/assets/refresh.png"></span>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <!--<div class="comment-image-captcha">
      <table class="image-captcha">
          <tr>
            <td style="width: 77px; vertical-align: bottom">

            </td>
            <td style="vertical-align: bottom;">
              <label for="image-captcha-input">Object in the image</label>
              <table style="display: block;">
                <tr>
                  <td><input style="margin-bottom: 0px;" type="text" value="" class="input" id="image-captcha-input" name="image-captcha-input"></td>
                  <td><div id="image-captcha-refresh"><img src="http://www.androhub.com/wp-content/plugins/image-captcha/assets/refresh.png"></div></td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </div>--><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="124"/></p>				</form>
					</div><!-- #respond -->
			</section>							</div>
		</div>
				<aside class='right-sidebar grid_3'>
	<section id="search-2" class="widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://www.androhub.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></section><section id="facebook-likebox-2" class="widget_facebook_likebox">		<div id="fb-root"></div>
		<div class="fb-page" data-href="https://www.facebook.com/androhubtutorial/" data-width="340"  data-height="432" data-hide-cover="false" data-show-facepile="true" data-show-posts="false">
		<div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/androhubtutorial/"><a href="https://www.facebook.com/androhubtutorial/"></a></blockquote></div>
		</div>
		</section>			<section id="wp_subscribe-2" class="wp_subscribe">	
		<div id="wp-subscribe" class="wp-subscribe-wrap wp-subscribe wp-subscribe-1" data-thanks_page="0" data-thanks_page_url="" data-thanks_page_new_window="0">

			<h4 class="title"></h4>

			<p class="text">Subscribe to our mailing list and get interesting stuff and updates to your email inbox. We don't Spam.</p>

			
			<form action="http://www.androhub.com/android-working-with-camera?name=android-working-with-camera" method="post" class="wp-subscribe-form wp-subscribe-mailchimp" id="wp-subscribe-form-1">

				
				<input class="regular-text email-field" type="text" name="email" placeholder="Enter your email here">

				<input type="hidden" name="form_type" value="widget">

				<input type="hidden" name="service" value="mailchimp">

				<input type="hidden" name="widget" value="wp_subscribe-2">

				<input class="submit" type="submit" name="submit" value="Sign Up Now">

			</form>

			
			<div class="wp-subscribe-loader">
				<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
					<path fill="" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
						<animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
					</path>
				</svg>
			</div>

			<p class="thanks">Thank you for subscribing.</p>
			<p class="error">Something went wrong.</p>
			<div class="clear"></div>

			<p class="footer-text">We respect your privacy and take protecting it seriously.</p>

		</div>

			</section>	
		<section id="recent-posts-2" class="widget_recent_entries">		<h3>Recent Posts</h3>		<ul>
					<li>
				<a href="http://www.androhub.com/authenticate-using-google-sign-in-on-android/">Authenticate Using Google Sign-In on Android</a>
						</li>
					<li>
				<a href="http://www.androhub.com/implementing-android-app-shortcuts/">Implementing Android App Shortcuts</a>
						</li>
					<li>
				<a href="http://www.androhub.com/implement-youtube-player-fragment-android-app/">How to implement Youtube Player Fragment in Android App</a>
						</li>
					<li>
				<a href="http://www.androhub.com/how-to-show-youtube-video-thumbnail-play-youtube-video-in-android-app/">How to show Youtube Video Thumbnail &#038; Play Youtube Video in Android App</a>
						</li>
					<li>
				<a href="http://www.androhub.com/android-confirm-credential-security-lock/">Android Confirm Credential (Security Lock)</a>
						</li>
				</ul>
		</section>		<section id="recent-comments-2" class="widget_recent_comments"><h3>Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://androhub.com/' rel='external nofollow' class='url'>Dr. Droid</a></span> on <a href="http://www.androhub.com/android-expandablelistview/#comment-478">Android ExpandableListView</a></li><li class="recentcomments"><span class="comment-author-link">Mrittunjay</span> on <a href="http://www.androhub.com/android-expandablelistview/#comment-477">Android ExpandableListView</a></li><li class="recentcomments"><span class="comment-author-link">Lawrence</span> on <a href="http://www.androhub.com/android-download-files-save/#comment-476">Android Download Files &#038; Save</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://androhub.com/' rel='external nofollow' class='url'>Dr. Droid</a></span> on <a href="http://www.androhub.com/login-signup-and-forgot-password-screen-design-android/#comment-475">Login, SignUp and Forgot Password Screen Design Android</a></li><li class="recentcomments"><span class="comment-author-link">fawad azam</span> on <a href="http://www.androhub.com/login-signup-and-forgot-password-screen-design-android/#comment-474">Login, SignUp and Forgot Password Screen Design Android</a></li></ul></section><section id="archives-2" class="widget_archive"><h3>Archives</h3>		<ul>
			<li><a href='http://www.androhub.com/2017/12/'>December 2017</a></li>
	<li><a href='http://www.androhub.com/2017/11/'>November 2017</a></li>
	<li><a href='http://www.androhub.com/2017/10/'>October 2017</a></li>
	<li><a href='http://www.androhub.com/2017/07/'>July 2017</a></li>
	<li><a href='http://www.androhub.com/2017/06/'>June 2017</a></li>
	<li><a href='http://www.androhub.com/2017/05/'>May 2017</a></li>
	<li><a href='http://www.androhub.com/2017/04/'>April 2017</a></li>
	<li><a href='http://www.androhub.com/2017/03/'>March 2017</a></li>
	<li><a href='http://www.androhub.com/2017/02/'>February 2017</a></li>
	<li><a href='http://www.androhub.com/2017/01/'>January 2017</a></li>
	<li><a href='http://www.androhub.com/2016/08/'>August 2016</a></li>
	<li><a href='http://www.androhub.com/2016/07/'>July 2016</a></li>
	<li><a href='http://www.androhub.com/2016/06/'>June 2016</a></li>
	<li><a href='http://www.androhub.com/2016/04/'>April 2016</a></li>
	<li><a href='http://www.androhub.com/2016/03/'>March 2016</a></li>
	<li><a href='http://www.androhub.com/2015/12/'>December 2015</a></li>
	<li><a href='http://www.androhub.com/2015/11/'>November 2015</a></li>
	<li><a href='http://www.androhub.com/2015/10/'>October 2015</a></li>
	<li><a href='http://www.androhub.com/2015/09/'>September 2015</a></li>
	<li><a href='http://www.androhub.com/2015/08/'>August 2015</a></li>
	<li><a href='http://www.androhub.com/2015/07/'>July 2015</a></li>
	<li><a href='http://www.androhub.com/2015/06/'>June 2015</a></li>
	<li><a href='http://www.androhub.com/2015/05/'>May 2015</a></li>
	<li><a href='http://www.androhub.com/2015/04/'>April 2015</a></li>
		</ul>
		</section><section id="categories-2" class="widget_categories"><h3>Categories</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="http://www.androhub.com/category/android-actionbar/" >Android Actionbar</a>
</li>
	<li class="cat-item cat-item-500"><a href="http://www.androhub.com/category/android-advanced/" >Android Advanced</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.androhub.com/category/android-animations/" >Android Animations</a>
</li>
	<li class="cat-item cat-item-562"><a href="http://www.androhub.com/category/android-app-shortcuts/" >Android App Shortcuts</a>
</li>
	<li class="cat-item cat-item-541"><a href="http://www.androhub.com/category/android-authentication/" >Android Authentication</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.androhub.com/category/android-autocomplete/" >Android AutoComplete</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.androhub.com/category/android-basics/" >Android Basics</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.androhub.com/category/android-bluetooth/" >Android Bluetooth</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.androhub.com/category/android-cardview/" >Android CardView</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.androhub.com/category/android-clocks/" >Android Clocks</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://www.androhub.com/category/android-contacts/" >Android Contacts</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://www.androhub.com/category/android-content-provider/" >Android Content Provider</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://www.androhub.com/category/android-custom-font/" >Android Custom Font</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://www.androhub.com/category/android-custom-view/" >Android Custom View</a>
</li>
	<li class="cat-item cat-item-13"><a href="http://www.androhub.com/category/android-database/" >Android Database</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.androhub.com/category/android-dialogs/" >Android Dialogs</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://www.androhub.com/category/android-download-files/" >Android Download Files</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://www.androhub.com/category/android-drawer/" >Android Drawer</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://www.androhub.com/category/android-expandablelistview/" >Android ExpandableListView</a>
</li>
	<li class="cat-item cat-item-18"><a href="http://www.androhub.com/category/android-file/" >Android File</a>
</li>
	<li class="cat-item cat-item-489"><a href="http://www.androhub.com/category/android-fingerprint/" >Android FingerPrint</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.androhub.com/category/android-fragment/" >Android Fragment</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://www.androhub.com/category/android-gestures/" >Android Gestures</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://www.androhub.com/category/android-gps/" >Android GPS</a>
</li>
	<li class="cat-item cat-item-22"><a href="http://www.androhub.com/category/android-image-picker/" >Android Image Picker</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://www.androhub.com/category/android-internet-connection/" >Android Internet Connection</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://www.androhub.com/category/android-json/" >Android JSON</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://www.androhub.com/category/android-listview/" >Android ListView</a>
</li>
	<li class="cat-item cat-item-26"><a href="http://www.androhub.com/category/android-material-design/" >Android Material Design</a>
</li>
	<li class="cat-item cat-item-27"><a href="http://www.androhub.com/category/android-navigationdrawer/" >Android NavigationDrawer</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://www.androhub.com/category/android-notification-bar/" >Android Notification Bar</a>
</li>
	<li class="cat-item cat-item-493"><a href="http://www.androhub.com/category/android-palette/" >Android Palette</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://www.androhub.com/category/android-progressbar/" >Android ProgressBar</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://www.androhub.com/category/android-ratingbar/" >Android RatingBar</a>
</li>
	<li class="cat-item cat-item-31"><a href="http://www.androhub.com/category/android-recyclerview/" >Android RecyclerView</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://www.androhub.com/category/android-seekbar/" >Android SeekBar</a>
</li>
	<li class="cat-item cat-item-34"><a href="http://www.androhub.com/category/android-spinner/" >Android Spinner</a>
</li>
	<li class="cat-item cat-item-35"><a href="http://www.androhub.com/category/android-stackview/" >Android StackView</a>
</li>
	<li class="cat-item cat-item-36"><a href="http://www.androhub.com/category/android-swiperefresh-layout/" >Android SwipeRefresh Layout</a>
</li>
	<li class="cat-item cat-item-37"><a href="http://www.androhub.com/category/android-tabs/" >Android Tabs</a>
</li>
	<li class="cat-item cat-item-38"><a href="http://www.androhub.com/category/android-textswitcher/" >Android TextSwitcher</a>
</li>
	<li class="cat-item cat-item-39"><a href="http://www.androhub.com/category/android-toolbar/" >Android ToolBar</a>
</li>
	<li class="cat-item cat-item-40"><a href="http://www.androhub.com/category/android-ui-design/" >Android UI Design</a>
</li>
	<li class="cat-item cat-item-41"><a href="http://www.androhub.com/category/android-viewanimator/" >Android ViewAnimator</a>
</li>
	<li class="cat-item cat-item-42"><a href="http://www.androhub.com/category/android-viewpager/" >Android ViewPager</a>
</li>
	<li class="cat-item cat-item-43"><a href="http://www.androhub.com/category/android-viewswitcher/" >Android ViewSwitcher</a>
</li>
	<li class="cat-item cat-item-44"><a href="http://www.androhub.com/category/android-wifi/" >Android WIFI</a>
</li>
	<li class="cat-item cat-item-446"><a href="http://www.androhub.com/category/google-maps/" >Google Maps</a>
</li>
	<li class="cat-item cat-item-45"><a href="http://www.androhub.com/category/http-requests/" >Http Requests</a>
</li>
	<li class="cat-item cat-item-46"><a href="http://www.androhub.com/category/intent/" >Intent</a>
</li>
		</ul>
</section></aside>	</div>
</div>
<aside class='wrapper lighter-grey'>
	<div class='container'>
		<div class='grid_9'>
			<div class='posts-container'>
				<div class='post-single-pagination'>
					<a href="http://www.androhub.com/take-a-screenshot-programmatically-in-android/" rel="prev">previous post</a><a href="http://www.androhub.com/android-fingerprint-authentication/" rel="next">next post</a>
				</div>
			</div>
		</div>
	</div>
</aside>
					<footer>
			<div class='wrapper grey'>
				<div class='container'>
						<div class='grid_4'>
			</div>
	<div class='grid_4'>
			</div>
	<div class='grid_4'>
			</div>
				</div>
			</div>
			<div class='wrapper dark-grey copyright-bar'>
				<div class='container'>
					<div class='grid_12'>
						<span class='copyright'>Copyright ® 2015 - 2017 Androhub.com | All rights reserved.</span><span class="copyright" style="float: right;">Powered by <a href="http://pacdevelopers.com/" target="_blank">PAC Developers</a></span>
					</div>
				</div>
			</div>
		</footer>
		<a id="back_to_top" href="#"></a>
					<div style="display:none">
	<div class="grofile-hash-map-ebab67fae339761312d475ef8e13e63d">
	</div>
	<div class="grofile-hash-map-ebab67fae339761312d475ef8e13e63d">
	</div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"http:\/\/www.androhub.com\/android-working-with-camera\/":1156};
	</script>
	<div id="sharing_email" style="display: none;">
		<form action="http://www.androhub.com/android-working-with-camera/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" />
			<script>jQuery( document ).ready( function(){ document.getElementById('jetpack-source_f_name').value = '' });</script>
			
			<img style="float: right; display: none" class="loading" src="http://www.androhub.com/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a rel="nofollow" href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
		<link rel='stylesheet' id='wp-subscribe-css'  href='http://www.androhub.com/wp-content/plugins/wp-subscribe/assets/css/wp-subscribe-form.css?ver=4.5.12' type='text/css' media='all' />
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201801'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2018Janaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/main.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.nicescroll.min.js'></script>
<script type='text/javascript' src='http://heartcode-canvasloader.googlecode.com/files/heartcode-canvasloader-min-0.9.1.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.prettyPhoto.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.flexslider-min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/zozo.tabs.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.isotope.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.iosslider.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/comment-reply.min.js?ver=4.5.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var jpfbembed = {"appid":"249643311490","locale":"en_US"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/_inc/facebook-embed.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/scripts/fitvids.min.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/wp-embed.min.js?ver=4.5.12'></script>
<script async="async" type='text/javascript' src='http://www.androhub.com/wp-content/plugins/akismet/_inc/form.js?ver=4.0.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wp_subscribe = {"ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/wp-subscribe/assets/js/wp-subscribe-form.js?ver=4.5.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=4.4.2'></script>
<script type='text/javascript'>
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-tumblr', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtumblr', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-pocket', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcompocket', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-telegram', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtelegram', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-skype', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomskype', 'menubar=1,resizable=1,width=305,height=665' );
				return false;
			});
</script>
<script type='text/javascript' src='http://stats.wp.com/e-201801.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.4.2',blog:'113004364',post:'1156',tz:'0',srv:'www.androhub.com'} ]);
	_stq.push([ 'clickTrackerInit', '113004364', '1156' ]);
</script>
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-63664503-1']);
			_gaq.push(['_trackPageview']);

			(function() {
			  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
			<div class="media_for_js"></div>
	</body>

<!-- Mirrored from www.androhub.com/android-working-with-camera/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jan 2018 03:29:04 GMT -->
</html>