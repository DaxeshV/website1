<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Android ToolBar &#8211; Androhub</title>
	<atom:link href="http://www.androhub.com/category/android-toolbar/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.androhub.com</link>
	<description>Meet Professor Dro!d !!</description>
	<lastBuildDate>Thu, 21 Dec 2017 20:24:53 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.5.12</generator>
<site xmlns="com-wordpress:feed-additions:1">113004364</site>	<item>
		<title>Introduction to Android Google Maps V2</title>
		<link>http://www.androhub.com/introduction-to-android-google-maps-v2/</link>
		<comments>http://www.androhub.com/introduction-to-android-google-maps-v2/#comments</comments>
		<pubDate>Mon, 08 Aug 2016 14:30:16 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android GPS]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[Google Maps]]></category>
		<category><![CDATA[auto location dialog]]></category>
		<category><![CDATA[getting fingerprint]]></category>
		<category><![CDATA[google api client]]></category>
		<category><![CDATA[google api console]]></category>
		<category><![CDATA[google maps]]></category>
		<category><![CDATA[location updates]]></category>
		<category><![CDATA[map gestures]]></category>
		<category><![CDATA[map toolbar]]></category>
		<category><![CDATA[map types]]></category>
		<category><![CDATA[map ui settings]]></category>
		<category><![CDATA[maps]]></category>
		<category><![CDATA[play services]]></category>
		<category><![CDATA[sha1 key]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1077</guid>
		<description><![CDATA[<p>Android allows us to integrate google maps in our application. You can show any location on the map , or can show different routes on the map e.t.c. You can also customize the map according to your choices. Prerequisites Location Request Dialog  Marshmallow Permission Example Today we are going to integrate google map in android. The [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/introduction-to-android-google-maps-v2/">Introduction to Android Google Maps V2</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p class="p1"><span class="s1">Android allows us to integrate <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html" target="_blank">google maps</a> in our application. You can show any location on the map , or can show different routes on the map e.t.c. You can also customize the map according to your choices.</span></p>
<h2 id="ui_controls">Prerequisites</h2>
<ol>
<li class="p3"><a href="http://www.androhub.com/show-location-setting-dialog-using-google-api-client/" target="_blank"><span class="s1">Location Request Dialog<span class="Apple-converted-space"> </span></span></a></li>
<li class="p3"><a href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/" target="_blank"><span class="s1">Marshmallow Permission</span></a></li>
</ol>
<h2 id="ui_controls">Example</h2>
<p class="p3"><span class="s1">Today we are going to integrate google map in android. The things that we are going to cover are:</span></p>
<ol>
<li class="p3"><span class="s1">Displaying google map.</span></li>
<li class="p3"><span class="s1">Showing User Current Location on Map.</span></li>
<li class="p3"><span class="s1">Showing different type of maps.</span></li>
<li class="p3"><span class="s1">Working on My Location Button and Blue dot.</span></li>
<li class="p3"><span class="s1">Showing Default Marker as well as custom marker with Camera Animation.</span></li>
<li class="p3"><span class="s1">Updating marker position on location changed by using Location Update method.</span></li>
<li class="p3"><span class="s1">Google Map UI Settings and Gestures Functionality.</span></li>
<li class="p3"><span class="s1">Handling Google API Client Call back methods.</span></li>
<li class="p3"><span class="s1">Handling Marker Click event.</span></li>
<li class="p3"><span class="s1">Hiding Navigation and GPS pointer which appears on clicking of marker i.e. Map Toolbar.</span></li>
</ol>
<h2 id="ui_controls">VIDEO DEMO</h2>
<p><iframe  id="_ytid_15241" width="602" height="339" src="https://www.youtube.com/embed/9qWHzj8k-Uo?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p class="p3"><span class="s1">So Lets start playing with Google Maps,</span></p>
<h3>Create Project in Android Studio</h3>
<p>Firstly, create new project in Android Studio naming anything whatever you want.</p>
<h3>Getting Google Maps API Key</h3>
<p class="p3"><span class="s1">1. Now login into your Gmail Account and go to <a href="https://console.developers.google.com/flows/enableapi?apiid=maps_android_backend&amp;keyType=CLIENT_SIDE_ANDROID&amp;reusekey=true" target="_blank">Google API Console</a>.</span></p>
<p class="p3"><span class="s1">2.<span class="Apple-converted-space">  C</span>lick on <strong>Create New Project.</strong></span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1083" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/create_new_project.jpg?resize=342%2C312" alt="create_new_project" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/create_new_project.jpg?w=342 342w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/create_new_project.jpg?resize=300%2C274 300w" sizes="(max-width: 342px) 100vw, 342px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">3. Enter your project name and click create.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1088" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/entered_project_name.jpg?resize=530%2C254" alt="entered_project_name" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/entered_project_name.jpg?w=530 530w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/entered_project_name.jpg?resize=300%2C144 300w" sizes="(max-width: 530px) 100vw, 530px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">4. Creating project will take some couple of minutes you can check the processing of your project top and bottom of page.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1107" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/project_processing.jpg?resize=344%2C88" alt="project_processing" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/project_processing.jpg?w=344 344w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/project_processing.jpg?resize=300%2C77 300w" sizes="(max-width: 344px) 100vw, 344px" data-recalc-dims="1" /></p>
<p class="p3"><img class="aligncenter size-full wp-image-1106" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/project_processing_top.jpg?resize=436%2C204" alt="project_processing_top" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/project_processing_top.jpg?w=436 436w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/project_processing_top.jpg?resize=300%2C140 300w" sizes="(max-width: 436px) 100vw, 436px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">5. After successful creation of your project the below is the first screen you get.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1090" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/first_page.jpg?resize=602%2C360" alt="first_page" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/first_page.jpg?w=1440 1440w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/first_page.jpg?resize=300%2C180 300w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/first_page.jpg?resize=768%2C460 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/first_page.jpg?resize=1024%2C613 1024w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/first_page.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">6. You can check your dashboard by clicking <strong>Dashboard</strong> from side menu. Currently, it is empty, when we integrate and test the app then analytics will show here.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1084" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/empty_dashboard.jpg?resize=602%2C361" alt="empty_dashboard" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/empty_dashboard.jpg?w=1440 1440w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/empty_dashboard.jpg?resize=300%2C180 300w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/empty_dashboard.jpg?resize=768%2C461 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/empty_dashboard.jpg?resize=1024%2C614 1024w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/empty_dashboard.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">7. Now for Integration we need API Key so for this click over <strong>Credentials</strong> from side menu and you will get Credential Screen</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1079" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_credential.jpg?resize=602%2C360" alt="add_credential" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_credential.jpg?w=1440 1440w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_credential.jpg?resize=300%2C180 300w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_credential.jpg?resize=768%2C460 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_credential.jpg?resize=1024%2C613 1024w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_credential.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">From the <strong>dropdown menu</strong> select <strong>API Key</strong> and on selection of API key a new popup will appear that ask you platform type, select android from it.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1110" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/select_credential_type.jpg?resize=494%2C524" alt="select_credential_type" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/select_credential_type.jpg?w=494 494w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/select_credential_type.jpg?resize=283%2C300 283w" sizes="(max-width: 494px) 100vw, 494px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">8. Now another Screen will open here you have to give <strong>package name</strong> and <strong>fingerprint</strong> (optional) but it is good to put package name and fingerprint.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space"><img class="aligncenter size-full wp-image-1081" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/android_api_key.jpg?resize=602%2C333" alt="android_api_key" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/android_api_key.jpg?w=654 654w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/android_api_key.jpg?resize=300%2C166 300w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" />  </span></span></p>
<h3>Getting Certificate Fingerprint</h3>
<p>There are two ways of getting fingerprint:</p>
<p><b>From Terminal or CMD</b></p>
<p>1. Locate your debug <em><strong>keystore</strong></em> file. The file name is <em><strong><code>debug.keystore</code></strong></em>, and is created the first time you build your project. By default, it is stored in the same directory as your <em><strong>Android Virtual Device (AVD)</strong></em> files:</p>
<ul>
<li><strong>macOS and Linux</strong>: <code>~/.android/</code></li>
<li><strong>Windows Vista and Windows 7</strong>: <code>C:\Users\your_user_name\.android\</code></li>
</ul>
<p>2. List the SHA-1 fingerprint:</p>
<ul>
<li>For Linux or macOS, open a terminal window and enter the following:</li>
</ul>
<pre class="crayon-plain-tag">keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android</pre>
<ul>
<li>For Windows Vista and Windows 7, run:</li>
</ul>
<pre class="crayon-plain-tag">keytool -list -v -keystore "%USERPROFILE%\.android\debug.keystore" -alias androiddebugkey -storepass android -keypass android</pre>
<p class="p9"><span class="s1">You should see output similar to this:</span></p>
<pre class="crayon-plain-tag">Alias name: androiddebugkey
Creation date: 5 Jun, 2016
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: C=US, O=Android, CN=Android Debug
Issuer: C=US, O=Android, CN=Android Debug
Serial number: 1
Valid from: Sun Jun 05 16:58:31 IST 2016 until: Tue May 29 16:58:31 IST 2046
Certificate fingerprints:
	 MD5:  DE:DC:D0:74:0E:40:50:D8:79:71:4D:10:42:89:C4:0A
	 SHA1: 96:77:03:77:0E:46:5B:18:90:49:E2:3B:19:AB:9C:70:F3:2A:44:A8
	 SHA256: F9:B1:CC:7F:94:FA:A6:2D:DD:11:57:7F:F3:71:0A:15:30:16:91:BF:18:0F:84:C1:67:3E:4E:6E:77:60:02:BC
	 Signature algorithm name: SHA1withRSA
	 Version: 1</pre>
<p class="p11"><span class="s1">The line that begins with </span><strong><span class="s9">SHA1</span></strong><span class="s1"> contains the <strong>certificate&#8217;s SHA-1 fingerprint</strong>. The fingerprint is the sequence of 20 two-digit hexadecimal numbers separated by colons.</span></p>
<p class="p11"><img class="aligncenter size-full wp-image-1112" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/terminal_hash_key.jpg?resize=576%2C362" alt="terminal_hash_key" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/terminal_hash_key.jpg?w=576 576w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/terminal_hash_key.jpg?resize=300%2C189 300w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /></p>
<p class="p3"><b>From Gradle</b></p>
<p class="p3">1. Click on Gradle (From Right Side Panel, you will see <strong>Gradle Bar</strong>).</p>
<p><span class="s1">2. Click on Refresh (Click on Refresh from <b>Gradle Bar</b>, you will see <b>List</b> Gradle scripts of your Project).</span></p>
<p><img class="aligncenter size-full wp-image-1093" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/gradle_view.jpg?resize=478%2C182" alt="gradle_view" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/gradle_view.jpg?w=478 478w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/gradle_view.jpg?resize=300%2C114 300w" sizes="(max-width: 478px) 100vw, 478px" data-recalc-dims="1" /></p>
<p><span class="s1">3. Click on Your Project (Your Project Name form <b>List</b> (root)) -&gt; Tasks -&gt; android -&gt; signingReport (double click).</span></p>
<p>&nbsp;</p>
<p><img class="aligncenter size-full wp-image-1092" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/gradle_inside_view.jpg?resize=482%2C492" alt="gradle_inside_view" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/gradle_inside_view.jpg?w=482 482w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/gradle_inside_view.jpg?resize=294%2C300 294w" sizes="(max-width: 482px) 100vw, 482px" data-recalc-dims="1" /></p>
<p><span class="s1">4. You will get <b>SHA1</b> and <b>MD5</b> in <b>Run Bar</b>.</span></p>
<p><img class="aligncenter size-full wp-image-1094" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/hashkey_output.jpg?resize=602%2C309" alt="hashkey_output" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/hashkey_output.jpg?w=1420 1420w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/hashkey_output.jpg?resize=300%2C154 300w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/hashkey_output.jpg?resize=768%2C395 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/hashkey_output.jpg?resize=1024%2C526 1024w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/hashkey_output.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p>Now Copy your SHA1 fingerprint.</p>
<h3>Back to Google API Console</h3>
<p class="p3"><span class="s1">9. Now enter your package name and copied SHA1 fingerprint in respective text fields.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1086" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enter_details.jpg?resize=602%2C391" alt="enter_details" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enter_details.jpg?w=634 634w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enter_details.jpg?resize=300%2C195 300w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">After adding click create.</span></p>
<p class="p3"><span class="s1">10. A popup will open containing your <strong>API Key</strong> copy that API key and keep if safe with you and don’t disclose with anyone.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1097" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_api_key.jpg?resize=584%2C190" alt="map_api_key" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_api_key.jpg?w=584 584w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_api_key.jpg?resize=300%2C98 300w" sizes="(max-width: 584px) 100vw, 584px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">You can also delete and regenerate to existing API key.</span></p>
<p class="p3"><span class="s1">11. Now go back to <strong>Library </strong>menu and click <strong>Google Maps Android API</strong><span class="Apple-converted-space"> under <strong>Google Maps APIs</strong> category </span>and click <strong>enable</strong> to enable Google Map API</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1085" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enable_map.jpg?resize=602%2C186" alt="enable_map" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enable_map.jpg?w=1440 1440w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enable_map.jpg?resize=300%2C93 300w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enable_map.jpg?resize=768%2C237 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enable_map.jpg?resize=1024%2C316 1024w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/enable_map.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3">Now all done from Google API Console side come back to Android Studio.</p>
<h3>Adding Google Play Services</h3>
<p class="p3">Before doing anything firstly you need <strong>Google Play Services</strong> to deal with Google Maps. Follow below steps:</p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">1.   For this you have to go to <strong>Project Module Setting -&gt; Dependency.</strong></span></span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1103" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_settings.jpg?resize=602%2C502" alt="module_settings" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_settings.jpg?w=828 828w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_settings.jpg?resize=300%2C250 300w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_settings.jpg?resize=768%2C640 768w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><img class="aligncenter size-full wp-image-1102" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_dependency.jpg?resize=602%2C495" alt="module_dependency" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_dependency.jpg?w=822 822w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_dependency.jpg?resize=300%2C247 300w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/module_dependency.jpg?resize=768%2C632 768w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3">2. Click + button and select <strong>Library Dependency.</strong></p>
<p class="p3"><img class="aligncenter size-full wp-image-1082" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/click_library.jpg?resize=602%2C496" alt="click_library" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/click_library.jpg?w=828 828w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/click_library.jpg?resize=300%2C247 300w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/click_library.jpg?resize=768%2C633 768w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">3. Now new screen will open from this select <strong>com.google.android.gms:play-services-maps</strong> and click Ok and you can see that it will added to you existing dependency.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1080" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_play_services.jpg?resize=602%2C498" alt="add_play_services" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_play_services.jpg?w=820 820w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_play_services.jpg?resize=300%2C248 300w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/add_play_services.jpg?resize=768%2C635 768w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3"><span class="s1">4. Now to add it to your <strong>grade</strong> file click <strong>OK</strong> again and wait for sometime.</span></p>
<p class="p3"><span class="s1">5. If you are not able to find Play Services then open you <strong>SDK manage</strong>r and install library form it.</span></p>
<p class="p3"><img class="aligncenter size-full wp-image-1109" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/sdk_manager.jpg?resize=602%2C560" alt="sdk_manager" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/sdk_manager.jpg?w=828 828w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/sdk_manager.jpg?resize=300%2C279 300w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/sdk_manager.jpg?resize=768%2C714 768w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></p>
<p class="p3">6. You can check your added <strong>Play Services</strong> dependency in <strong>build.gradle</strong> file.</p>
<pre class="crayon-plain-tag">compile 'com.google.android.gms:play-services-maps:9.4.0'</pre>
<p class="p3"><span class="s1">7. O<span class="s10">pen your <strong>AndroidManifest.xml</strong> and</span><span class="s1"> the following element as a child of the <a href="https://developer.android.com/guide/topics/manifest/application-element.html" target="_blank"><span class="s11">&lt;application&gt;</span></a> element, by inserting it just before the closing </span><span class="s9">&lt;/application&gt;</span><span class="s1"> tag:</span></span></p>
<pre class="crayon-plain-tag">&lt;meta-data
            android:name="com.google.android.gms.version"
            android:value="@integer/google_play_services_version" /&gt;</pre>
<h2>Add the API key to your application</h2>
<p class="p17"><span class="s10">Now open your <strong>AndroidManifest.xml</strong> and</span><span class="s1"> the following element as a child of the <a href="https://developer.android.com/guide/topics/manifest/application-element.html" target="_blank"><span class="s11">&lt;application&gt;</span></a> element, by inserting it just before the closing </span><span class="s9">&lt;/application&gt;</span><span class="s1"> tag:</span></p>
<pre class="crayon-plain-tag">&lt;meta-data
            android:name="com.google.android.maps.v2.API_KEY"
            android:value="@string/google_map_api_key" /&gt;</pre>
<p class="p11"><span class="s1">Substitute your API key for <i>google_map_api_key</i> in the </span><span class="s9">value</span><span class="s1"> attribute. This element sets the key </span><span class="s9">com.google.android.maps.v2.API_KEY</span><span class="s1"> to the value of your API key.</span></p>
<h2>Permission and Features Required For Google Map</h2>
<p>Add the below permission and features to your <strong>AndroidManifest.xml.</strong></p><pre class="crayon-plain-tag">&lt;permission
        android:name="com.googlemap_demo.permission.MAPS_RECEIVE"
        android:protectionLevel="signature" /&gt;

    &lt;uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" /&gt;
    &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;
    &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
    &lt;uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" /&gt;

    &lt;!-- Required OpenGL ES 2.0. for Maps V2 --&gt;
    &lt;uses-feature
        android:glEsVersion="0x00020000"
        android:required="false" /&gt;</pre><p>
<h2>Add a Fragment</h2>
<p>Add a <code>&lt;fragment&gt;</code> element to the activity&#8217;s layout file to define a <a href="https://developer.android.com/reference/android/app/Fragment.html" target="_blank"><code>Fragment</code></a> object. In this element, set the <strong><code>android:name</code></strong> attribute to <code>"com.google.android.gms.maps.SupportMapFragment"</code>. This automatically attaches a <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/SupportMapFragment" target="_blank"><code>SupportMapFragment</code></a> to the activity.</p>
<p>The following layout file contains a <code>&lt;fragment&gt;</code> element:</p><pre class="crayon-plain-tag">&lt;!--  Google Map Use Support Map Fragment class to Support all Devices else use MapFragment  --&gt;
    &lt;fragment
        android:id="@+id/map"
        android:name="com.google.android.gms.maps.SupportMapFragment"
        android:layout_width="match_parent"
        android:layout_height="match_parent" /&gt;</pre><p>
<h2>Add Map Code</h2>
<p class="p11"><span class="s1">To work with the map inside your app, you&#8217;ll need to implement the <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/OnMapReadyCallback.html" target="_blank"><span class="s11">OnMapReadyCallback</span></a> interface and set an instance of the callback on a <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/SupportMapFragment" target="_blank">SupportMapFragment</a> . This tutorial uses a Support</span><span class="s9">MapFragment</span><span class="s1">, because that&#8217;s the most common way of adding a map to an app. The first step is to implement the callback interface:</span></p>
<pre class="crayon-plain-tag">public class MainActivity extends AppCompatActivity

    implements OnMapReadyCallback {

...

}</pre>
<p class="p20">Now find the ID of the SupportMapFragment by using <strong>getSupportFragmentManager() </strong> and then use <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/MapFragment.html#getMapAsync(com.google.android.gms.maps.OnMapReadyCallback)" target="_blank"><code>getMapAsync()</code></a> to set the callback on the fragment.</p>
<pre class="crayon-plain-tag">/* Set Up google map if Google Play Services Exists */
    private void setUpGoogleMap() {
        if (new GooglePlayServiceCheck().isGooglePlayInstalled(MainActivity.this)) {
            SupportMapFragment map = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map));
            map.getMapAsync(this);//after getting map call async method, this method will call onMapReady(GoogleMap map) method
        }
    }</pre>
<p class="p20"><span class="s1">Call the above method on your activity <em>OnCreate</em> method</span></p>
<p class="p29"><span class="s1"><b>Note:</b> </span><span class="s20"><b>getMapAsync()</b></span><span class="s1"> must be called from the main thread, and the callback will be executed in the main thread. If Google Play services is not installed on the user&#8217;s device, the callback will not be triggered until the user installs Play services.So we are checking if PlayServices are installed or not.</span></p>
<p class="p11"><span class="s1">Use the <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/OnMapReadyCallback.html#onMapReady(com.google.android.gms.maps.GoogleMap)" target="_blank"><span class="s11">onMapReady(GoogleMap)</span></a> callback method to get a handle to the <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html" target="_blank"><span class="s11">GoogleMap</span></a> object. The callback is triggered when the map is ready to be used. It provides a non-null instance of </span><span class="s9">GoogleMap</span><span class="s1">. You can use the </span><span class="s9">GoogleMap</span><span class="s1"> object to set the view options for the map or add a marker, for example.</span></p>
<pre class="crayon-plain-tag">@Override
    public void onMapReady(GoogleMap map) {
        //When map ready
        googleMap = map;
    }</pre>
<h2>Map Types</h2>
<p class="p20"><span class="s1">There are many types of maps available within the Google Maps Android API. For example, an atlas usually contains <b>political</b> maps that focus on showing boundaries, and <b>road</b> maps that show all of the roads for a city or region.</span></p>
<p class="p20"><span class="s1">The Google Maps Android API offers four types of maps, as well as an option to have no map at all:</span></p>
<p class="p31"><span class="s1"><b>1. Normal</b></span></p>
<p class="p11"><span class="s1">Typical road map. Roads, some man-made features, and important natural features such as rivers are shown. Road and feature labels are also visible.</span></p>
<div id="attachment_1105" style="width: 612px" class="wp-caption aligncenter"><img class="wp-image-1105 size-large" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/normal_map.jpg?resize=602%2C1017" alt="normal_map" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/normal_map.jpg?resize=606%2C1024 606w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/normal_map.jpg?resize=177%2C300 177w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/normal_map.jpg?resize=768%2C1298 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/normal_map.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /><p class="wp-caption-text">Normal Map Type</p></div>
<p class="p31"><span class="s1"><b>2. Hybrid</b></span></p>
<p class="p11"><span class="s1">Satellite photograph data with road maps added. Road and feature labels are also visible.</span></p>
<div id="attachment_1095" style="width: 612px" class="wp-caption aligncenter"><img class="wp-image-1095 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/hybrid_map.jpg?resize=602%2C1017" alt="hybrid_map" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/hybrid_map.jpg?resize=606%2C1024 606w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/hybrid_map.jpg?resize=177%2C300 177w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/hybrid_map.jpg?resize=768%2C1298 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/hybrid_map.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /><p class="wp-caption-text">Hybrid Map Type</p></div>
<p class="p31"><span class="s1"><b>3. Satellite</b></span></p>
<p class="p11"><span class="s1">Satellite photograph data. Road and feature labels are not visible.</span></p>
<div id="attachment_1108" style="width: 612px" class="wp-caption aligncenter"><img class="wp-image-1108 size-large" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/satellite_map.jpg?resize=602%2C1017" alt="satellite_map" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/satellite_map.jpg?resize=606%2C1024 606w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/satellite_map.jpg?resize=177%2C300 177w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/satellite_map.jpg?resize=768%2C1298 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/satellite_map.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /><p class="wp-caption-text">Satellite Map Type</p></div>
<p class="p31"><span class="s1"><b>4. Terrain</b></span></p>
<p class="p11"><span class="s1">Topographic data. The map includes colors, contour lines and labels, and perspective shading. Some roads and labels are also visible.</span></p>
<div id="attachment_1113" style="width: 612px" class="wp-caption aligncenter"><img class="wp-image-1113 size-large" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/terrain_map.jpg?resize=602%2C1017" alt="terrain_map" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/terrain_map.jpg?resize=606%2C1024 606w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/terrain_map.jpg?resize=177%2C300 177w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/terrain_map.jpg?resize=768%2C1298 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/terrain_map.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /><p class="wp-caption-text">Terrain Map Type</p></div>
<p class="p31"><span class="s1"><b>5. None</b></span></p>
<p class="p11"><span class="s1">No tiles. The map will be rendered as an empty grid with no tiles loaded.</span></p>
<div id="attachment_1104" style="width: 612px" class="wp-caption aligncenter"><img class="wp-image-1104 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/none_map.jpg?resize=602%2C1017" alt="none_map" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/none_map.jpg?resize=606%2C1024 606w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/none_map.jpg?resize=177%2C300 177w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/none_map.jpg?resize=768%2C1298 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/08/none_map.jpg?w=1204 1204w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /><p class="wp-caption-text">None Map Type</p></div>
<p class="p20"><span class="s1">To set the type of a map, call the <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html" target="_blank"><span class="s11">GoogleMap</span></a> object&#8217;s <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html#setMapType(int)" target="_blank"><span class="s11">setMapType()</span></a> method, passing one of the type constants defined in <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html" target="_blank"><span class="s11">GoogleMap</span></a>. For example, to display a hybrid map:</span></p>
<pre class="crayon-plain-tag">googleMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);</pre>
<h2>Adding Marker</h2>
<p class="p32"><span class="s1">You can add a marker on the map by using following code:</span></p>
<pre class="crayon-plain-tag">double lat = latitude here;
double lng = longitude here; 
googleMap.addMarker(new MarkerOptions().position(new LatLng(lat,lng))
.title("You are here"));</pre>
<h2>Changing Marker Color</h2>
<p class="p35"><span class="s1">By default map marker color will be RED. Google maps provides some set of predefined colored icons for the marker.</span></p>
<pre class="crayon-plain-tag">mMarker.setIcon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_CYAN));//Cyan Marker
mMarker.setIcon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_BLUE));//Blue Marker
mMarker.setIcon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_GREEN));//Green marker</pre>
<h2>Custom Marker Color</h2>
<p class="p35"><span class="s1">Apart from maps native marker icons, you can use own image to show as a marker. You can load the icon from any kind of supported sources.</span></p>
<ul>
<li><span class="s21"><b>fromAsset(String assetName)</b></span><span class="s1"> – Loading from assets folder.<br />
</span></li>
<li><span class="s21"><b>fromBitmap (Bitmap image)</b></span><span class="s1"> – Loading bitmap image.<br />
</span></li>
<li><span class="s21"><b>fromFile (String path)</b></span><span class="s1"> – Loading from file.<br />
</span></li>
<li><span class="s21"><b>fromResource (int resourceId)</b></span><span class="s1"> – Loading from drawable resource.</span></li>
</ul>
<p class="p35"><span class="s1">Below I loaded a custom marker icon from <b>drawable</b> folder</span></p>
<pre class="crayon-plain-tag">mMarker.setIcon(BitmapDescriptorFactory.fromResource(R.drawable.ic_user_location));</pre>
<h2>Moving Camera to a Location with Animation</h2>
<p class="p35"><span class="s1">You may want to move camera to a particular position. Google maps provides set of functions to achieve this.</span></p>
<pre class="crayon-plain-tag">googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17.0f));</pre>
<h2 id="ui_controls">UI Controls</h2>
<p>The Maps API offers built-in UI controls that are similar to those found in the Google Maps application on your Android phone. You can toggle the visibility of these controls using the <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/UiSettings.html" target="_blank"><code>UiSettings</code></a> class which can be obtained from a<code>GoogleMap</code> with the <strong><code>GoogleMap.getUiSettings</code></strong> method.</p>
<p class="p37"><span class="s1"><b>1. Zoom Controls</b></span></p>
<p class="p38"><span class="s1">You can call </span><span class="s21"><b>setZoomControlsEnabled(<b>boolean</b>)</b></span><span class="s1"> function to get rid of those zooming controls on the map. By disabling these buttons map zooming functionality still work by pinching gesture.</span></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setZoomControlsEnabled(true);</pre>
<p class="p37"><span class="s1"><b>2. Compass</b></span></p>
<p class="p38"><span class="s1">Compass can be disabled by calling </span><span class="s21"><b>setCompassEnabled(<b>boolean</b>)</b></span><span class="s1"> function.</span></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setCompassEnabled(true);</pre>
<p class="p37"><b>3. My Location Button</b></p>
<p class="p38"><span class="s1">My location button will be used to move map to your current location. This button can be shown / hidden by calling </span><span class="s21"><b>setMyLocationButtonEnabled(<b>boolean</b>)</b></span><span class="s1"> function.</span></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setMyLocationButtonEnabled(true);</pre>
<div id="attachment_1101" style="width: 187px" class="wp-caption aligncenter"><img class="wp-image-1101 size-medium" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_without_location_button.jpg?resize=177%2C300" alt="On False Mode" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_without_location_button.jpg?resize=177%2C300 177w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_without_location_button.jpg?resize=768%2C1298 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_without_location_button.jpg?resize=606%2C1024 606w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_without_location_button.jpg?w=1204 1204w" sizes="(max-width: 177px) 100vw, 177px" data-recalc-dims="1" /><p class="wp-caption-text">On False Mode</p></div>
<h2 id="map_gestures">Map Gestures</h2>
<p class="p37"><span class="s1"><b>1. Rotate Gestures</b></span></p>
<p class="p38"><span class="s1">My rotate gesture can be enabled or disabled by calling </span><span class="s21"><b>setRotateGesturesEnabled(<b>boolean</b>)</b></span><span class="s1"> method.</span></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setRotateGesturesEnabled(true);</pre>
<p class="p37"><span class="s1"><b>2. Zoom Gestures</b></span></p>
<p class="p38"><span class="s1">You can disable zooming gesture functionality by calling </span><span class="s21"><b>setZoomGesturesEnabled(boolean).</b></span></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setZoomGesturesEnabled(true);</pre>
<p class="p37"><b>3. Tilt Gestures</b></p>
<p class="p37">A user can tilt the map by placing two fingers on the map and moving them down or up together to increase or decrease the tilt angle respectively. You can disable tilt gestures by calling <strong><code>setTiltGesturesEnabled(boolean)</code>.</strong></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setTiltGesturesEnabled(true);</pre>
<p class="p37"><b>4. Pan/Scroll Gestures</b></p>
<p class="p37">A user can scroll (pan) around the map by dragging the map with their finger. You can disable scrolling by calling <strong><code>setScrollGesturesEnabled(boolean)</code>.</strong></p>
<pre class="crayon-plain-tag">googleMap.getUiSettings().setScrollGesturesEnabled(true);</pre>
<h2 id="map_toolbar">Map toolbar</h2>
<p>By default, a toolbar appears at the bottom right of the map when a user taps a marker. The toolbar gives the user quick access to the Google Maps mobile app. You can enable and disable the toolbar by calling <strong><code>setMapToolbarEnabled(boolean)</code>.</strong></p><pre class="crayon-plain-tag">googleMap.getUiSettings().setMapToolbarEnabled(true);</pre><p>
<div id="attachment_1100" style="width: 187px" class="wp-caption alignleft"><img class="wp-image-1100 size-medium" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_with_toolbar.jpg?resize=177%2C300" alt="map_with_toolbar" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_with_toolbar.jpg?resize=177%2C300 177w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_with_toolbar.jpg?resize=768%2C1298 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_with_toolbar.jpg?resize=606%2C1024 606w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_with_toolbar.jpg?w=1204 1204w" sizes="(max-width: 177px) 100vw, 177px" data-recalc-dims="1" /><p class="wp-caption-text">Default Mode</p></div>
<div id="attachment_1098" style="width: 187px" class="wp-caption aligncenter"><img class="wp-image-1098 size-medium" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_wihtou_toolbar.jpg?resize=177%2C300" alt="False Mode" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_wihtou_toolbar.jpg?resize=177%2C300 177w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_wihtou_toolbar.jpg?resize=768%2C1298 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_wihtou_toolbar.jpg?resize=606%2C1024 606w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/08/map_wihtou_toolbar.jpg?w=1204 1204w" sizes="(max-width: 177px) 100vw, 177px" data-recalc-dims="1" /><p class="wp-caption-text">On False Mode</p></div>
<p>&nbsp;</p>
<h2 id="map_toolbar">Showing Blue Dot</h2>
<p class="p38"><span class="s1">You can show user’s current location on the map by calling </span><span class="s21"><b>setMyLocationEnabled()</b></span><span class="s1">. Pass true / false to enable or disable this feature.</span></p>
<pre class="crayon-plain-tag">googleMap.setMyLocationEnabled(true);</pre>
<h2 id="map_toolbar">Handling Marker Click Event</h2>
<p>1. For handling marker click event implement <strong>GoogleMap.OnMarkerClickListener</strong> to your activity.</p>
<p>2. Now inside onMapReady method set marker click event over google map.</p><pre class="crayon-plain-tag">googleMap.setOnMarkerClickListener(this);</pre><p>
3. The below method is used to handle marker click event, here you will get marker instance to do your stuff.</p><pre class="crayon-plain-tag">@Override
    public boolean onMarkerClick(Marker marker) {
        Log.e(TAG, "Marker Click: " + marker.getTitle() + "\nLocation : " + marker.getPosition());
        return false;
    }</pre><p>
<h2 id="map_toolbar">Handling MyLocationButton Click Event</h2>
<p>1. For handling marker click event implement <strong>GoogleMap.OnMyLocationButtonClickListener</strong> to your activity.</p>
<p>2. Now inside onMapReady method set marker click event over google map.</p><pre class="crayon-plain-tag">googleMap.setOnMyLocationButtonClickListener(this);</pre><p>
3. The below method is used to get current location and update blue dot.</p><pre class="crayon-plain-tag">@Override
    public boolean onMyLocationButtonClick() {
        Log.e(TAG, "onMyLocationButtonClick");
        return false;
    }</pre><p>
Till here we are all done with google maps integration. Now lets look upon <a href="https://developers.google.com/android/reference/com/google/android/gms/common/api/GoogleApiClient" target="_blank">Google API Client </a>and <a href="https://developer.android.com/reference/android/location/Location.html" target="_blank">Location</a> Updates.</p>
<h2 id="location-request">Set Up a Location Request</h2>
<p>Check <a href="http://www.androhub.com/show-location-setting-dialog-using-google-api-client/" target="_blank">Location Request Tutorial </a>for showing location alert dialog whenever GPS goes off.</p>
<p>To store parameters for requests to the fused location provider, create a <a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html" target="_blank"><code>LocationRequest</code></a>. The parameters determine the level of accuracy for location requests.</p><pre class="crayon-plain-tag">LocationRequest mLocationRequest = new LocationRequest();
 mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);
 mLocationRequest.setInterval(30 * 1000);
 mLocationRequest.setFastestInterval(5 * 1000);</pre><p>
The meaning of code lines that used above is :</p>
<ol>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#setInterval(long)" target="_blank">setInterval() </a>: This method sets the rate in milliseconds at which your app prefers to receive location updates. Note that the location updates may be faster than this rate if another app is receiving updates at a faster rate, or slower than this rate, or there may be no updates at all.</li>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#setFastestInterval(long)" target="_blank">setFasterInterval()</a> : This method sets the <strong>fastest</strong> rate in milliseconds at which your app can handle location updates. You need to set this rate because other apps also affect the rate at which updates are sent. The Google Play services location APIs send out updates at the fastest rate that any app has requested with <a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#setInterval(long)" target="_blank"><code>setInterval()</code></a>. If this rate is faster than your app can handle, you may encounter problems with UI flicker or data overflow. To prevent this, call <a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#setFastestInterval(long)" target="_blank"><code>setFastestInterval()</code></a> to set an upper limit to the update rate.</li>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#setPriority(int)" target="_blank">setPriority()</a> : This method sets the priority of the request, which gives the Google Play services location services a strong hint about which location sources to use. The following values are supported:</li>
</ol>
<ul>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#PRIORITY_BALANCED_POWER_ACCURACY" target="_blank"><code>PRIORITY_BALANCED_POWER_ACCURACY</code></a> &#8211; Use this setting to request location precision to within a city block, which is an accuracy of approximately 100 meters. This is considered a coarse level of accuracy, and is likely to consume less power.</li>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#PRIORITY_HIGH_ACCURACY" target="_blank"><code>PRIORITY_HIGH_ACCURACY</code></a> &#8211; Use this setting to request the most precise location possible. With this setting, the location services are more likely to use GPS to determine the location.</li>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#PRIORITY_LOW_POWER" target="_blank"><code>PRIORITY_LOW_POWER</code></a> &#8211; Use this setting to request city-level precision, which is an accuracy of approximately 10 kilometers. This is considered a coarse level of accuracy, and is likely to consume less power.</li>
<li><a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#PRIORITY_NO_POWER" target="_blank"><code>PRIORITY_NO_POWER</code></a> &#8211; Use this setting if you need negligible impact on power consumption, but want to receive location updates when available. With this setting, your app does not trigger any location updates, but receives locations triggered by other apps.</li>
</ul>
<p>The priority of <a href="https://developer.android.com/reference/com/google/android/gms/location/LocationRequest.html#PRIORITY_HIGH_ACCURACY"><code>PRIORITY_HIGH_ACCURACY</code></a>, combined with the <code><a href="https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION">ACCESS_FINE_LOCATION</a></code> permission setting that you&#8217;ve defined in the app manifest, and a fast update interval of 5000 milliseconds (5 seconds), causes the fused location provider to return location updates that are accurate to within a <strong>few feet.</strong> This approach is appropriate for mapping apps that display the location in <strong>real time.</strong></p>
<h2 id="map_toolbar">Receiving Location Update</h2>
<p class="p38"><span class="s1">1. For getting location update we need to add google location dependency in <strong>build.gradle</strong> file.</span></p>
<pre class="crayon-plain-tag">compile 'com.google.android.gms:play-services-location:9.4.0'</pre>
<p class="p38"><span class="s1">2. Now implement <a href="https://developer.android.com/reference/android/location/LocationListener.html" target="_blank">LocationListener</a> interface to your activity.</span></p>
<pre class="crayon-plain-tag">public class MainActivity extends AppCompatActivity implements LocationListener{
  @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
  
...
 
   }
}</pre>
<p class="p37">3. On implementing LocationListener you will get this method that will return changed Location.</p>
<pre class="crayon-plain-tag">@Override
    public void onLocationChanged(Location location) {
        Log.e(TAG, "Location Changed : " + location.getLatitude() + ", " + location.getLongitude());  
    }</pre>
<p class="p39">3. Add GoogleApiClient call backs to your activity that are used to help in starting location update and stopping location update.</p>
<pre class="crayon-plain-tag">public class MainActivity extends AppCompatActivity implements GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {

@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
      
    }
}</pre>
<p class="p39">4. <strong>Build</strong> and <strong>Connect</strong> API Client in your <strong>onResume</strong> method.</p>
<pre class="crayon-plain-tag">/* Initiate Google API Client  */
    private void initGoogleAPIClient() {
        Log.e(TAG, "Init google api client");
        //Without Google API Client Auto Location Dialog will not work
        mGoogleApiClient = new GoogleApiClient.Builder(MainActivity.this)
                .addConnectionCallbacks(this)
                .addOnConnectionFailedListener(this)
                .addApi(LocationServices.API)
                .build();
        mGoogleApiClient.connect();
    }</pre>
<p class="p39">5. Inside <b>onConnected </b>method get user last know location (optional if needed) and start getting location update.</p>
<pre class="crayon-plain-tag">@Override
    public void onConnected(@Nullable Bundle bundle) {

      Location mLocation = LocationServices.FusedLocationApi.getLastLocation(
                    mGoogleApiClient);//getting last know location

            if (mLocation != null) {
              //Last known location got
            } 
        }

        //Start Location Update on successful connection
        startLocationUpdates();
    }

    protected void startLocationUpdates() {
     
            LocationServices.FusedLocationApi.requestLocationUpdates(
                    mGoogleApiClient, mLocationRequest, this);
    }</pre>
<p class="p39">6. API Clients <strong>failed</strong> and <strong>suspended</strong> callbacks.</p>
<pre class="crayon-plain-tag">@Override
    public void onConnectionSuspended(int i) {
        Log.e(TAG, "onConnectionSuspended");
    }

    @Override
    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {
        Log.e(TAG, "onConnectionFailed");
    }</pre>
7. When activity status goes to <strong>onPause</strong> then stop getting location updates.<br />
<pre class="crayon-plain-tag">@Override
    protected void onPause() {
        super.onPause();
        //On Pause stop Location Update
        Log.e(TAG, "onPause stopLocationUpdates");
        if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected())
            stopLocationUpdates();
    }

    //Stop Location Update Method
    protected void stopLocationUpdates() {
        Log.e(TAG, "stopLocationUpdates");
        LocationServices.FusedLocationApi.removeLocationUpdates(
                mGoogleApiClient, this);
    }</pre>
8. When activity status goes to <strong>onStop</strong> disconnect the api client.<br />
<pre class="crayon-plain-tag">protected void onStop() {
        //On Stop disconnect Api Client
        if (mGoogleApiClient != null) {
            Log.e(TAG, "onStop disconnect api client");
            mGoogleApiClient.disconnect();
        }
        super.onStop();
    }</pre>
<h2 id="map_toolbar">Full MainActivity.java Code</h2>
<p>Below is the full code of MainActivity.java code. Apart from all the above steps we need to check two things first:</p>
<ol>
<li>Location Permission is granted or not. (only marshmallow devices).</li>
<li>Check if GPS is enabled or disabled.</li>
</ol>
<pre class="crayon-plain-tag">package com.googlemap_demo;

import android.content.Intent;
import android.content.IntentSender;
import android.content.pm.PackageManager;
import android.location.Location;
import android.os.Build;
import android.os.Bundle;
import android.support.annotation.NonNull;
import android.support.annotation.Nullable;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.AppCompatTextView;
import android.support.v7.widget.Toolbar;
import android.util.Log;
import android.view.View;
import android.widget.Toast;

import com.google.android.gms.common.ConnectionResult;
import com.google.android.gms.common.api.GoogleApiClient;
import com.google.android.gms.common.api.PendingResult;
import com.google.android.gms.common.api.ResultCallback;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.location.LocationListener;
import com.google.android.gms.location.LocationRequest;
import com.google.android.gms.location.LocationServices;
import com.google.android.gms.location.LocationSettingsRequest;
import com.google.android.gms.location.LocationSettingsResult;
import com.google.android.gms.location.LocationSettingsStates;
import com.google.android.gms.location.LocationSettingsStatusCodes;
import com.google.android.gms.maps.CameraUpdateFactory;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.OnMapReadyCallback;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.BitmapDescriptorFactory;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.Marker;
import com.google.android.gms.maps.model.MarkerOptions;

public class MainActivity extends AppCompatActivity implements View.OnClickListener, OnMapReadyCallback, GoogleMap.OnMarkerClickListener, GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener, LocationListener, GoogleMap.OnMyLocationButtonClickListener {

    private static final String TAG = MainActivity.class.getSimpleName();

    private static final int REQUEST_CHECK_SETTINGS = 0x1;
    private static GoogleApiClient mGoogleApiClient;
    private static final int ACCESS_FINE_LOCATION_INTENT_ID = 3;

    private AppCompatTextView normalMap, hybridMap, satelliteMap, terrainMap, noneMap;
    private AppCompatTextView locationLabel;

    /*  Required for Google Maps  */
    private GoogleMap googleMap;
    private LocationRequest mLocationRequest;
    private Marker mMarker;
    private Location mLocation;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        setUpToolbar();
        setUpGoogleMap();//Set Up Map
        findViews();
        setClickListeners();
    }

    //Set Up toolbar
    private void setUpToolbar() {
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
    }

    //find all views
    private void findViews() {
        normalMap = (AppCompatTextView) findViewById(R.id.normal_map);
        hybridMap = (AppCompatTextView) findViewById(R.id.hybrid_map);
        satelliteMap = (AppCompatTextView) findViewById(R.id.satellite_map);
        terrainMap = (AppCompatTextView) findViewById(R.id.terrain_map);
        noneMap = (AppCompatTextView) findViewById(R.id.none_map);
        locationLabel = (AppCompatTextView) findViewById(R.id.current_location_label);
    }

    //set click listeners over required textviews
    private void setClickListeners() {
        normalMap.setOnClickListener(this);
        hybridMap.setOnClickListener(this);
        satelliteMap.setOnClickListener(this);
        terrainMap.setOnClickListener(this);
        noneMap.setOnClickListener(this);
    }


    /* Set Up google map if Google Play Services Exists */
    private void setUpGoogleMap() {
        if (new GooglePlayServiceCheck().isGooglePlayInstalled(MainActivity.this)) {
            SupportMapFragment map = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map));
            map.getMapAsync(this);//after getting map call async method, this method will call onMapReady(GoogleMap map) method
        }
    }

    @Override
    public void onMapReady(GoogleMap map) {
        //When map ready
        googleMap = map;
        googleMap.getUiSettings().setZoomControlsEnabled(true);//enable zoom controls
        googleMap.getUiSettings().setAllGesturesEnabled(true);//enable all gestures
        googleMap.getUiSettings().setScrollGesturesEnabled(true);
        /*The below setting is used for showing navigation and map toolbar on marker click, set false if you don't want show map toolbar else leave it
        by default it is true  */
        googleMap.getUiSettings().setMapToolbarEnabled(true);

        //Enable current Location buttons
        enableCurrentLocationButton();

        /* Set Click listener for Marker and MyLocationButton Click event*/
        googleMap.setOnMarkerClickListener(this);
        googleMap.setOnMyLocationButtonClickListener(this);

        //By default set Normal Map
        setMapType(MapType.NORMAL);
    }

    private void enableCurrentLocationButton() {
        //before further proceed check if google map is null or not because this method is calling after giving permission
        if (googleMap != null) {
            if (ContextCompat.checkSelfPermission(MainActivity.this,
                    android.Manifest.permission.ACCESS_FINE_LOCATION)
                    != PackageManager.PERMISSION_GRANTED)
                requestLocationPermission();
            else {
                googleMap.getUiSettings().setMyLocationButtonEnabled(true);//enable Location button, if you don't want MyLocationButton set it false
                googleMap.setMyLocationEnabled(true);//enable blue dot
            }
        }
    }


    /* Initiate Google API Client  */
    private void initGoogleAPIClient() {
        Log.e(TAG, "Init google api client");
        //Without Google API Client Auto Location Dialog will not work
        mGoogleApiClient = new GoogleApiClient.Builder(MainActivity.this)
                .addConnectionCallbacks(this)
                .addOnConnectionFailedListener(this)
                .addApi(LocationServices.API)
                .build();
        mGoogleApiClient.connect();
    }

    /* Check Location Permission for Marshmallow Devices */
    private void checkPermissions() {
        if (Build.VERSION.SDK_INT &gt;= 23) {
            if (ContextCompat.checkSelfPermission(MainActivity.this,
                    android.Manifest.permission.ACCESS_FINE_LOCATION)
                    != PackageManager.PERMISSION_GRANTED)
                requestLocationPermission();
            else
                showSettingDialog();
        } else
            showSettingDialog();

    }

    /*  Show Popup to access Location Permission  */
    private void requestLocationPermission() {
        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, android.Manifest.permission.ACCESS_FINE_LOCATION)) {
            ActivityCompat.requestPermissions(MainActivity.this,
                    new String[]{android.Manifest.permission.ACCESS_FINE_LOCATION},
                    ACCESS_FINE_LOCATION_INTENT_ID);

        } else {
            ActivityCompat.requestPermissions(MainActivity.this,
                    new String[]{android.Manifest.permission.ACCESS_FINE_LOCATION},
                    ACCESS_FINE_LOCATION_INTENT_ID);
        }
    }

    /* Show Location Access Dialog */
    private void showSettingDialog() {
        mLocationRequest = LocationRequest.create();
        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);//Setting priotity of Location request to high
        mLocationRequest.setInterval(30 * 1000);//after 30sec the location will update
        mLocationRequest.setFastestInterval(5 * 1000);//5 sec Time interval
        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()
                .addLocationRequest(mLocationRequest);
        builder.setAlwaysShow(true); //this is the key ingredient to show dialog always when GPS is off

        PendingResult&lt;LocationSettingsResult&gt; result =
                LocationServices.SettingsApi.checkLocationSettings(mGoogleApiClient, builder.build());
        result.setResultCallback(new ResultCallback&lt;LocationSettingsResult&gt;() {
            @Override
            public void onResult(LocationSettingsResult result) {
                final Status status = result.getStatus();
                final LocationSettingsStates state = result.getLocationSettingsStates();
                switch (status.getStatusCode()) {
                    case LocationSettingsStatusCodes.SUCCESS:
                        // All location settings are satisfied. The client can initialize location
                        // requests here.
                        //getOriginLatLng();
                        break;
                    case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:
                        // Location settings are not satisfied. But could be fixed by showing the user
                        // a dialog.
                        try {
                            // Show the dialog by calling startResolutionForResult(),
                            // and check the result in onActivityResult().
                            status.startResolutionForResult(MainActivity.this, REQUEST_CHECK_SETTINGS);
                        } catch (IntentSender.SendIntentException e) {
                            e.printStackTrace();
                            // Ignore the error.
                        }
                        break;
                    case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:
                        // Location settings are not satisfied. However, we have no way to fix the
                        // settings so we won't show the dialog.
                        break;
                }
            }
        });
    }

    @Override
    protected void onResume() {
        super.onResume();
        //On Resume check if google api is not null and is connected so that location update should start again
        if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected()) {
            Log.e(TAG, "onResume api client connect");
            startLocationUpdates();
        } else {
            //else if not connected or null initiate api client
            initGoogleAPIClient();
            Log.e(TAG, "onResume init api client");
        }

        //If location is not null set the last know location
        if (mLocation != null) {
            Log.e(TAG, "onResume update marker if location not null");
            updateCurrentMarker(new LatLng(mLocation.getLatitude(), mLocation.getLongitude()));
        }

        //Check Location permission
        checkPermissions();
    }

    protected void onStop() {
        //On Stop disconnect Api Client
        if (mGoogleApiClient != null) {
            Log.e(TAG, "onStop disconnect api client");
            mGoogleApiClient.disconnect();
        }
        super.onStop();
    }


    @Override
    public void onClick(View view) {

        switch (view.getId()) {
            case R.id.normal_map:
                setMapType(MapType.NORMAL);
                break;
            case R.id.hybrid_map:
                setMapType(MapType.HYBRID);
                break;
            case R.id.satellite_map:
                setMapType(MapType.SATELLITE);
                break;
            case R.id.terrain_map:
                setMapType(MapType.TERRAIN);
                break;
            case R.id.none_map:
                setMapType(MapType.NONE);
                break;
        }
    }

    /*  Set Map Type on basis of MapType Enum and highlight selected TextView */
    private void setMapType(MapType mapType) {
        switch (mapType) {
            case NORMAL:
                googleMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);
                normalMap.setTextColor(getResources().getColor(R.color.teal));
                setDefaultColorBack(new AppCompatTextView[]{hybridMap, satelliteMap, terrainMap, noneMap});
                break;
            case HYBRID:
                googleMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);
                hybridMap.setTextColor(getResources().getColor(R.color.teal));
                setDefaultColorBack(new AppCompatTextView[]{normalMap, satelliteMap, terrainMap, noneMap});
                break;
            case SATELLITE:
                googleMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);
                satelliteMap.setTextColor(getResources().getColor(R.color.teal));
                setDefaultColorBack(new AppCompatTextView[]{hybridMap, normalMap, terrainMap, noneMap});
                break;
            case TERRAIN:
                googleMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);
                terrainMap.setTextColor(getResources().getColor(R.color.teal));
                setDefaultColorBack(new AppCompatTextView[]{hybridMap, satelliteMap, normalMap, noneMap});
                break;
            case NONE:
                googleMap.setMapType(GoogleMap.MAP_TYPE_NONE);
                noneMap.setTextColor(getResources().getColor(R.color.teal));
                setDefaultColorBack(new AppCompatTextView[]{hybridMap, satelliteMap, terrainMap, normalMap});
                break;
        }
    }

    /*  Turn Selected TextView color back to Black when MapType changes  */
    private void setDefaultColorBack(AppCompatTextView[] views) {
        for (AppCompatTextView v : views)
            v.setTextColor(getResources().getColor(android.R.color.black));
    }

    @Override
    public void onConnected(@Nullable Bundle bundle) {

        //On API Client Connection check if location permission is granted or not
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                android.Manifest.permission.ACCESS_FINE_LOCATION)
                != PackageManager.PERMISSION_GRANTED)
            requestLocationPermission();
        else {
            //If granted then get last know location and update the location label if last know location is not null
            Log.e(TAG, "onConnected get last know location");
            mLocation = LocationServices.FusedLocationApi.getLastLocation(
                    mGoogleApiClient);
            if (mLocation != null) {
                Log.e(TAG, "onConnected get last know location not null");
                locationLabel.setText(String.format(getResources().getString(R.string.lat_lng), mLocation.getLatitude(), mLocation.getLongitude()));
            } else
                Log.e(TAG, "onConnected get last know location null");
        }

        //Start Location Update on successful connection
        startLocationUpdates();
    }

    /*  Start Location Update */
    protected void startLocationUpdates() {
        Log.e(TAG, "startLocationUpdates");
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                android.Manifest.permission.ACCESS_FINE_LOCATION)
                != PackageManager.PERMISSION_GRANTED)
            requestLocationPermission();
        else
            LocationServices.FusedLocationApi.requestLocationUpdates(
                    mGoogleApiClient, mLocationRequest, this);
    }

    //Handle API Client Connection Suspended
    @Override
    public void onConnectionSuspended(int i) {
        Log.e(TAG, "onConnectionSuspended");
    }

    //Handle API Client Connection Failed
    @Override
    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {
        Log.e(TAG, "onConnectionFailed");
    }

    //Handle Marker click event
    @Override
    public boolean onMarkerClick(Marker marker) {
        Log.e(TAG, "Marker Click: " + marker.getTitle() + "\nLocation : " + marker.getPosition());
        return false;
    }


    //On Location change method
    @Override
    public void onLocationChanged(Location location) {
        Log.e(TAG, "Location Changed : " + location.getLatitude() + ", " + location.getLongitude());

        mLocation = location;

        //Update Location label text
        locationLabel.setText(String.format(getResources().getString(R.string.lat_lng), location.getLatitude(), location.getLongitude()));

        //Update map marker on location change
        updateCurrentMarker(new LatLng(location.getLatitude(), location.getLongitude()));
    }


    //Update current marker of map
    private void updateCurrentMarker(LatLng latLng) {
        if (mMarker == null) {
            Log.e(TAG, "updateCurrentMarker marker null");
            if (googleMap != null) {
                Log.e(TAG, "updateCurrentMarker google map not null");

                //Set Marker position and default Icon
                mMarker = googleMap.addMarker(new MarkerOptions().position(latLng)
                        .icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_CYAN)));

                //If you want to set Custom Icon then uncomment below line and comment above lines
                //  mMarker =  googleMap.addMarker(new MarkerOptions().position(latLng).icon(BitmapDescriptorFactory.fromResource(R.drawable.ic_user_location)));

                mMarker.setTitle("You are here");//set Marker title
                googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17.0f));//animate camera to 17 float value
            } else
                Log.e(TAG, "updateCurrentMarker google map null");

        } else {
            //If marker is already there just update position
            Log.e(TAG, "updateCurrentMarker marker not null");
            mMarker.setPosition(latLng);

            //if you want to animate camera to updated location, then uncomment below line
            // googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17.0f));
        }
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        switch (requestCode) {
            // Check for the integer request code originally supplied to startResolutionForResult().
            case REQUEST_CHECK_SETTINGS:
                switch (resultCode) {
                    case RESULT_OK:
                        //If result is OK then start location Update
                        startLocationUpdates();
                        break;
                    case RESULT_CANCELED:
                        //else show toast
                        Toast.makeText(this, R.string.location_access_denied, Toast.LENGTH_SHORT).show();
                        break;
                }
                break;
        }
    }

    /* On Request permission method to check the permisison is granted or not for Marshmallow+ Devices  */
    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        switch (requestCode) {
            case ACCESS_FINE_LOCATION_INTENT_ID: {
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length &gt; 0
                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    //If permission granted show location dialog if APIClient is not null
                    if (mGoogleApiClient == null) {
                        initGoogleAPIClient();
                        showSettingDialog();
                    } else
                        showSettingDialog();

                    //enable MyLocationButton
                    enableCurrentLocationButton();


                } else {
                    Toast.makeText(MainActivity.this, R.string.permission_denied, Toast.LENGTH_SHORT).show();
                    // permission denied
                }
                return;
            }
        }
    }


    @Override
    protected void onPause() {
        super.onPause();
        //On Pause stop Location Update
        Log.e(TAG, "onPause stopLocationUpdates");
        if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected())
            stopLocationUpdates();
    }

    //Stop Location Update Method
    protected void stopLocationUpdates() {
        Log.e(TAG, "stopLocationUpdates");
        LocationServices.FusedLocationApi.removeLocationUpdates(
                mGoogleApiClient, this);
    }

    //Handle MyLocationButton click event
    @Override
    public boolean onMyLocationButtonClick() {
        Log.e(TAG, "onMyLocationButtonClick");
        return false;
    }
}</pre>
Finally, all set up. Run your code and see the magic of google maps. Now integrate google map to create location based applications.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/GoogleMap_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p class="p39">
<p>The post <a rel="nofollow" href="http://www.androhub.com/introduction-to-android-google-maps-v2/">Introduction to Android Google Maps V2</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/introduction-to-android-google-maps-v2/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1077</post-id>	</item>
		<item>
		<title>RecylerView Animation</title>
		<link>http://www.androhub.com/recylerview-animation/</link>
		<comments>http://www.androhub.com/recylerview-animation/#respond</comments>
		<pubDate>Mon, 04 Jul 2016 03:48:44 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Animations]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[android recyclerview]]></category>
		<category><![CDATA[animation]]></category>
		<category><![CDATA[listview animation]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[recyclerView animation]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1047</guid>
		<description><![CDATA[<p>In earlier tutorials we had learned implementation of RecyclerView. Now in this tutorial we will move to RecyclerView Animation part. The best thing of RecyclerView is that it provide inbuilt animations but the ListView and GridView don&#8217;t provide inbuilt animation. Now to implement the Animation in RecyclerView it provide some methods that we need to use: notifyItemRemoved(position) [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/recylerview-animation/">RecylerView Animation</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>In earlier tutorials we had learned implementation of <a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView</a>. Now in this tutorial we will move to RecyclerView Animation part. The best thing of RecyclerView is that it provide inbuilt animations but the <a href="http://www.androhub.com/android-listview/" target="_blank">ListView</a> and <a href="http://www.androhub.com/android-gridview/" target="_blank">GridView</a> don&#8217;t provide inbuilt animation. Now to implement the Animation in RecyclerView it provide some methods that we need to use:</p>
<ol>
<li><strong>notifyItemRemoved(position)</strong> : While removing item from RecyclerView we need to call this method, this method will remove the item from particular position with animation.</li>
<li><strong>notifyItemInserted(position)</strong> : If you want to insert item then you need to call this method, this method will insert the item at particular position with animation.</li>
<li><strong>notifyItemChanged(position)</strong> : When you want to change row item with any other item then you need to call this method, this method will change the item at particular position.</li>
</ol>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to use implement RecyclerView Animation.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_93332" width="602" height="339" src="https://www.youtube.com/embed/Kk6aRqcD0DQ?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;RecyclerView Animation Demo&lt;/string&gt;

    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="add"&gt;Add&lt;/string&gt;
    &lt;string name="delete"&gt;Delete&lt;/string&gt;
    &lt;string name="change"&gt;Change&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>3</b>. Open your<em> build.gradle</em> file and below dependency to it.</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.0.1'
    compile 'com.android.support:recyclerview-v7:23.0.1'
}</pre><p>
<b>4</b>. Create <em>activity_main.xml</em> and add the following code. In this xml file <a href="http://www.androhub.com/android-toolbar/" target="_blank">Toolbar</a> is taken in place of <a href="http://www.androhub.com/android-actionbar-and-option-menus/" target="_blank">ActionBar</a> and 3 RadioButtons to do three operations on RecyclerView and finally take RecyclerView.</p>
<p>If you are new to RecyclerView visit my <a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView tutorial.</a></p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"&gt;

    &lt;android.support.v7.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="fill_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="?attr/colorPrimary"
        android:elevation="5dp"
        app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;

    &lt;!--  Radio Group for doing different action on Recycler View Item Click--&gt;
    &lt;RadioGroup
        android:id="@+id/radio_group"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:orientation="horizontal"
        android:padding="5dp"&gt;

        &lt;RadioButton
            android:id="@+id/add_row"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:checked="true"
            android:text="@string/add" /&gt;

        &lt;RadioButton
            android:id="@+id/delete_row"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/delete" /&gt;

        &lt;RadioButton
            android:id="@+id/change_row"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/change" /&gt;
    &lt;/RadioGroup&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="1px" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>5</b>. Now for RecyclerView item row create <em>list_item_row.xml</em> and add views according to your requirement.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"&gt;

    &lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/row_item_text"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center_vertical"
        android:padding="25dp"
        android:text="Item"
        android:textColor="@android:color/white"
        android:textSize="18sp" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>6</b>. Open your <em>MainActivity.java</em> and the following code to it. In this class we are adding items to RecyclerView and handling RadioButton functionality.</p><pre class="crayon-plain-tag">package com.recyclerview_animation_demo;

import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.support.v7.widget.Toolbar;
import android.widget.RadioGroup;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {
    private static RecyclerView_Adapter adapter;
    private static RadioGroup radio_group;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        radio_group = (RadioGroup) findViewById(R.id.radio_group);//find id of radio group
        setUpToolbar();
        setUpRecyclerView();
        onRadioButtonSelected();
    }

    //set up toolbar
    private void setUpToolbar() {
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
    }

    //Set up recycler view with 20 items
    private void setUpRecyclerView() {

        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        recyclerView
                .setLayoutManager(new LinearLayoutManager(MainActivity.this));

        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 20; i++)
            arrayList.add("ITEM " + i);

        adapter = new RecyclerView_Adapter(MainActivity.this, arrayList);
        recyclerView.setAdapter(adapter);// set adapter on recycler view

    }

    //on radio button selection listener
    private void onRadioButtonSelected() {
        // Implementing checked change listener on radio group
        radio_group.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {

            @Override
            public void onCheckedChanged(RadioGroup group, int checkedId) {

                // Finding ID/Position of radio group child
                int pos = radio_group.indexOfChild(findViewById(checkedId));
                adapter.changeActionType(pos);//Change position in adapter class by passing current radio button position

            }

        });
    }

}</pre><p>
<b>7</b>. Finally create <em>RecyclerView_Adapter.java</em> class and add the following code to it. Below are some methods that are used to operate RecyclerView:</p>
<ul>
<li><strong>Delete Item</strong></li>
</ul>
<pre class="crayon-plain-tag">private void deleteItem(int position) {
        arrayList.remove(position);//remove from list
        notifyItemRemoved(position);//notify recycler view about item deletion
        Toast.makeText(context, "Item deleted successfully.", Toast.LENGTH_SHORT).show();//Toast
    }</pre>
<ul>
<li><strong>Insert Item</strong></li>
</ul>
<pre class="crayon-plain-tag">private void addItem(int position) {
        arrayList.add(position, "NEW ITEM " + position);//add item to list on selected position
        notifyItemInserted(position);//notify recycler view about item insertion
        Toast.makeText(context, "Item added successfully.", Toast.LENGTH_SHORT).show();//Toast
    }</pre>
<ul>
<li><strong>Change Item</strong></li>
</ul>
<pre class="crayon-plain-tag">private void changeItem(int position) {
        arrayList.set(position, "ITEM CHANGE " + position);//changing item name for selected position
        notifyItemChanged(position);//notify recycler view about item change
        Toast.makeText(context, "Item changed successfully.", Toast.LENGTH_SHORT).show();//Toast
    }</pre>
Now add all these methods to RecyclerView adapter.<br />
<pre class="crayon-plain-tag">package com.recyclerview_animation_demo;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Toast;

import com.recyclerview_animation_demo.RecyclerView_OnClickListener.OnClickListener;

import java.util.ArrayList;

/**
 * Created by SONU on 23/05/16.
 */
public class RecyclerView_Adapter extends
        RecyclerView.Adapter&lt;DemoViewHolder&gt; {

    // recycler view adapter
    private ArrayList&lt;String&gt; arrayList;
    private Context context;

    private int clickType = 0;//Variable for changing action type on item click

    public RecyclerView_Adapter(Context context,
                                ArrayList&lt;String&gt; arrayList) {
        this.context = context;
        this.arrayList = arrayList;

    }

    @Override
    public DemoViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        // This method will inflate the custom layout and return as view holder
        LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

        ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
                R.layout.list_item_row, viewGroup, false);
        return new DemoViewHolder(mainGroup);

    }

    @Override
    public void onBindViewHolder(DemoViewHolder demoViewHolder, int i) {

        demoViewHolder.title.setBackgroundColor(GenerateRandom_Color.generateRandomColor());//setting background color of text view
        demoViewHolder.title.setText(arrayList.get(i));//set Text

        // Implement click listener over layout
        demoViewHolder.setClickListener(new OnClickListener() {

            @Override
            public void OnItemClick(View view, int position) {
                switch (view.getId()) {
                    case R.id.row_item_text:
                        //On click type call respective method
                        switch (clickType) {
                            case 0:
                                addItem(position);
                                break;
                            case 1:
                                deleteItem(position);
                                break;
                            case 2:
                                changeItem(position);
                                break;
                        }

                        break;

                }
            }

        });

    }

    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);

    }

    //Method to change current action type
    void changeActionType(int position) {
        clickType = position;
    }


    //Delete item and notify item
    private void deleteItem(int position) {
        arrayList.remove(position);//remove from list
        notifyItemRemoved(position);//notify recycler view about item deletion
        Toast.makeText(context, "Item deleted successfully.", Toast.LENGTH_SHORT).show();//Toast
    }

    //Add item and notify item
    private void addItem(int position) {
        arrayList.add(position, "NEW ITEM " + position);//add item to list on selected position
        notifyItemInserted(position);//notify recycler view about item insertion
        Toast.makeText(context, "Item added successfully.", Toast.LENGTH_SHORT).show();//Toast
    }

    //Change item and notify item
    private void changeItem(int position) {
        arrayList.set(position, "ITEM CHANGE " + position);//changing item name for selected position
        notifyItemChanged(position);//notify recycler view about item change
        Toast.makeText(context, "Item changed successfully.", Toast.LENGTH_SHORT).show();//Toast
    }
}</pre>
Here the <strong>clickType</strong> is to check which <em>RadioButton</em> is selected for changing its value a method is created:<br />
<pre class="crayon-plain-tag">void changeActionType(int position) {
        clickType = position;
    }</pre>
<b>8</b>. Finally, all done – now you add Animation to your RecyclerView..</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/RecyclerView_Animation_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/recylerview-animation/">RecylerView Animation</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/recylerview-animation/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1047</post-id>	</item>
		<item>
		<title>Getting Battery Details</title>
		<link>http://www.androhub.com/getting-battery-details/</link>
		<comments>http://www.androhub.com/getting-battery-details/#respond</comments>
		<pubDate>Wed, 15 Jun 2016 13:06:25 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[battery]]></category>
		<category><![CDATA[battery details]]></category>
		<category><![CDATA[battery status]]></category>
		<category><![CDATA[broadcast receiver]]></category>
		<category><![CDATA[materail design]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=850</guid>
		<description><![CDATA[<p>The main objective of this article is to help you to get all the details of the Battery in Android. Sometimes you need to read battery status and do some task on it. So today we will learn how to fetch all battery details. VIDEO DEMO 1. Create a new project in Android Studio by navigating to [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/getting-battery-details/">Getting Battery Details</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>The main objective of this article is to help you to get all the <strong>details of the Battery</strong> in Android. Sometimes you need to read battery status and do some task on it. So today we will learn how to fetch all battery details.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_95022" width="602" height="339" src="https://www.youtube.com/embed/sxQiCaX99Lw?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Create <em>activity_main.xml</em> and add the following code. In this we are taking TextView for displaying Battery Details.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"&gt;

    &lt;android.support.v7.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="fill_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="?attr/colorPrimary"
        android:elevation="5dp"
        app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;

    &lt;TextView
        android:id="@+id/battery_details"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="10dp"
        android:textColor="@android:color/black"
        android:textSize="15sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>3</b>. Now we will create a <em><a href="http://androhub.com/android-detect-internet-connection-using-broadcast-receiver/" target="_blank">Broadcast Receiver</a></em> naming <em>Battery_Receiver.java</em> to receive the Battery Status change. In this class we will read all Battery Data and change the TextView text in MainActivity class. In this Receiver we are using methods for getting Battery Details :</p>
<ul>
<li><strong>getPlugTypeString()</strong> : Used for Charging Type.</li>
<li><strong>getHealthString()</strong> : Used for Health Type.</li>
<li><strong>getStatusString()</strong>  Used for Battery Status.</li>
</ul>
<pre class="crayon-plain-tag">package com.batterydetails_demo;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.BatteryManager;
import android.os.Bundle;
import android.util.Log;

/**
 * Created by SONU on 23/05/16.
 */
public class Battery_Receiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {

        //Get intent data of battery details
        boolean isPresent = intent.getBooleanExtra("present", false);
        String technology = intent.getStringExtra("technology");
        int plugged = intent.getIntExtra("plugged", -1);
        int scale = intent.getIntExtra("scale", -1);
        int health = intent.getIntExtra("health", 0);
        int status = intent.getIntExtra("status", 0);
        int rawlevel = intent.getIntExtra("level", -1);
        int voltage = intent.getIntExtra("voltage", 0);
        int temperature = intent.getIntExtra("temperature", 0);
        int level = 0;

        Bundle bundle = intent.getExtras();
        Log.i("BatteryLevel", bundle.toString());
        if (isPresent) {
            if (rawlevel &gt;= 0 &amp;&amp; scale &gt; 0) {
                level = (rawlevel * 100) / scale;
            }

            //Concatenate all details of battery
            String info = "Battery Level: " + level + "%\n";
            info += ("Technology: " + technology + "\n");
            info += ("Plugged: " + getPlugTypeString(plugged) + "\n");
            info += ("Health: " + getHealthString(health) + "\n");
            info += ("Status: " + getStatusString(status) + "\n");
            info += ("Voltage: " + voltage + "\n");
            info += ("Temperature: " + temperature + "\n");
            new MainActivity().setBatteryLevelText(info + "\n\nBundle Data:\n" + bundle.toString());//Set battery text in main Activity
        } else
            new MainActivity().setBatteryLevelText("Battery not present!!!");// If no battery exist display this message

    }

    //Get Plug type for battery
    private String getPlugTypeString(int plugged) {
        String plugType = "Unknown";
        switch (plugged) {
            case BatteryManager.BATTERY_PLUGGED_AC:
                plugType = "AC";
                break;
            case BatteryManager.BATTERY_PLUGGED_USB:
                plugType = "USB";
                break;
        }
        return plugType;
    }

    //Get Health of battery
    private String getHealthString(int health) {
        String healthString = "Unknown";

        switch (health) {
            case BatteryManager.BATTERY_HEALTH_DEAD:
                healthString = "Dead";
                break;
            case BatteryManager.BATTERY_HEALTH_GOOD:
                healthString = "Good";
                break;
            case BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE:
                healthString = "Over Voltage";
                break;
            case BatteryManager.BATTERY_HEALTH_OVERHEAT:
                healthString = "Over Heat";
                break;
            case BatteryManager.BATTERY_HEALTH_UNSPECIFIED_FAILURE:
                healthString = "Failure";
                break;
        }

        return healthString;
    }

    //Get Status of battery
    private String getStatusString(int status) {
        String statusString = "Unknown";

        switch (status) {
            case BatteryManager.BATTERY_STATUS_CHARGING:
                statusString = "Charging";
                break;
            case BatteryManager.BATTERY_STATUS_DISCHARGING:
                statusString = "Discharging";
                break;
            case BatteryManager.BATTERY_STATUS_FULL:
                statusString = "Full";
                break;
            case BatteryManager.BATTERY_STATUS_NOT_CHARGING:
                statusString = "Not Charging";
                break;
        }

        return statusString;
    }
}</pre>
<b>4</b>. Now create <em>MainActivity.java</em> and add the following code. In this class we need to follow below step:</p>
<ul>
<li>   <strong> Register Receiver</strong> : Register above created receiver with<strong><a href="https://developer.android.com/reference/android/content/IntentFilter.html" target="_blank"> IntentFilter</a> &#8211; Intent.ACTION_BATTERY_CHANGED.</strong></li>
</ul>
<pre class="crayon-plain-tag">package com.batterydetails_demo;

import android.content.Intent;
import android.content.IntentFilter;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {
    private static TextView battery_details;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        setUpToolbar();
        battery_details = (TextView) findViewById(R.id.battery_details);
        registerBatteryLevelReceiver();
    }

    //set up toolbar
    private void setUpToolbar() {
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
    }

    //Register Battery receiver with intent filter
    private void registerBatteryLevelReceiver() {
        IntentFilter filter = new IntentFilter(Intent.ACTION_BATTERY_CHANGED);
        registerReceiver(new Battery_Receiver(), filter);
    }

    //Set text of battery details
    public void setBatteryLevelText(String text) {
        battery_details.setText(text);
    }

}</pre>
<b>5</b>. Finally, all done – now you can also read Battery Status.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/BatteryDetails_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/getting-battery-details/">Getting Battery Details</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/getting-battery-details/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">850</post-id>	</item>
		<item>
		<title>Android Contextual Action Mode Over Toolbar</title>
		<link>http://www.androhub.com/android-contextual-action-mode-over-toolbar/</link>
		<comments>http://www.androhub.com/android-contextual-action-mode-over-toolbar/#comments</comments>
		<pubDate>Tue, 19 Apr 2016 12:55:21 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[action bar]]></category>
		<category><![CDATA[action mode]]></category>
		<category><![CDATA[android coordinator layout]]></category>
		<category><![CDATA[Android Material Design]]></category>
		<category><![CDATA[android viewpager]]></category>
		<category><![CDATA[app bar layout]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[list view]]></category>
		<category><![CDATA[recycler view]]></category>
		<category><![CDATA[ToolBar]]></category>
		<category><![CDATA[toolbar action mode]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=830</guid>
		<description><![CDATA[<p>You have seen Action Mode Menu in many apps like Whatsapp, Hike, Gmail, etc. while selecting multiple chats/emails on long press i.e. called Action Mode What is Action Mode? It represents a contextual mode of the user interface. Action modes can be used to provide alternative interaction modes and replace parts of the normal UI until [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-contextual-action-mode-over-toolbar/">Android Contextual Action Mode Over Toolbar</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>You have seen <a href="http://developer.android.com/reference/android/view/ActionMode.html" target="_blank">Action Mode</a> Menu in many apps like Whatsapp, Hike, Gmail, etc. while selecting multiple chats/emails on long press i.e. called <a href="http://developer.android.com/reference/android/view/ActionMode.html" target="_blank">Action Mode</a></p>
<h2>What is Action Mode?</h2>
<p>It represents a contextual mode of the user interface. Action modes can be used to provide alternative interaction modes and replace parts of the normal UI until finished. Examples of good action modes include text selection and contextual actions.</p>
<h2>How to Use?</h2>
<p>For Using Action Mode we need to extend our class with ActionMode.Callback. Its a Callback interface for action modes. Supplied to <code><a href="http://developer.android.com/reference/android/support/v7/app/AppCompatDelegate.html#startSupportActionMode(android.support.v7.view.ActionMode.Callback)" target="_blank">startSupportActionMode(Callback)</a></code> (Callback)}, a Callback configures and handles events raised by a user&#8217;s interaction with an action mode.</p>
<p>An action mode&#8217;s lifecycle is as follows:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/support/v7/app/AppCompatDelegate.html#startSupportActionMode(android.support.v7.view.ActionMode.Callback)" target="_blank"><code>onCreateActionMode(ActionMode, Menu)</code></a> once on initial creation.</li>
<li><code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.Callback.html#onPrepareActionMode(android.support.v7.view.ActionMode, android.view.Menu)" target="_blank">onPrepareActionMode(ActionMode, Menu)</a></code> after creation and any time the <code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.html" target="_blank">ActionMode</a></code> is invalidated.</li>
<li><code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.Callback.html#onActionItemClicked(android.support.v7.view.ActionMode, android.view.MenuItem)" target="_blank">onActionItemClicked(ActionMode, MenuItem)</a></code> any time a contextual action button is clicked.</li>
<li><code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.Callback.html#onDestroyActionMode(android.support.v7.view.ActionMode)" target="_blank">onDestroyActionMode(ActionMode)</a></code> when the action mode is closed.</li>
</ul>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to implement Action Mode on ListView and RecyclerView item selection.</p>
<h3>Prerequisite:</h3>
<ol>
<li><a href="http://androhub.com/android-listview/" target="_blank">ListView</a></li>
<li><a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a></li>
<li><a href="http://androhub.com/android-toolbar/" target="_blank">Toolbar</a></li>
<li><a href="http://androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Tab Bar Layout</a></li>
</ol>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_13067" width="602" height="339" src="https://www.youtube.com/embed/KWv9mLqzY44?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.1.1'
    compile 'com.android.support:recyclerview-v7:23.1.1'
    compile 'com.android.support:design:23.1.1'
}</pre><p>
<b>3</b>. Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Toolbar ActionMode Demo&lt;/string&gt;

    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;

    &lt;!--  Action Mode Menu Items --&gt;
    &lt;string name="delete"&gt;Delete&lt;/string&gt;
    &lt;string name="copy"&gt;Copy&lt;/string&gt;
    &lt;string name="forward"&gt;Forward&lt;/string&gt;

&lt;/resources&gt;</pre><p>
<b>4</b>. Create new xml file naming <strong>colors.xml</strong>  under <strong>res=&gt;values</strong> folder<strong> </strong>and add the following colors.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;color name="colorPrimary"&gt;#D32F2F&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#C62828&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#F44336&lt;/color&gt;
    &lt;color name="grey"&gt;#EEEEEE&lt;/color&gt;
&lt;/resources&gt;</pre><p>
<b>5</b>. Open <strong>styles.xml</strong> located under <strong>res=&gt;values</strong> folder and add following styles.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;!-- Base application theme. --&gt;
    &lt;style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar"&gt;
        &lt;!-- Customize your theme here. --&gt;

        &lt;item name="android:windowDisablePreview"&gt;true&lt;/item&gt;
        &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;

        &lt;!--  It should be true otherwise action mode will not overlay toolbar --&gt;
        &lt;item name="windowActionModeOverlay"&gt;true&lt;/item&gt;

        &lt;!--  For Custom Action Mode Background Color/Drawable --&gt;
        &lt;item name="actionModeBackground"&gt;@color/colorAccent&lt;/item&gt;

    &lt;/style&gt;
&lt;/resources&gt;</pre><p>
Some important part about above styles.xml:</p>
<ul>
<li><b><i></i></b><b><i>windowActionModeOverlay</i></b> should be <b><i>true </i></b>otherwise you will get action mode above toolbar not overlays the toolbar.</li>
</ul>
<div id="attachment_837" style="width: 710px" class="wp-caption aligncenter"><a href="https://i2.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg"><img class="wp-image-837 size-large" src="https://i2.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/action_mode_above_toolbar-1024x520.jpg?resize=602%2C305" alt="action mode above toolbar" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?resize=1024%2C520 1024w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?resize=300%2C152 300w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?resize=768%2C390 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?w=1080 1080w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></a><p class="wp-caption-text">action mode above toolbar</p></div>
<ul>
<li><b><i></i></b><b><i>actionModeBackground</i></b> is used to set custom background to your action mode menu else it will take default theme color.</li>
</ul>
<div id="attachment_836" style="width: 710px" class="wp-caption aligncenter"><a href="https://i2.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/default_action_mode_color.jpg"><img class="wp-image-836 size-large" src="https://i1.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/default_action_mode_color-1024x364.jpg?resize=602%2C214" alt="default theme action mode " srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?resize=1024%2C364 1024w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?resize=300%2C107 300w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?resize=768%2C273 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?w=1080 1080w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></a><p class="wp-caption-text">default theme action mode</p></div>
<p><b>6</b>. Create <em>activity_main.xml</em> and add the following code. In this i am using Tab Bar Layout for creating tabs.</p><pre class="crayon-plain-tag">&lt;android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/coordinatorLayout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"&gt;

    &lt;!-- AppBar Layout   --&gt;
    &lt;android.support.design.widget.AppBarLayout
        android:id="@+id/appBarLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"&gt;

        &lt;android.support.v7.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="fill_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:layout_scrollFlags="scroll|enterAlways"
            app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;
        &lt;!-- Tab Layout for creating tabs --&gt;
        &lt;android.support.design.widget.TabLayout
            android:id="@+id/tabLayout"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            app:tabIndicatorColor="@android:color/white" /&gt;
    &lt;/android.support.design.widget.AppBarLayout&gt;
    &lt;!-- Helps handing the Fragments for each Tab --&gt;
    &lt;android.support.v4.view.ViewPager
        android:id="@+id/viewPager"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        app:layout_behavior="@string/appbar_scrolling_view_behavior" /&gt;
&lt;/android.support.design.widget.CoordinatorLayout&gt;</pre><p>
<b>7</b>. Create <i>list_view_fragment.xml </i>for ListView fragment and add ListView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/grey"
    android:gravity="center"
    android:orientation="vertical"&gt;

    &lt;!--  List View  --&gt;
    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:scrollbars="none" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>8</b>. Like above we also need to create <em>recycler</em><i>_view_fragment.xml </i>for RecyclerView fragment and add the RecyclerView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/grey"
    android:gravity="center"
    android:orientation="vertical"&gt;

    &lt;!--  Recycler View  --&gt;
    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recyclerView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:scrollbars="none" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>9</b>. Now we need to create custom row for both ListView and RecyclerView. So we can use same xml for both, so create new xml file naming <em>item_row.xml</em>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="10dp"&gt;

    &lt;TextView
        android:text="Title"
        android:id="@+id/title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="@android:color/black"
        android:textSize="16sp" /&gt;

    &lt;TextView
        android:text="Sub Title"
        android:id="@+id/sub_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="@android:color/darker_gray"
        android:textSize="13sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>10</b>. Now come to <em>MainActivity.java</em> and add the following code for adding tabs and fragments to it.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.os.Bundle;
import android.support.design.widget.TabLayout;
import android.support.v4.app.Fragment;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;

public class MainActivity extends AppCompatActivity {
    private static ViewPagerAdapter adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        ViewPager viewPager = (ViewPager) findViewById(R.id.viewPager);
        setupViewPager(viewPager);//Set up View Pager

        TabLayout tabLayout = (TabLayout) findViewById(R.id.tabLayout);
        tabLayout.setupWithViewPager(viewPager);//setting tab over viewpager
    }


    //Setting View Pager
    private void setupViewPager(ViewPager viewPager) {
        adapter = new ViewPagerAdapter(getSupportFragmentManager());
        adapter.addFrag(new ListView_Fragment(), "ListView");
        adapter.addFrag(new RecyclerView_Fragment(), "RecyclerView");
        viewPager.setAdapter(adapter);
    }


    //Return current fragment on basis of Position
    public Fragment getFragment(int pos) {
        return adapter.getItem(pos);
    }

}</pre><p>
<b>11</b>. Create new<em> ViewPagerAdapter.java</em> class for ViewPager tab fragments.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by SONU on 27/03/16.
 */
public class ViewPagerAdapter extends FragmentPagerAdapter {
    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();//fragment array list
    private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();//title array list

    public ViewPagerAdapter(FragmentManager manager) {
        super(manager);
    }

    @Override
    public Fragment getItem(int position) {
        return mFragmentList.get(position);
    }

    @Override
    public int getCount() {
        return mFragmentList.size();
    }


    //adding fragments and title method
    public void addFrag(Fragment fragment, String title) {
        mFragmentList.add(fragment);
        mFragmentTitleList.add(title);
    }

    @Override
    public CharSequence getPageTitle(int position) {
        return mFragmentTitleList.get(position);
    }

}</pre><p>
<b>12</b>. For Custom ListView and RecyclerView we need to create getter and setter class naming <em>Item_Model.java</em>.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import java.io.Serializable;

/**
 * Created by SONU on 27/03/16.
 */
public class Item_Model implements Serializable {

    /*  Model class for List and Recycler Items  */
    private String title, subTitle;

    public Item_Model(String title, String subTitle) {
        this.title = title;
        this.subTitle = subTitle;
    }

    public String getTitle() {
        return title;
    }

    public String getSubTitle() {
        return subTitle;
    }
}</pre><p>
<b>13</b>. Now create<i> ListView_Fragment.java</i> and add the following code. In this i am implementing ActionMode on ListView long click item and starting Action Mode.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.view.ActionMode;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.ListView;
import android.widget.Toast;

import java.util.ArrayList;

/**
 * Created by SONU on 27/03/16.
 */
public class ListView_Fragment extends Fragment {
    private static View view;
    private static ListView_Adapter adapter;
    private static ListView listView;
    //Action Mode for toolbar
    private ActionMode mActionMode;
    private static ArrayList&lt;Item_Model&gt; item_models;

    public ListView_Fragment() {
    }
    
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.list_view_fragment, container, false);
        populateListView();
        implementListViewClickListeners();
        return view;
    }

    //Populate ListView with dummy data
    private void populateListView() {
        listView = (ListView) view.findViewById(R.id.list_view);
        item_models = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 40; i++)
            item_models.add(new Item_Model("Title " + i, "Sub Title " + i));
        adapter = new ListView_Adapter(getActivity(), item_models);
        listView.setAdapter(adapter);
        adapter.notifyDataSetChanged();
    }

    //Implement item click and long click over list view
    private void implementListViewClickListeners() {
         listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView&lt;&gt; parent, View view, int position, long id) {
                //If ActionMode not null select item
                if (mActionMode != null)
                    onListItemSelect(position);
            }
        });
         listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
            @Override
            public boolean onItemLongClick(AdapterView&lt;&gt; parent, View view, int position, long id) {
                //Select item on long click
                onListItemSelect(position);
                return true;
            }
        });
    }

  //List item select method
    private void onListItemSelect(int position) {
        adapter.toggleSelection(position);//Toggle the selection
        boolean hasCheckedItems = adapter.getSelectedCount() &gt; 0;//Check if any items are already selected or not
        if (hasCheckedItems &amp;&amp; mActionMode == null)
            // there are some selected items, start the actionMode
            mActionMode = ((AppCompatActivity) getActivity()).startSupportActionMode(new Toolbar_ActionMode_Callback(getActivity(), null, adapter, item_models, true));
        else if (!hasCheckedItems &amp;&amp; mActionMode != null)
            // there no selected items, finish the actionMode
            mActionMode.finish();
        if (mActionMode != null)
            //set action mode title on item selection
            mActionMode.setTitle(String.valueOf(adapter
                    .getSelectedCount()) + " selected");
    }
 
  //Set action mode null after use
    public void setNullToActionMode() {
        if (mActionMode != null)
            mActionMode = null;
    }

    //Delete selected rows
    public void deleteRows() {
        SparseBooleanArray selected = adapter
                .getSelectedIds();//Get selected ids
        //Loop all selected ids
        for (int i = (selected.size() - 1); i &gt;= 0; i--) {
            if (selected.valueAt(i)) {
                //If current id is selected remove the item via key
                item_models.remove(selected.keyAt(i));
                adapter.notifyDataSetChanged();//notify adapter

            }
        }
        Toast.makeText(getActivity(), selected.size() + " item deleted.", Toast.LENGTH_SHORT).show();//Show Toast
        mActionMode.finish();//Finish action mode after use
    }
}</pre><p>
<b>14</b>. Now for ListView adapter create new adapter class naming <i>ListView_Adapter.java</i> and add the following code. In this last some methods do the main thing for item selection.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.graphics.Color;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import java.util.ArrayList;

/**
 * Created by SONU on 29/03/16.
 */
public class ListView_Adapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;Item_Model&gt; item_modelArrayList;
    private SparseBooleanArray mSelectedItemsIds;

    public ListView_Adapter(Context context, ArrayList&lt;Item_Model&gt; item_modelArrayList) {
        this.context = context;
        this.item_modelArrayList = item_modelArrayList;
        mSelectedItemsIds = new SparseBooleanArray();
    }

    @Override
    public int getCount() {
        return item_modelArrayList.size();
    }

    @Override
    public Item_Model getItem(int position) {
        return item_modelArrayList.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        ViewHolder holder;
        if (convertView == null) {
            convertView = inflater.inflate(R.layout.item_row, parent, false);
            holder = new ViewHolder();
            holder.title = (TextView) convertView.findViewById(R.id.title);
            holder.sub_title = (TextView) convertView.findViewById(R.id.sub_title);

            convertView.setTag(holder);
        } else
            holder = (ViewHolder) convertView.getTag();

        holder.title.setText(item_modelArrayList.get(position).getTitle());
        holder.sub_title.setText(item_modelArrayList.get(position).getSubTitle());


        /** Change background color of the selected items in list view  **/
        convertView
                .setBackgroundColor(mSelectedItemsIds.get(position) ? 0x9934B5E4
                        : Color.TRANSPARENT);

        return convertView;
    }

    private class ViewHolder {
        TextView title, sub_title;
    }


    /***
     * Methods required for do selections, remove selections, etc.
     */

    //Toggle selection methods
    public void toggleSelection(int position) {
        selectView(position, !mSelectedItemsIds.get(position));
    }


    //Remove selected selections
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }


    //Put or delete selected position into SparseBooleanArray
    public void selectView(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, value);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    //Get total selected count
    public int getSelectedCount() {
        return mSelectedItemsIds.size();
    }

    //Return all selected ids
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }
}</pre><p>
<b>15</b>. Now this is main class in which Action Mode things happen. So create new class name <i>Toolbar_ActionMode_<wbr />Callback.java  </i>and add the following code. In this we are inflating action mode menu and implementing click listener over menu items.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.os.Build;
import android.support.v4.app.Fragment;
import android.support.v4.view.MenuItemCompat;
import android.support.v7.view.ActionMode;
import android.util.Log;
import android.util.SparseBooleanArray;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.Toast;

import java.util.ArrayList;

/**
 * Created by SONU on 22/03/16.
 */
public class Toolbar_ActionMode_Callback implements ActionMode.Callback {

    private Context context;
    private RecyclerView_Adapter recyclerView_adapter;
    private ListView_Adapter listView_adapter;
    private ArrayList&lt;Item_Model&gt; message_models;
    private boolean isListViewFragment;


    public Toolbar_ActionMode_Callback(Context context, RecyclerView_Adapter recyclerView_adapter, ListView_Adapter listView_adapter, ArrayList&lt;Item_Model&gt; message_models, boolean isListViewFragment) {
        this.context = context;
        this.recyclerView_adapter = recyclerView_adapter;
        this.listView_adapter = listView_adapter;
        this.message_models = message_models;
        this.isListViewFragment = isListViewFragment;
    }

    @Override
    public boolean onCreateActionMode(ActionMode mode, Menu menu) {
        mode.getMenuInflater().inflate(R.menu.menu_main, menu);//Inflate the menu over action mode
        return true;
    }

    @Override
    public boolean onPrepareActionMode(ActionMode mode, Menu menu) {

        //Sometimes the meu will not be visible so for that we need to set their visibility manually in this method
        //So here show action menu according to SDK Levels
        if (Build.VERSION.SDK_INT &lt; 11) {
            MenuItemCompat.setShowAsAction(menu.findItem(R.id.action_delete), MenuItemCompat.SHOW_AS_ACTION_NEVER);
            MenuItemCompat.setShowAsAction(menu.findItem(R.id.action_copy), MenuItemCompat.SHOW_AS_ACTION_NEVER);
            MenuItemCompat.setShowAsAction(menu.findItem(R.id.action_forward), MenuItemCompat.SHOW_AS_ACTION_NEVER);
        } else {
            menu.findItem(R.id.action_delete).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
            menu.findItem(R.id.action_copy).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
            menu.findItem(R.id.action_forward).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
        }

        return true;
    }

    @Override
    public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
        switch (item.getItemId()) {
            case R.id.action_delete:

                //Check if current action mode is from ListView Fragment or RecyclerView Fragment
                if (isListViewFragment) {
                    Fragment listFragment = new MainActivity().getFragment(0);//Get list view Fragment
                    if (listFragment != null)
                        //If list fragment is not null
                        ((ListView_Fragment) listFragment).deleteRows();//delete selected rows
                } else {
                    //If current fragment is recycler view fragment
                    Fragment recyclerFragment = new MainActivity().getFragment(1);//Get recycler view fragment
                    if (recyclerFragment != null)
                        //If recycler fragment not null
                        ((RecyclerView_Fragment) recyclerFragment).deleteRows();//delete selected rows
                }
                break;
            case R.id.action_copy:

                //Get selected ids on basis of current fragment action mode
                SparseBooleanArray selected;
                if (isListViewFragment)
                    selected = listView_adapter
                            .getSelectedIds();
                else
                    selected = recyclerView_adapter
                            .getSelectedIds();

                int selectedMessageSize = selected.size();

                //Loop to all selected items
                for (int i = (selectedMessageSize - 1); i &gt;= 0; i--) {
                    if (selected.valueAt(i)) {
                        //get selected data in Model
                        Item_Model model = message_models.get(selected.keyAt(i));
                        String title = model.getTitle();
                        String subTitle = model.getSubTitle();
                        //Print the data to show if its working properly or not
                        Log.e("Selected Items", "Title - " + title + "n" + "Sub Title - " + subTitle);

                    }
                }
                Toast.makeText(context, "You selected Copy menu.", Toast.LENGTH_SHORT).show();//Show toast
                mode.finish();//Finish action mode
                break;
            case R.id.action_forward:
                Toast.makeText(context, "You selected Forward menu.", Toast.LENGTH_SHORT).show();//Show toast
                mode.finish();//Finish action mode
                break;


        }
        return false;
    }


    @Override
    public void onDestroyActionMode(ActionMode mode) {

        //When action mode destroyed remove selected selections and set action mode to null
        //First check current fragment action mode
        if (isListViewFragment) {
            listView_adapter.removeSelection();  // remove selection
            Fragment listFragment = new MainActivity().getFragment(0);//Get list fragment
            if (listFragment != null)
                ((ListView_Fragment) listFragment).setNullToActionMode();//Set action mode null
        } else {
            recyclerView_adapter.removeSelection();  // remove selection
            Fragment recyclerFragment = new MainActivity().getFragment(1);//Get recycler fragment
            if (recyclerFragment != null)
                ((RecyclerView_Fragment) recyclerFragment).setNullToActionMode();//Set action mode null
        }
    }
}</pre><p>
<b>16</b>. For action mode menu create menu inside <b>menu</b> folder and add the following menus to it.</p><pre class="crayon-plain-tag">&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".MainActivity"&gt;

    &lt;!--  Toolbar ActionMode Menu Items  --&gt;
    &lt;item
        android:id="@+id/action_delete"
        android:icon="@mipmap/ic_action_delete"
        android:orderInCategory="100"
        android:title="@string/delete"
        app:showAsAction="always" /&gt;
    &lt;item
        android:id="@+id/action_copy"
        android:icon="@mipmap/ic_action_copy"
        android:orderInCategory="100"
        android:title="@string/copy"
        app:showAsAction="always" /&gt;
    &lt;item
        android:id="@+id/action_forward"
        android:icon="@mipmap/ic_action_forward"
        android:orderInCategory="100"
        android:title="@string/forward"
        app:showAsAction="always" /&gt;
&lt;/menu&gt;</pre><p>
<b>17</b>. Now for RecyclerView create new java class naming <i>RecyclerView_Fragment.java</i> and add the following code. It is mostly same as <i>ListView_Fragment.java</i>.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.view.ActionMode;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Toast;

import java.util.ArrayList;

/**
 * Created by SONU on 27/03/16.
 */
public class RecyclerView_Fragment extends Fragment {
    private static View view;
    private static RecyclerView recyclerView;
    private static ArrayList&lt;Item_Model&gt; item_models;
    private static RecyclerView_Adapter adapter;
    private ActionMode mActionMode;

    public RecyclerView_Fragment() {
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.recycler_view_fragment, container, false);
        populateRecyclerView();
        implementRecyclerViewClickListeners();
        return view;
    }

    //Populate ListView with dummy data
    private void populateRecyclerView() {
        recyclerView = (RecyclerView) view.findViewById(R.id.recyclerView);
        recyclerView.setHasFixedSize(true);
        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));

        item_models = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 40; i++)
            item_models.add(new Item_Model("Title " + i, "Sub Title " + i));

        adapter = new RecyclerView_Adapter(getActivity(), item_models);
        recyclerView.setAdapter(adapter);
        adapter.notifyDataSetChanged();
    }

    //Implement item click and long click over recycler view
    private void implementRecyclerViewClickListeners() {
        recyclerView.addOnItemTouchListener(new RecyclerTouchListener(getActivity(), recyclerView, new RecyclerClick_Listener() {
            @Override
            public void onClick(View view, int position) {
                //If ActionMode not null select item
                if (mActionMode != null)
                    onListItemSelect(position);
            }

            @Override
            public void onLongClick(View view, int position) {
                //Select item on long click
                onListItemSelect(position);
            }
        }));
    }

    //List item select method
    private void onListItemSelect(int position) {
        adapter.toggleSelection(position);//Toggle the selection

        boolean hasCheckedItems = adapter.getSelectedCount() &gt; 0;//Check if any items are already selected or not


        if (hasCheckedItems &amp;&amp; mActionMode == null)
            // there are some selected items, start the actionMode
            mActionMode = ((AppCompatActivity) getActivity()).startSupportActionMode(new Toolbar_ActionMode_Callback(getActivity(),adapter, null, item_models, false));
        else if (!hasCheckedItems &amp;&amp; mActionMode != null)
            // there no selected items, finish the actionMode
            mActionMode.finish();

        if (mActionMode != null)
            //set action mode title on item selection
            mActionMode.setTitle(String.valueOf(adapter
                    .getSelectedCount()) + " selected");


    }
    //Set action mode null after use
    public void setNullToActionMode() {
        if (mActionMode != null)
            mActionMode = null;
    }

    //Delete selected rows
    public void deleteRows() {
        SparseBooleanArray selected = adapter
                .getSelectedIds();//Get selected ids

        //Loop all selected ids
        for (int i = (selected.size() - 1); i &gt;= 0; i--) {
            if (selected.valueAt(i)) {
                //If current id is selected remove the item via key
                item_models.remove(selected.keyAt(i));
                adapter.notifyDataSetChanged();//notify adapter

            }
        }
        Toast.makeText(getActivity(), selected.size() + " item deleted.", Toast.LENGTH_SHORT).show();//Show Toast
        mActionMode.finish();//Finish action mode after use

    }
}</pre><p>
<b>18</b>. Create ViewHolder for RecyclerView adapter naming <i>DemoViewHolder.java</i> and add the following code.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

/**
 * Created by SONU on 27/03/16.
 */
public class DemoViewHolder extends RecyclerView.ViewHolder {


    public TextView title, sub_title;


    public DemoViewHolder(View view) {
        super(view);


        this.title = (TextView) view.findViewById(R.id.title);
        this.sub_title = (TextView) view.findViewById(R.id.sub_title);

    }
}</pre><p>
<b>19</b>. For RecyclerView adapter create new java class naming <i>RecyclerView_Adapter.java</i> and add the code.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.graphics.Color;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.ViewGroup;

import java.util.ArrayList;

/**
 * Created by SONU on 27/03/16.
 */
public class RecyclerView_Adapter extends
        RecyclerView.Adapter&lt;DemoViewHolder&gt; {
    private ArrayList&lt;Item_Model&gt; arrayList;
    private Context context;
    private SparseBooleanArray mSelectedItemsIds;

    public RecyclerView_Adapter(Context context,
                                ArrayList&lt;Item_Model&gt; arrayList) {
        this.context = context;
        this.arrayList = arrayList;
        mSelectedItemsIds = new SparseBooleanArray();

    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);

    }

    @Override
    public void onBindViewHolder(DemoViewHolder holder,
                                 int position) {

        //Setting text over text view
        holder.title.setText(arrayList.get(position).getTitle());
        holder.sub_title.setText(arrayList.get(position).getSubTitle());

        /** Change background color of the selected items in list view  **/
        holder.itemView
                .setBackgroundColor(mSelectedItemsIds.get(position) ? 0x9934B5E4
                        : Color.TRANSPARENT);


    }

    @Override
    public DemoViewHolder onCreateViewHolder(
            ViewGroup viewGroup, int viewType) {
        LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

        ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
                R.layout.item_row, viewGroup, false);
        return new DemoViewHolder(mainGroup);

    }


    /***
     * Methods required for do selections, remove selections, etc.
     */

    //Toggle selection methods
    public void toggleSelection(int position) {
        selectView(position, !mSelectedItemsIds.get(position));
    }


    //Remove selected selections
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }


    //Put or delete selected position into SparseBooleanArray
    public void selectView(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, value);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    //Get total selected count
    public int getSelectedCount() {
        return mSelectedItemsIds.size();
    }

    //Return all selected ids
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }


}</pre><p>
<b>20</b>. For RecyclerView click listener we need to create a interface naming <i>RecyclerClick_Listener.<wbr />java </i>and the following code.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.view.View;

/**
 * Created by SONU on 15/03/16.
 */
public interface RecyclerClick_Listener {

    /**
     * Interface for Recycler View Click listener
     **/

    void onClick(View view, int position);

    void onLongClick(View view, int position);
}</pre><p>
<b>21</b>. Now for implementing touch listener over Recycler View create <i>RecyclerTouchListener.java</i> and implement the interface that we created and add the following code to it.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.GestureDetector;
import android.view.MotionEvent;
import android.view.View;

/**
 * Created by SONU on 15/03/16.
 */
public class RecyclerTouchListener implements RecyclerView.OnItemTouchListener {

    private GestureDetector gestureDetector;
    private RecyclerClick_Listener clickListener;

    public RecyclerTouchListener(Context context, final RecyclerView recyclerView, final RecyclerClick_Listener clickListener) {
        this.clickListener = clickListener;
        gestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener() {
            @Override
            public boolean onSingleTapUp(MotionEvent e) {
                return true;
            }

            @Override
            public void onLongPress(MotionEvent e) {
                View child = recyclerView.findChildViewUnder(e.getX(), e.getY());
                if (child != null &amp;&amp; clickListener != null) {
                    clickListener.onLongClick(child, recyclerView.getChildPosition(child));
                }
            }
        });
    }

    @Override
    public boolean onInterceptTouchEvent(RecyclerView rv, MotionEvent e) {

        View child = rv.findChildViewUnder(e.getX(), e.getY());
        if (child != null &amp;&amp; clickListener != null &amp;&amp; gestureDetector.onTouchEvent(e)) {
            clickListener.onClick(child, rv.getChildPosition(child));
        }
        return false;
    }

    @Override
    public void onTouchEvent(RecyclerView rv, MotionEvent e) {
    }

    @Override
    public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {

    }
}</pre><p>
<b>22</b>. Finally, all done – now you can also create ActionMode.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/Toolbar_ActionMode_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b><b></b></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-contextual-action-mode-over-toolbar/">Android Contextual Action Mode Over Toolbar</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-contextual-action-mode-over-toolbar/feed/</wfw:commentRss>
		<slash:comments>21</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">830</post-id>	</item>
		<item>
		<title>Navigation View-Material Design Support Library Tutorial</title>
		<link>http://www.androhub.com/navigation-view-material-design-support-library-tutorial/</link>
		<comments>http://www.androhub.com/navigation-view-material-design-support-library-tutorial/#comments</comments>
		<pubDate>Tue, 22 Mar 2016 06:05:53 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Drawer]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android Material Design]]></category>
		<category><![CDATA[Android NavigationDrawer]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[android]]></category>
		<category><![CDATA[android design support library]]></category>
		<category><![CDATA[android toolbar]]></category>
		<category><![CDATA[fragment]]></category>
		<category><![CDATA[navigation]]></category>
		<category><![CDATA[Navigation Drawer]]></category>
		<category><![CDATA[Navigation View]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=811</guid>
		<description><![CDATA[<p>Google I/O 2015 has brought a whole new set of tools for Android Developers which are meant to make our lives easier. I´d like to devote a set of articles to talk about the incredibly useful Design Support Library. For Material Design tutorial check this link. Navigation View In this article, I&#8217;ll start talking about [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/navigation-view-material-design-support-library-tutorial/">Navigation View-Material Design Support Library Tutorial</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p><a href="https://events.google.com/io2015/" target="_blank">Google I/O 2015</a> has brought a whole new set of tools for Android Developers which are meant to make our lives easier. I´d like to devote a set of articles to talk about the incredibly useful <a href="http://android-developers.blogspot.com.es/2015/05/android-design-support-library.html" target="_blank">Design Support Library</a>.</p>
<p>For Material Design tutorial check this <a href="http://androhub.com/android-toolbar/" target="_blank">link</a>.</p>
<h2>Navigation View</h2>
<p>In this article, I&#8217;ll start talking about the <strong><a href="http://developer.android.com/reference/android/support/design/widget/NavigationView.html" target="_blank">Navigation View</a></strong>. Since Material Design was released, we were given a standard definition on <a href="http://www.google.com/design/spec/patterns/navigation-drawer.html" target="_blank">how a Navigation Drawer must look and feel</a>. Truth is that implementing those guidelines was rather time consuming. But now, with the navigation view, the implementation is much easier.</p>
<p><strong>Navigation View</strong> represents a standard navigation menu for application. The menu contents can be populated by a menu resource file. NavigationView is typically placed inside a <code><a href="http://developer.android.com/reference/android/support/v4/widget/DrawerLayout.html" target="_blank">DrawerLayout</a></code>.</p>
<p>We had done <a href="http://androhub.com/android-navigationdrawer/" target="_blank">Navigation Drawer</a> in earlier articles but this is too easy and too awesome.</p>
<p><span style="text-decoration: underline;"><strong>Navigation View Xml structure:</strong></span></p><pre class="crayon-plain-tag">&lt;android.support.design.widget.NavigationView
        android:id="@+id/slider_menu"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:layout_gravity="start"
        app:menu="@menu/navigation_menu"
        app:header="@layout/header" /&gt;</pre><p>
<h3>Prerequisite:</h3>
<ol>
<li><a href="http://androhub.com/android-toolbar/" target="_blank">Material Design Toolbar.</a></li>
<li><a href="http://androhub.com/android-fragments/" target="_blank">Fragment Implementation.</a></li>
<li><a href="http://androhub.com/android-pass-data-from-activity-to-fragment/" target="_blank">Pass data between Activity.</a></li>
<li><a href="http://androhub.com/android-pass-data-from-activity-to-fragment/" target="_blank">Pass data to Fragments.</a></li>
</ol>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to implement Navigation View with default and custom way.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_70667" width="602" height="339" src="https://www.youtube.com/embed/_ky7q7QywXo?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.1.1'
    compile 'com.android.support:design:23.1.1'
}</pre><p>
<b>3</b>. Open <strong>res ⇒ values</strong> and create a new xml file naming <em>colors.xml </em>and add the following colors to it.<strong>   </strong></p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;color name="colorPrimary"&gt;#009688&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#00796B&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#4DB6AC&lt;/color&gt;
&lt;/resources&gt;</pre><p>
<b>4</b>. Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;NavigationView Demo&lt;/string&gt;

    &lt;string name="default_navigation_view"&gt;Default Navigation View&lt;/string&gt;
    &lt;string name="custom_navigation_view"&gt;Custom Navigation View&lt;/string&gt;
    &lt;string name="drawer_open"&gt;Drawer Open&lt;/string&gt;
    &lt;string name="drawer_close"&gt;Drawer Close&lt;/string&gt;
    &lt;string name="others"&gt;Others&lt;/string&gt;

    &lt;!--  Navigation View String Values  --&gt;
    &lt;string name="home"&gt;Home&lt;/string&gt;
    &lt;string name="my_account"&gt;My Account&lt;/string&gt;
    &lt;string name="chat"&gt;Chat&lt;/string&gt;
    &lt;string name="notification"&gt;Notification&lt;/string&gt;
    &lt;string name="share"&gt;Share App&lt;/string&gt;
    &lt;string name="rate"&gt;Rate App&lt;/string&gt;
    &lt;string name="settings"&gt;Settings&lt;/string&gt;
    &lt;string name="help"&gt;Help&lt;/string&gt;

&lt;/resources&gt;</pre><p>
<b>5</b>. Create a xml for toolbar naming <em>toolbar.xml.</em></p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v7.widget.Toolbar xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:local="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="?attr/colorPrimary"
    android:elevation="4dp"
    local:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar" &gt;
&lt;/android.support.v7.widget.Toolbar&gt;</pre><p>
<b>6</b>. Since we are going to learn default and custom navigation view, so we need to create two xml files for this:</p>
<ul>
<li><em><strong>default_navigation_view.xml</strong></em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v4.widget.DrawerLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/drawer_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;

    &lt;LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"&gt;

        &lt;include
            android:id="@+id/main_toolbar"
            layout="@layout/toolbar" /&gt;

        &lt;FrameLayout
            android:id="@+id/frame_container"
            android:layout_width="match_parent"
            android:layout_height="match_parent" /&gt;
    &lt;/LinearLayout&gt;

    &lt;!--  Navigation View--&gt;
    &lt;android.support.design.widget.NavigationView
        android:id="@+id/slider_menu"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:layout_gravity="start"
        app:menu="@menu/navigation_menu" /&gt;

&lt;/android.support.v4.widget.DrawerLayout&gt;</pre>
<ul>
<li><em><strong>custom_navigation_view.xml</strong></em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v4.widget.DrawerLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/drawer_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;

    &lt;LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"&gt;

        &lt;include
            android:id="@+id/main_toolbar"
            layout="@layout/toolbar" /&gt;

        &lt;FrameLayout
            android:id="@+id/frame_container"
            android:layout_width="match_parent"
            android:layout_height="match_parent" /&gt;
    &lt;/LinearLayout&gt;

    &lt;!--  Navigation View--&gt;
    &lt;android.support.design.widget.NavigationView
        android:id="@+id/slider_menu"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:layout_gravity="start"
        app:itemIconTint="@drawable/navigation_menu_selector"
        app:itemTextColor="@drawable/navigation_menu_selector"
        app:menu="@menu/navigation_menu" /&gt;

&lt;/android.support.v4.widget.DrawerLayout&gt;</pre>
<b>7</b>. In <em>custom_navigation_view.xml</em> we are using <em>drawable</em> <em>navigation_menu_selector</em> i.e. custom selector, so now create a new xml file under <em>drawable</em> resource naming <em>navigation_menu_selector.xml</em> and add the following code:<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;!-- This is used when the Navigation Item is checked --&gt;
    &lt;item android:color="#E91E63" android:state_checked="true" /&gt;
    &lt;!-- This is the default text color --&gt;
    &lt;item android:color="@android:color/black" /&gt;
&lt;/selector&gt;</pre>
<b>8</b>. For menu items  for Navigation View we need to create a new menu under menu directory naming navigation_menu.xml and add the following menus:<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;!-- Main Menus --&gt;
    &lt;group android:checkableBehavior="single"&gt;

        &lt;item
            android:id="@+id/home"
            android:checkable="true"
            android:checked="true"
            android:icon="@drawable/ic_home"
            android:title="@string/home" /&gt;


        &lt;item
            android:id="@+id/my_account"
            android:checkable="true"
            android:checked="false"
            android:icon="@drawable/ic_my_account"
            android:title="@string/my_account" /&gt;

        &lt;item
            android:id="@+id/notifications"
            android:checkable="true"
            android:checked="false"
            android:icon="@drawable/ic_notification"
            android:title="@string/notification" /&gt;
        &lt;item
            android:id="@+id/chat"
            android:checkable="true"
            android:checked="false"
            android:icon="@drawable/ic_chat"
            android:title="@string/chat" /&gt;

    &lt;/group&gt;

    &lt;!--  Sub Menus  --&gt;
    &lt;item android:title="@string/others"&gt;
        &lt;menu&gt;
            &lt;group android:checkableBehavior="none"&gt;
                &lt;item
                    android:id="@+id/share_app"
                    android:icon="@drawable/ic_share"
                    android:title="@string/share" /&gt;
                &lt;item
                    android:id="@+id/rate_app"
                    android:icon="@drawable/ic_rate"
                    android:title="@string/rate" /&gt;
                &lt;item
                    android:id="@+id/settings"
                    android:icon="@drawable/ic_settings"
                    android:title="@string/settings" /&gt;
                &lt;item
                    android:id="@+id/help"
                    android:icon="@drawable/ic_help"
                    android:title="@string/help" /&gt;
            &lt;/group&gt;
        &lt;/menu&gt;
    &lt;/item&gt;


&lt;/menu&gt;</pre>
For menu icons you can download form <a href="https://icons8.com/" target="_blank">Icons8</a> site and size should be 24px.</p>
<p><b>9</b>. Now for Header View of Navigation View create new layout xml file naming <em>header_view.xml </em>and add your header UI in these xml.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/sellers_profile_layout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/white"&gt;
    &lt;!-- Header View --&gt;
    &lt;ImageView
        android:id="@+id/image_view"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:layout_margin="10dp"
        android:src="@drawable/ic_user" /&gt;

    &lt;LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:layout_toRightOf="@+id/image_view"
        android:orientation="vertical"
        android:paddingBottom="15dp"
        android:paddingRight="15dp"
        android:paddingTop="15dp"&gt;

        &lt;TextView
            android:id="@+id/username"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:text="Dr. Droid"
            android:textColor="@android:color/black"
            android:textSize="15sp" /&gt;

        &lt;TextView
            android:id="@+id/email_address"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:text="androhub.com"
            android:textColor="@android:color/black"
            android:textSize="13sp" /&gt;
    &lt;/LinearLayout&gt;

    &lt;View
        android:layout_width="fill_parent"
        android:layout_height="1dp"
        android:layout_alignParentBottom="true"
        android:background="@android:color/darker_gray" /&gt;
&lt;/RelativeLayout&gt;</pre><p>
<b>10</b>. Now create <em>activity_main.xml</em> that contains two <em>button</em> for starting default and custom navigation view activity.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="vertical"
    android:padding="10dp"&gt;

    &lt;Button
        android:id="@+id/default_navigation_view"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/default_navigation_view"
        android:textColor="#000000"
        android:textSize="15sp" /&gt;

    &lt;Button
        android:id="@+id/custom_navigation_view"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/custom_navigation_view"
        android:textColor="#000000"
        android:textSize="15sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>11</b>. Now create a java class naming <em>MainActivity.java</em> and add the following code. In this class we are just starting <em>NavigationView_Activity</em> class by passing <em>boolean</em> data type.</p><pre class="crayon-plain-tag">package com.navigationview_demo;

import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        findViewById(R.id.default_navigation_view).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                startNavigationViewActivity(true);
            }
        });
        findViewById(R.id.custom_navigation_view).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                startNavigationViewActivity(false);
            }
        });
    }

    /*  Start Navigation View activity  */
    private void startNavigationViewActivity(boolean value) {
        Intent in = new Intent(MainActivity.this, NavigationView_Activity.class);
        in.putExtra("value", value);
        startActivity(in);

    }
}</pre><p>
<b>12</b>. Now mainly create NavigationMenu_Activity.java and add the following code. In this code there is nothing to do with navigation view because we already set menu items in xml layout. So here we are just going to implement navigation view menu item click listener.</p>
<p>For using header view for changing text or images you can refer to<strong><em> setUpHeaderView()</em> </strong>in this class.</p><pre class="crayon-plain-tag">package com.navigationview_demo;

import android.content.res.Configuration;
import android.os.Bundle;
import android.support.design.widget.NavigationView;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.widget.DrawerLayout;
import android.support.v7.app.ActionBarDrawerToggle;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.view.Gravity;
import android.view.MenuItem;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;

/**
 * Created by SONU on 21/03/16.
 */
public class NavigationView_Activity extends AppCompatActivity {

    private static DrawerLayout mDrawerLayout;
    private static ActionBarDrawerToggle mDrawerToggle;
    private static Toolbar toolbar;
    private static FragmentManager fragmentManager;
    private static NavigationView navigationView;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        //Get boolean data value from intent
        boolean isDefaultNavigationView = getIntent().getBooleanExtra("value", false);

        //according to boolean value set content view
        if (isDefaultNavigationView)
            setContentView(R.layout.default_navigation_view_activity);
        else
            setContentView(R.layout.custom_navigation_view_activity);

        initViews();
        setUpHeaderView();
        onMenuItemSelected();

        //At start set home fragment
        if (savedInstanceState == null) {
            navigationView.setCheckedItem(R.id.home);
            MenuItem item = navigationView.getMenu().findItem(R.id.home);
            setFragment(item);
        }
    }

    /*  Init all views  */
    private void initViews() {
        toolbar = (Toolbar) findViewById(R.id.main_toolbar);
        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
        navigationView = (NavigationView) findViewById(R.id.slider_menu);
        fragmentManager = getSupportFragmentManager();
        mDrawerToggle = new ActionBarDrawerToggle(this,
                mDrawerLayout, toolbar, // nav menu toggle icon
                R.string.drawer_open, // nav drawer open - description for
                // accessibility
                R.string.drawer_close // nav drawer close - description for
                // accessibility
        ) {
            public void onDrawerClosed(View view) {
            }

            public void onDrawerOpened(View drawerView) {

            }
        };
        mDrawerLayout.setDrawerListener(mDrawerToggle);

    }

    @Override
    protected void onPostCreate(Bundle savedInstanceState) {
        super.onPostCreate(savedInstanceState);
        // Sync the toggle state after onRestoreInstanceState has occurred.
        mDrawerToggle.syncState();
    }

    @Override
    public void onConfigurationChanged(Configuration newConfig) {
        super.onConfigurationChanged(newConfig);
        // Pass any configuration change to the drawer toggls
        mDrawerToggle.onConfigurationChanged(newConfig);
    }


    /**
     * For using header view use this method
     **/
    private void setUpHeaderView() {
        View headerView = navigationView.inflateHeaderView(R.layout.header_view);
        TextView textOne = (TextView) headerView.findViewById(R.id.username);
        TextView textTwo = (TextView) headerView.findViewById(R.id.email_address);
    }


    /*  Method for Navigation View item selection  */
    private void onMenuItemSelected() {
        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {
            @Override
            public boolean onNavigationItemSelected(MenuItem item) {

                //Check and un-check menu item if they are checkable behaviour
                if (item.isCheckable()) {
                    if (item.isChecked()) item.setChecked(false);
                    else item.setChecked(true);
                }

                //Closing drawer on item click
                mDrawerLayout.closeDrawers();

                switch (item.getItemId()) {
                    case R.id.home:
                        //Replace fragment


                        setFragment(item);
                        break;

                    case R.id.my_account:
                        //Replace fragment


                        setFragment(item);
                        break;
                    case R.id.chat:
                        //Replace fragment


                        setFragment(item);
                        break;
                    case R.id.notifications:
                        //Replace fragment


                        setFragment(item);

                        break;
                    case R.id.share_app:

                        //Start new Activity or do your stuff


                        Toast.makeText(NavigationView_Activity.this, "You Clicked on "" + item.getTitle().toString() + "" menu item.", Toast.LENGTH_SHORT).show();
                        break;
                    case R.id.rate_app:
                        //Start new Activity or do your stuff


                        Toast.makeText(NavigationView_Activity.this, "You Clicked on "" + item.getTitle().toString() + "" menu item.", Toast.LENGTH_SHORT).show();
                        break;
                    case R.id.settings:
                        //Start new Activity or do your stuff


                        Toast.makeText(NavigationView_Activity.this, "You Clicked on "" + item.getTitle().toString() + "" menu item.", Toast.LENGTH_SHORT).show();
                        break;
                    case R.id.help:
                        //Start new Activity or do your stuff


                        Toast.makeText(NavigationView_Activity.this, "You Clicked on "" + item.getTitle().toString() + "" menu item.", Toast.LENGTH_SHORT).show();

                        break;

                }

                return false;
            }
        });
    }

    /*  Set Fragment, setting toolbar title and passing item title via bundle to fragments*/
    public void setFragment(MenuItem item) {
        toolbar.setTitle(item.getTitle());

        //Find fragment by tag
        Fragment fr = fragmentManager.findFragmentByTag(item.getTitle().toString());

        Fragment dummyFragment = new Dummy_Fragment();
        Bundle b = new Bundle();

        //If fragment is null replace fragment
        if (fr == null) {
            b.putString("data", item.getTitle().toString());
            dummyFragment.setArguments(b);//Set Arguments
            fragmentManager
                    .beginTransaction()
                    .replace(R.id.frame_container,
                            dummyFragment, item.getTitle().toString())
                    .commit();
        }
    }


    //On back press check if drawer is open and closed
    @Override
    public void onBackPressed() {
        if (mDrawerLayout.isDrawerOpen(Gravity.LEFT))
            mDrawerLayout.closeDrawers();
        else
            super.onBackPressed();
    }
}</pre><p>
<b>13</b>. We are using Dummy_Fragment in above step so we need to create a xml file naming <em>dummy_fragment.xml</em>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="vertical"&gt;

    &lt;TextView
        android:id="@+id/fragment_textview"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:padding="15dp"
        android:textColor="@android:color/black"
        android:textSize="17sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>14</b>. For xml dummy_fragment create a java file naming <em>Dummy_Fragment.java</em> and add the following code.</p><pre class="crayon-plain-tag">package com.navigationview_demo;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

/**
 * Created by SONU on 21/03/16.
 */
public class Dummy_Fragment extends Fragment {

    public Dummy_Fragment() {
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.dummy_fragment, container, false);

        TextView text = (TextView) view.findViewById(R.id.fragment_textview);

        //Get bundle data from arguments and set text over textview
        String title = getArguments().getString("data");
        text.setText(title);

        return view;
    }
}</pre><p>
<b>15</b>. Don&#8217;t forget to declare your <em>NavigationView_Activity</em> inside <em>AndroidManifest.xml</em>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.navigationview_demo"&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme"&gt;
        &lt;activity
            android:name=".MainActivity"
            android:label="@string/app_name"&gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity android:name=".NavigationView_Activity" /&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>16</b>. Some important codes of NavigationView:</p>
<ul>
<li>For accessing header view :</li>
</ul>
<pre class="crayon-plain-tag">View headerView = navigationView.inflateHeaderView(R.layout.header_view);</pre>
<ul>
<li>For checking menu item manually:</li>
</ul>
<p>&#8211; for api level 23+</p><pre class="crayon-plain-tag">navigationView.setCheckedItem(R.id.home);</pre><p>
&#8211; for api level below 23</p><pre class="crayon-plain-tag">navigationView.getMenu().getItem(0).setChecked(true);</pre><p>
** where &#8216;0&#8217; is the <strong>index</strong> of the menu item.</p>
<ul>
<li>Getting MenuItem from the navigation view  menus.</li>
</ul>
<pre class="crayon-plain-tag">MenuItem item = navigationView.getMenu().findItem(R.id.home);</pre>
<b>17</b>. Finally, all done &#8211; now develop an awesome app using navigation view.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/NavigationView_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/navigation-view-material-design-support-library-tutorial/">Navigation View-Material Design Support Library Tutorial</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/navigation-view-material-design-support-library-tutorial/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">811</post-id>	</item>
		<item>
		<title>Android Toolbar Animation Using Design Support Library</title>
		<link>http://www.androhub.com/android-toolbar-animation-using-design-support-library/</link>
		<comments>http://www.androhub.com/android-toolbar-animation-using-design-support-library/#respond</comments>
		<pubDate>Fri, 02 Oct 2015 08:24:11 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android CardView]]></category>
		<category><![CDATA[Android Material Design]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[Android UI Design]]></category>
		<category><![CDATA[android cardview]]></category>
		<category><![CDATA[android recyclerview]]></category>
		<category><![CDATA[appbar layout]]></category>
		<category><![CDATA[cardview]]></category>
		<category><![CDATA[collapsing toolbar layout]]></category>
		<category><![CDATA[floating action button]]></category>
		<category><![CDATA[Material Design]]></category>
		<category><![CDATA[recycler view]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[ToolBar]]></category>
		<category><![CDATA[toolbar animation]]></category>
		<category><![CDATA[ui design]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=675</guid>
		<description><![CDATA[<p>With the new Design support library for Android, it has become easier for us to create some great animations with minimal effort. We have seen WhatsApp profile view design with user image hide on scrolling. For that we need Design Support Library. In one of my earlier tutorial i had shown how to hide and show [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-toolbar-animation-using-design-support-library/">Android Toolbar Animation Using Design Support Library</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>With the new Design support library for Android, it has become easier for us to create some great animations with minimal effort.</p>
<p>We have seen WhatsApp profile view design with user image hide on scrolling. For that we need Design Support Library. In one of my earlier tutorial i had shown how to hide and show ToolBar you can see the <a href="http://androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">tutorial here</a>.</p>
<p>For this tutorial you need to learn how to implement material design in android that you can <a href="http://androhub.com/android-toolbar/" target="_blank">check here</a>.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to implement ToolBar Animation using Design Support Library.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_23773" width="602" height="339" src="https://www.youtube.com/embed/RH3zaLO8H4E?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.0.1'
    compile 'com.android.support:design:23.0.1'
    compile 'com.android.support:recyclerview-v7:23.0.1'
    compile 'com.android.support:cardview-v7:23.0.1'
    compile 'com.android.support:palette-v7:23.0.1'
}</pre><p>
<b>3</b>. Open <strong>res ⇒ values</strong> and create a new xml file naming <em>colors.xml </em>and add the following colors to it.<strong>   </strong></p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;


    &lt;color name="colorPrimary"&gt;#2196F3&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#1976D2&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#BBDEFB&lt;/color&gt;
    &lt;color name="textColorPrimary"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="windowBackground"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="navigationBarColor"&gt;#000000&lt;/color&gt;
    &lt;color name="black_trans"&gt;#14000000&lt;/color&gt;

&lt;/resources&gt;</pre><p>
<b>4</b>. For material design we need to modify to our styles.xml file by adding below codes :</p><pre class="crayon-plain-tag">&lt;resources&gt;

    &lt;style name="AppBaseTheme" parent="AppTheme" /&gt;

    &lt;!-- Base application theme. --&gt;
    &lt;style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar"&gt;
        &lt;!-- Customize your theme here. --&gt;

        &lt;item name="android:windowDisablePreview"&gt;true&lt;/item&gt;
        &lt;item name="windowActionBar"&gt;false&lt;/item&gt;

        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;


    &lt;/style&gt;

&lt;/resources&gt;</pre><p>
Now, for 21 Api Level we need to create a new folder  under <em>res</em> directory naming <em>values-v21 </em>and create styles.xml file and add this code to it :</p><pre class="crayon-plain-tag">&lt;resources&gt;


    &lt;!-- Base application theme. --&gt;
    &lt;style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar"&gt;
        &lt;!-- Customize your theme here. --&gt;

        &lt;item name="android:windowDisablePreview"&gt;true&lt;/item&gt;
        &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;
        &lt;item name="android:navigationBarColor"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="android:windowContentTransitions"&gt;true&lt;/item&gt;
        &lt;item name="android:windowAllowEnterTransitionOverlap"&gt;true&lt;/item&gt;
        &lt;item name="android:windowAllowReturnTransitionOverlap"&gt;true&lt;/item&gt;
        &lt;item name="android:windowSharedElementEnterTransition"&gt;@android:transition/move&lt;/item&gt;
        &lt;item name="android:windowSharedElementExitTransition"&gt;@android:transition/move&lt;/item&gt;


    &lt;/style&gt;

&lt;/resources&gt;</pre><p>
<b>5</b>. Now create a layout xml file naming <em>activity_main.xml </em>and add the below code to it. This code will help us to do toolbar animation by hiding image. The parent should be CoordinatorLayout and inside that we need AppBarLayout inside this add CollapsingToolbarLayout that will help us to achieve the animation.</p>
<p>You must set the <em>layout_scrollFlags</em> for the CollapsingToolbarLayout :</p>
<ul>
<li><strong>scroll</strong>: this flag should be set for all views that want to scroll off the screen – for views that do not use this flag, they’ll remain pinned to the top of the screen</li>
</ul>
<ul>
<li><strong>exitUntilCollapsed</strong>: this flag causes the view to scroll off until it is ‘collapsed’ (its minHeight) before exiting.</li>
</ul>
<p>In CollapsingToolbarLayout add this flags :</p><pre class="crayon-plain-tag">app:layout_scrollFlags="scroll|exitUntilCollapsed"</pre><p>
Now put your ImageView inside CollapseToolbar similarly you can put here any view that you want to hide on scroll and add the collapse mode:</p><pre class="crayon-plain-tag">app:layout_collapseMode="parallax"</pre><p>
The Toolbar must use <em>pin</em> as its <em>collapseMode<strong> </strong></em>because we want the Toolbar to persist and remain on top as the user scrolls down. Note I haven’t set any color for the Toolbar. That will be taken care of by the CollapsingToolbarLayout which will dynamically pick a color from our image and set it to the Toolbar on scroll.</p>
<p>Now add RecyclerView or any your view with below layout behaviour:</p><pre class="crayon-plain-tag">app:layout_behavior="@string/appbar_scrolling_view_behavior"</pre><p>
</p><pre class="crayon-plain-tag">&lt;android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fitsSystemWindows="true"&gt;

    &lt;android.support.design.widget.AppBarLayout
        android:id="@+id/appbar"
        android:layout_width="match_parent"
        android:layout_height="192dp"
        android:fitsSystemWindows="true"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"&gt;

        &lt;android.support.design.widget.CollapsingToolbarLayout
            android:id="@+id/collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:contentScrim="?attr/colorPrimary"
            app:expandedTitleMarginBottom="32dp"
            app:expandedTitleMarginEnd="64dp"
            app:expandedTitleMarginStart="48dp"
            app:layout_scrollFlags="scroll|exitUntilCollapsed"&gt;

            &lt;!--  Your View that you want to hide on animation --&gt;
            &lt;ImageView
                android:id="@+id/header"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:background="@drawable/background"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                app:layout_collapseMode="parallax" /&gt;

            &lt;!-- Your toolbar should always below your View otherwise it won't be visible  --&gt;
            &lt;android.support.v7.widget.Toolbar
                android:id="@+id/toolBar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin"
                app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;
        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;
    &lt;/android.support.design.widget.AppBarLayout&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recyclerView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_behavior="@string/appbar_scrolling_view_behavior" /&gt;

    &lt;android.support.design.widget.FloatingActionButton
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="6dp"
        android:clickable="true"
        android:src="@drawable/ic_add"
        app:backgroundTint="@color/colorPrimary"
        app:elevation="6dp"
        app:layout_anchor="@+id/appbar"
        app:layout_anchorGravity="bottom|right|end" /&gt;

&lt;/android.support.design.widget.CoordinatorLayout&gt;</pre><p>
<b>6</b>. Since we are using RecyclerView so we need custom layout. So create custom layout naming item_row.xml and add the code.</p>
<p>If you want to learn how to implement recycler view than you can see my <a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView tutorial</a>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v7.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/cardView"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginLeft="10dp"
    android:layout_marginRight="10dp"
    android:layout_marginTop="10dp"
    app:cardCornerRadius="5dp"
    app:cardElevation="7dp"&gt;

    &lt;TextView
        android:id="@+id/cardTitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:padding="15dp"
        android:text="Card Title"
        android:textColor="#000000"
        android:textSize="17sp" /&gt;

&lt;/android.support.v7.widget.CardView&gt;</pre><p>
<b>7</b>. Now create a ViewHolder class for RecyclerView naming <em>DemoViewHolder.java </em>and add the following code.</p><pre class="crayon-plain-tag">package com.androidtoolbaranimation_demo;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

/**
 * Created by SONU on 25/09/15.
 */
public class DemoViewHolder  extends RecyclerView.ViewHolder {


public TextView title;


public DemoViewHolder(View view) {
        super(view);


        this.title = (TextView) view.findViewById(R.id.cardTitle);

}
        }</pre><p>
<b>8</b>. Now create RecyclerViewAdapter class naming <em>RecyclerView_Adapter.java</em> and add the following code.</p><pre class="crayon-plain-tag">package com.androidtoolbaranimation_demo;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.ViewGroup;

import java.util.ArrayList;

/**
 * Created by SONU on 25/09/15.
 */
public class RecyclerView_Adapter extends
        RecyclerView.Adapter&lt;DemoViewHolder&gt; {
    private ArrayList&lt;String&gt; arrayList;
    private Context context;


    public RecyclerView_Adapter(Context context,
                                ArrayList&lt;String&gt; arrayList) {
        this.context = context;
        this.arrayList = arrayList;

    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);

    }

    @Override
    public void onBindViewHolder(DemoViewHolder holder,
                                 int position) {


        final DemoViewHolder mainHolder = (DemoViewHolder) holder;
        //Setting text over textview
        mainHolder.title.setText(arrayList.get(position));

    }

    @Override
    public DemoViewHolder onCreateViewHolder(
            ViewGroup viewGroup, int viewType) {
        LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

        ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
                R.layout.item_row, viewGroup, false);
        DemoViewHolder mainHolder = new DemoViewHolder(mainGroup) {
            @Override
            public String toString() {
                return super.toString();
            }
        };


        return mainHolder;

    }


}</pre><p>
<b>9</b>. Finally come to your <em>MainActivity.java</em> and add the following code. In this we have to set title to CollapsingToolbarLayout only otherwise it won&#8217;t show title.</p>
<p>I had uses the palette that will generate the color based on our image in AsyncTask and set it over Toolbar.</p><pre class="crayon-plain-tag">package com.androidtoolbaranimation_demo;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.support.design.widget.CollapsingToolbarLayout;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.graphics.Palette;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.support.v7.widget.Toolbar;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {
    private static RecyclerView recyclerView;
    private static Toolbar toolbar;
    private static CollapsingToolbarLayout collapsingToolbarLayout;
    int mutedColor = R.attr.colorPrimary;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        toolbar = (Toolbar)findViewById(R.id.toolBar);
        setSupportActionBar(toolbar);
        getSupportActionBar().setDisplayHomeAsUpEnabled(true);

        collapsingToolbarLayout = (CollapsingToolbarLayout)findViewById(R.id.collapsing_toolbar);
        collapsingToolbarLayout.setTitle("Toolbar Animation Demo");//Set Title over collapsing toolbar layout


        Bitmap bitmap = BitmapFactory.decodeResource(getResources(),
                R.drawable.background);

      // It will generate colors based on the image in an AsyncTask.
        Palette.from(bitmap).generate(new Palette.PaletteAsyncListener() {
            @SuppressWarnings("ResourceType")
            @Override
            public void onGenerated(Palette palette) {

                mutedColor = palette.getMutedColor(R.color.colorPrimary);
                collapsingToolbarLayout.setContentScrimColor(mutedColor);
                collapsingToolbarLayout.setStatusBarScrimColor(R.color.black_trans);
            }
        });
        setRecyclerView();
    }

    //Setting recycler view
    private void setRecyclerView() {

        recyclerView = (RecyclerView)
                findViewById(R.id.recyclerView);
        recyclerView.setHasFixedSize(true);
        recyclerView
                .setLayoutManager(new LinearLayoutManager(MainActivity.this));//Linear Items


        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();
        for (int i = 0; i &lt; 20; i++) {
            arrayList.add("Card Item " + i);//Adding items to recycler view
        }
        RecyclerView_Adapter adapter = new RecyclerView_Adapter(MainActivity.this, arrayList);
        recyclerView.setAdapter(adapter);// set adapter on recyclerview

    }
}</pre><p>
<b>10</b>. Finally, all done  –  run the app and you will get the output as shown in video.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/AndroidToolbarAnimation_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-toolbar-animation-using-design-support-library/">Android Toolbar Animation Using Design Support Library</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-toolbar-animation-using-design-support-library/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">675</post-id>	</item>
		<item>
		<title>Android NavigationDrawer</title>
		<link>http://www.androhub.com/android-navigationdrawer/</link>
		<comments>http://www.androhub.com/android-navigationdrawer/#comments</comments>
		<pubDate>Mon, 15 Jun 2015 05:34:46 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android NavigationDrawer]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[Navigation Drawer]]></category>
		<category><![CDATA[Sliding Menu]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=415</guid>
		<description><![CDATA[<p>You might have noticed that lot of android applications introduced a sliding panel menu to navigate between major modules of the application. Previously this kind of UI was done using some third party libraries where a list view and some swiping gestures used to achieve this. But now android itself officially introduced sliding panel menu [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-navigationdrawer/">Android NavigationDrawer</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>You might have noticed that lot of android applications introduced a sliding panel menu to navigate between major modules of the application. Previously this kind of UI was done using some third party libraries where a list view and some swiping gestures used to achieve this. But now android itself officially introduced sliding panel menu by introducing a newer concept called <a href="http://developer.android.com/design/patterns/navigation-drawer.html" target="_blank">Navigation Drawer</a>.</p>
<p>Most of the time Sliding Menu (Navigation Drawer) will be hidden and can be shown by swiping the screen from left edge to right or tapping the app icon on the action bar.</p>
<p>You might have heard of android <a class="link" title="Android Material Design" href="http://www.google.com/design/spec/material-design/introduction.html#" target="_blank">Material Design</a> which was introduced in Android Lollipop version. In Material Design lot of new things were introduced like <strong>Material Theme</strong>, new <strong>widgets</strong>, <strong>custom shadows</strong>, <strong>vector drawables</strong> and custom <strong>animations</strong>. If you haven’t working on Material Design yet, this article will give you a good start.</p>
<p>For Icons you can download it from <a href="http://icons4android.com" target="_blank">here</a>. You will get all sizes of icon here, that you can use in your project.</p>
<p>Go through the below links which give you much knowledge over Material Design :</p>
<ul>
<li><a class="link" title="Android Material Design Specifications" href="http://www.google.com/design/spec/material-design/introduction.html#" target="_blank">Material Design Specifications</a></li>
<li><a class="link" title="Creating Apps with Material Design" href="http://developer.android.com/training/material/index.html" target="_blank">Creating Apps with Material Design</a></li>
</ul>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to use navigation drawer to add a sliding menu to your application using material design.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_28373" width="602" height="339" src="https://www.youtube.com/embed/gHfrSF7-I7k?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p>Before starting you can go through my <a href="http://androhub.com/android-toolbar/" target="_blank">ToolBar Tutorial</a> article for Color Schemes and styles for Material Design.</p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. (I kept my main activity name as <em>MainActivity.java</em>).</p>
<p><b>2</b>. Open your your <em>AndroidManifest.xml</em> file and set TargetSDK to 21 or 22 according to Lollipop and I had added two more activities because i am using three activities.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.android_navigationdrawer_demo"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="22" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name=".MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>3</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;Android_NavigationDrawer_Demo&lt;/string&gt;
    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="home"&gt;Home&lt;/string&gt;
    &lt;string name="messages"&gt;Messages&lt;/string&gt;
    &lt;string name="user_account"&gt;User Account&lt;/string&gt;
    &lt;string name="setting"&gt;Settings&lt;/string&gt;
    &lt;string name="about_us"&gt;About Us&lt;/string&gt;
    &lt;string name="icon_description"&gt;Navigation Drawer List Icons&lt;/string&gt;
    &lt;string name="profile_image"&gt;User profile image&lt;/string&gt;
    &lt;string name="user_name"&gt;Androhub&lt;/string&gt;
    &lt;string name="email"&gt;androhub@gmail.com&lt;/string&gt;
    &lt;string name="drawer_open"&gt;Drawer open&lt;/string&gt;
    &lt;string name="drawer_close"&gt;Drawer close&lt;/string&gt;

    &lt;string-array name="list_items"&gt;
        &lt;item&gt;Home&lt;/item&gt;
        &lt;item&gt;User Account&lt;/item&gt;
        &lt;item&gt;Messages&lt;/item&gt;
        &lt;item&gt;Settings&lt;/item&gt;
        &lt;item&gt;About Us&lt;/item&gt;
    &lt;/string-array&gt;
    &lt;string-array name="list_subitems"&gt;
        &lt;item&gt;Default page&lt;/item&gt;
        &lt;item&gt;User profile account&lt;/item&gt;
        &lt;item&gt;Check your messages&lt;/item&gt;
        &lt;item&gt;Change your settings&lt;/item&gt;
        &lt;item&gt;Check about us&lt;/item&gt;
    &lt;/string-array&gt;

&lt;/resources&gt;</pre><p>
<b>4</b>. Open <strong>res ⇒ values ⇒ colors.xml</strong> and add the below color values. If you don’t find colors.xml, create a new resource file with the name.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;color name="black"&gt;#000000&lt;/color&gt;
    &lt;color name="white"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="orange"&gt;#FF6600&lt;/color&gt;
    &lt;color name="light_blue"&gt;#CCFF&lt;/color&gt;
    &lt;color name="red"&gt;#ff00&lt;/color&gt;
    &lt;color name="grey"&gt;#d3d3d3&lt;/color&gt;
    &lt;color name="light_pink"&gt;#FFCC&lt;/color&gt;
    &lt;color name="purple"&gt;#DDAACC&lt;/color&gt;
    
    &lt;!-- Colors for material designing --&gt;
    &lt;color name="colorPrimary"&gt;#2979FF&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#2962FF&lt;/color&gt;
    &lt;color name="textColorPrimary"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="windowBackground"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#42A5F5&lt;/color&gt;

&lt;/resources&gt;</pre><p>
<b>5</b>. Open <strong>res ⇒ values ⇒ dimens.xml</strong> and add below dimensions.</p><pre class="crayon-plain-tag">&lt;resources&gt;

    &lt;!-- Default screen margins, per the Android Design guidelines. --&gt;
    &lt;dimen name="activity_horizontal_margin"&gt;16dp&lt;/dimen&gt;
    &lt;dimen name="activity_vertical_margin"&gt;16dp&lt;/dimen&gt;
        &lt;dimen name="navigation_drawer_width"&gt;260dp&lt;/dimen&gt;
    &lt;dimen name="profile_layout_height"&gt;140dp&lt;/dimen&gt;
    &lt;dimen name="profile_image_size"&gt;50dp&lt;/dimen&gt;

&lt;/resources&gt;</pre><p>
<b>6</b>. Open <strong>styles.xml</strong> under <strong>res ⇒ values</strong> and add below styles. The styles defined in this styles.xml are common to all the android versions.</p><pre class="crayon-plain-tag">&lt;resources&gt;

    &lt;!--
        Base application theme, dependent on API level. This theme is replaced
        by AppBaseTheme from res/values-vXX/styles.xml on newer devices.
    --&gt;
    &lt;style name="AppBaseTheme" parent="Theme.AppCompat.Light"&gt;
          &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;
        
        &lt;!--
            Theme customizations available in newer API levels can go in
            res/values-vXX/styles.xml, while customizations related to
            backward-compatibility can go here.
        --&gt;
    &lt;/style&gt;

    &lt;!-- Application theme. --&gt;
    &lt;style name="AppTheme" parent="AppBaseTheme"&gt;
        &lt;!-- All customizations that are NOT specific to a particular API-level can go here. --&gt;
    &lt;/style&gt;

&lt;/resources&gt;</pre><p>
<b>7</b>. Now under <strong>res</strong>, create a folder named <strong>values-v21</strong>. Inside values-v21, create another <strong>styles.xml</strong> with the below styles. These styles are specific to <strong>Android Lollipop</strong> only.</p><pre class="crayon-plain-tag">&lt;resources&gt;

    &lt;style name="AppBaseTheme" parent="Theme.AppCompat.Light"&gt;
 &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;
        &lt;item name="android:windowContentTransitions"&gt;true&lt;/item&gt;
        &lt;item name="android:windowAllowEnterTransitionOverlap"&gt;true&lt;/item&gt;
        &lt;item name="android:windowAllowReturnTransitionOverlap"&gt;true&lt;/item&gt;
        &lt;item name="android:windowSharedElementEnterTransition"&gt;@android:transition/move&lt;/item&gt;
        &lt;item name="android:windowSharedElementExitTransition"&gt;@android:transition/move&lt;/item&gt;
    &lt;/style&gt;

&lt;/resources&gt;</pre><p>
<b>8</b>. Now, create a layout naming <em>toolbar.xml</em> in this layout create a toolbar set background and theme to it and this layout we are going to use in our other layouts.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- Toolbar in place of action bar for material designing --&gt;
&lt;android.support.v7.widget.Toolbar xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:local="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="?attr/colorPrimary"
    android:elevation="4dp"
    local:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar" &gt;

&lt;/android.support.v7.widget.Toolbar&gt;</pre><p>
<b>9</b>. Android introduced a newer UI element called <a class="link" href="http://developer.android.com/reference/android/support/v4/widget/DrawerLayout.html" target="_blank">DrawerLayout</a> for Navigation Drawer. Open your layout file (<strong>activity_main.xml</strong>) for main activity and type the following code.</p>
<p>Here <strong>FrameLayout</strong> is used to replace the main content using <strong>Fragments</strong> and it should be always the first child of the layout for z-index purpose.</p><pre class="crayon-plain-tag">&lt;android.support.v4.widget.DrawerLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/drawer_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent" &gt;

    &lt;LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" &gt;

        &lt;!--
        include use to reuse the layout 
        here iclude the toolbar layout
        --&gt;

        &lt;include
            android:id="@+id/toolbar"
            layout="@layout/toolbar" &gt;
        &lt;/include&gt;

        &lt;!-- Framelayout to display Fragments --&gt;

        &lt;FrameLayout
            android:id="@+id/frame_container"
            android:layout_width="match_parent"
            android:layout_height="match_parent" /&gt;
    &lt;/LinearLayout&gt;

    &lt;RelativeLayout
        android:id="@+id/slider"
        android:layout_width="@dimen/navigation_drawer_width"
        android:layout_height="match_parent"
        android:layout_gravity="start" &gt;

        &lt;!-- Header view contains profile layout --&gt;

        &lt;RelativeLayout
            android:id="@+id/header_view"
            android:layout_width="fill_parent"
            android:layout_height="@dimen/profile_layout_height"
            android:layout_alignParentTop="true"
            android:background="#CCFFDD"
            android:gravity="center_vertical"
            android:padding="5dp" &gt;

            &lt;!-- Linear layout contains username and email id textview --&gt;

            &lt;LinearLayout
                android:id="@+id/profile_name_layout"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@+id/profile_icon"
                android:layout_margin="10dp"
                android:layout_marginBottom="5dp"
                android:layout_marginTop="5dp"
                android:orientation="vertical"
                android:padding="5dp" &gt;

                &lt;TextView
                    android:id="@+id/profile_name"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_gravity="center_vertical"
                    android:text="@string/user_name"
                    android:textColor="@color/black"
                    android:textSize="18sp" /&gt;

                &lt;TextView
                    android:id="@+id/profile_email"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/email"
                    android:textColor="@color/black"
                    android:textSize="12sp" /&gt;
            &lt;/LinearLayout&gt;

            &lt;!-- user profile image --&gt;

            &lt;ImageView
                android:id="@+id/profile_icon"
                android:layout_width="@dimen/profile_image_size"
                android:layout_height="@dimen/profile_image_size"
                android:layout_alignParentLeft="true"
                android:layout_alignParentTop="true"
                android:layout_marginLeft="10dp"
                android:layout_marginTop="10dp"
                android:contentDescription="@string/profile_image"
                android:padding="3dp"
                android:scaleType="centerInside"
                android:src="@drawable/ic_profile" /&gt;
        &lt;/RelativeLayout&gt;

        &lt;View
            android:id="@+id/header_divider"
            android:layout_width="fill_parent"
            android:layout_height="2dp"
            android:layout_below="@+id/header_view"
            android:background="@color/grey" /&gt;

        &lt;!-- List view for navigation drawer item --&gt;
        &lt;ListView
            android:id="@+id/list_slidermenu"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_below="@+id/header_divider"
            android:background="@color/black"
            android:choiceMode="singleChoice"
            android:divider="@color/grey"
            android:dividerHeight="1dp"
            android:listSelector="@android:color/transparent"
            android:overScrollMode="never"
            android:scrollbars="none" /&gt;
    &lt;/RelativeLayout&gt;

&lt;/android.support.v4.widget.DrawerLayout&gt;</pre><p>
<b>10</b>. For navigation items we have to create a custom view xml file that will inflate over ListView.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:padding="7dp" &gt;

    &lt;ImageView
        android:id="@+id/icon"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentStart="true"
        android:layout_margin="2dp"
        android:adjustViewBounds="true"
        android:layout_centerVertical="true"
        android:contentDescription="@string/icon_description"
        android:padding="3dp"
        android:scaleType="fitCenter" /&gt;

    &lt;TextView
        android:id="@+id/title"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@+id/icon"
        android:gravity="start|center_vertical"
        android:paddingLeft="8dp"
        android:paddingRight="5dp"
        android:paddingTop="5dp"
        android:textColor="@color/white"
        android:textSize="15sp"
        android:textStyle="bold" /&gt;

    &lt;TextView
        android:id="@+id/subtitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/title"
        android:layout_toRightOf="@+id/icon"
        android:gravity="start|center_vertical"
        android:paddingLeft="8dp"
        android:paddingRight="5dp"
        android:paddingTop="5dp"
        android:textColor="@color/grey"
        android:textSize="13sp" /&gt;

&lt;/RelativeLayout&gt;</pre><p>
<b>11</b>. Now, for fragments that will shown on navigation item click we have to create fragments. So, we have to create xml according to number of menu items. This is one fragment xml file, similarly we can make many more.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/red"
    android:gravity="center"
    android:orientation="vertical" &gt;

    &lt;TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:gravity="center"
        android:text="@string/home"
        android:textColor="@color/white"
        android:textSize="30sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>12</b>. Now, for all fragments we have to create separate class and add the following code to that class. This is for the one class file, Similarly we can create many more.</p><pre class="crayon-plain-tag">package com.android_navigationdrawer_demo.fragments;

import com.android_navigationdrawer_demo.R;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

public class Home_Fragment extends Fragment{

@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		View view  =inflater.inflate(R.layout.home_fragment, container,false);
		return view;
	}
}</pre><p>
<b>13</b>. Create a class named <strong>Navigations_Items.java</strong> with the below code. This model class is POJO class that defines each row in navigation drawer menu.</p><pre class="crayon-plain-tag">package com.android_navigationdrawer_demo;

public class Navigation_Items {

	String title, subtitle;
	Integer icon;

	public Navigation_Items(String title, String subtitle, Integer icon) {
		this.title = title;
		this.subtitle = subtitle;
		this.icon = icon;
	}

	public String getTitle() {
		return title;
	}

	public String getSubTitle() {
		return subtitle;
	}

	public Integer getIcon() {
		return icon;
	}

}</pre><p>
<b>14</b>. Now, create an Adapter Class for inflating view over ListView.</p><pre class="crayon-plain-tag">package com.android_navigationdrawer_demo;

import java.util.ArrayList;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class Navigation_Drawer_Adapter extends BaseAdapter {

	private ArrayList&lt;Navigation_Items&gt; arrayList;
	private Context context;

	public Navigation_Drawer_Adapter(Context context,
			ArrayList&lt;Navigation_Items&gt; arrayList) {
		this.context = context;
		this.arrayList = arrayList;
	}

	@Override
	public int getCount() {

		return arrayList.size();
	}

	@Override
	public Navigation_Items getItem(int pos) {

		return arrayList.get(pos);
	}

	@Override
	public long getItemId(int pos) {

		return pos;
	}

	@Override
	public View getView(final int pos, View view, ViewGroup parent) {
		ViewHolder holder = null;

		if (view == null) {
			LayoutInflater inflater = (LayoutInflater) context
					.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
			view = inflater.inflate(R.layout.custom_view, parent, false);

			holder = new ViewHolder();
			holder.title = (TextView) view.findViewById(R.id.title);
			holder.subtitle = (TextView) view.findViewById(R.id.subtitle);

			holder.icon = (ImageView) view.findViewById(R.id.icon);

			view.setTag(holder);
		} else {
			holder = (ViewHolder) view.getTag();

		}

		holder.title.setText(arrayList.get(pos).getTitle());
		holder.subtitle.setText(arrayList.get(pos).getSubTitle());

		holder.icon.setBackgroundResource(arrayList.get(pos).getIcon());

		view.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View view) {
				
				//Calling main activity selectPosition method to replpace the fragment
				new MainActivity().selectItem(pos);

			}
		});

		return view;
	}

	public class ViewHolder {
		TextView title, subtitle;
		ImageView icon;
	}

}</pre><p>
<b>15</b>. Finally, add the following code to the MainActivity.java. In this activity we set DrawerLayout and set ActionBarDrawerToggle. On listview item click we set fragments over FrameLayout.</p><pre class="crayon-plain-tag">package com.android_navigationdrawer_demo;

import java.util.ArrayList;

import android.content.res.Configuration;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.widget.DrawerLayout;
import android.support.v7.app.ActionBarActivity;
import android.support.v7.app.ActionBarDrawerToggle;
import android.support.v7.widget.Toolbar;
import android.view.View;
import android.widget.ListView;
import android.widget.RelativeLayout;
import android.widget.Toast;

import com.android_navigationdrawer_demo.fragments.AboutUs_Fragment;
import com.android_navigationdrawer_demo.fragments.Home_Fragment;
import com.android_navigationdrawer_demo.fragments.Messages_Fragment;
import com.android_navigationdrawer_demo.fragments.Settings_Fragment;
import com.android_navigationdrawer_demo.fragments.UserAccount_Fragment;

public class MainActivity extends ActionBarActivity {
	private static DrawerLayout drawer;
	private static ActionBarDrawerToggle actionbarToggle;

	private static ArrayList&lt;Navigation_Items&gt; arrayList;
	private static Navigation_Drawer_Adapter adapter;

	private static ListView listview;

	private static FragmentManager fragment_manager;
	private static Toolbar toolbar;
	private static RelativeLayout left_slider;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		init();
		populateListItems();

		// Replace the default/home fragment if savedinstance is null
		if (savedInstanceState == null) {
			selectItem(0);
		}
	}

	void init() {
		drawer = (DrawerLayout) findViewById(R.id.drawer_layout);
		listview = (ListView) findViewById(R.id.list_slidermenu);
		toolbar = (Toolbar) findViewById(R.id.toolbar);

		left_slider = (RelativeLayout) findViewById(R.id.slider);

		// Fragment manager to manage fragment
		fragment_manager = getSupportFragmentManager();
		arrayList = new ArrayList&lt;Navigation_Items&gt;();

		// Setting actionbar toggle
		actionbarToggle = new ActionBarDrawerToggle(this, drawer, toolbar,
				R.string.drawer_open, R.string.drawer_close) {

			@Override
			public void onDrawerClosed(View drawerView) {
				Toast.makeText(MainActivity.this, "Drawer Close",
						Toast.LENGTH_SHORT).show();
				super.onDrawerClosed(drawerView);
			}

			@Override
			public void onDrawerOpened(View drawerView) {
				Toast.makeText(MainActivity.this, "Drawer Open",
						Toast.LENGTH_SHORT).show();
				super.onDrawerOpened(drawerView);
			}

		};

		// Setting drawer listener
		drawer.setDrawerListener(actionbarToggle);

	}

	// Populate navigation drawer listitems
	void populateListItems() {
		Integer Icons[] = { R.drawable.ic_home, R.drawable.ic_user,
				R.drawable.ic_messages, R.drawable.ic_settings,
				R.drawable.ic_aboutus };
		String title[] = getResources().getStringArray(R.array.list_items);
		String subtitle[] = getResources()
				.getStringArray(R.array.list_subitems);

		for (int i = 0; i &lt; Icons.length; i++) {
			arrayList
					.add(new Navigation_Items(title[i], subtitle[i], Icons[i]));
		}

		adapter = new Navigation_Drawer_Adapter(MainActivity.this, arrayList);

		// Setting adapter
		listview.setAdapter(adapter);
		adapter.notifyDataSetChanged();

	}

	// Select item method for replacing fragments
	public void selectItem(int position) {

		// Setting toolbar title
		toolbar.setTitle(arrayList.get(position).getTitle());

		// Close drawer method
		closeDrawer();
		switch (position) {
		case 0:
			replaceFragment(new Home_Fragment(), "Home");
			break;
		case 1:
			replaceFragment(new UserAccount_Fragment(), "User Account");
			break;
		case 2:
			replaceFragment(new Messages_Fragment(), "Messages");
			break;

		case 3:
			replaceFragment(new Settings_Fragment(), "Settings");
			break;
		case 4:
			replaceFragment(new AboutUs_Fragment(), "About Us");
			break;

		}
	}

	// Replace fragment method
	void replaceFragment(Fragment fragment, String tag) {

		// First find the fragment by TAG and if it null then replace the
		// fragment else do nothing
		Fragment fr = fragment_manager.findFragmentByTag(tag);
		if (fr == null) {
			fragment_manager.beginTransaction()
					.replace(R.id.frame_container, fragment, tag).commit();
		}

	}

	// close the open drawer
	void closeDrawer() {
		if (drawer.isDrawerOpen(left_slider)) {
			drawer.closeDrawer(left_slider);
		}
	}

	@Override
	public void onBackPressed() {

		// Call whenBackpressed method to do task
		whenBackPressed();
	}

	// Method to be execute on back pressed
	void whenBackPressed() {
		Fragment fr = fragment_manager.findFragmentByTag("Home");
		// First close the drawer if open
		if (drawer.isDrawerOpen(left_slider)) {
			drawer.closeDrawer(left_slider);

		}
		// else replace the home fragment if TAG is null
		else {
			if (fr == null) {
				selectItem(0);
			}

			// finally finish activity
			else {
				finish();
			}
		}

	}

	@Override
	protected void onPostCreate(Bundle savedInstanceState) {
		super.onPostCreate(savedInstanceState);
		// Sync state for actionbar toggle
		actionbarToggle.syncState();
	}

	@Override
	public void onConfigurationChanged(Configuration newConfig) {
		super.onConfigurationChanged(newConfig);
		actionbarToggle.onConfigurationChanged(newConfig);
	}
}</pre><p>
<b>16</b>. Finally, all done  –  run the app and you will get the output as shown in video.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/Android_NavigationDrawer_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div id="crayon-557e59116f1b7755937033" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"></div>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-navigationdrawer/">Android NavigationDrawer</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-navigationdrawer/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">415</post-id>	</item>
		<item>
		<title>Android ToolBar</title>
		<link>http://www.androhub.com/android-toolbar/</link>
		<comments>http://www.androhub.com/android-toolbar/#respond</comments>
		<pubDate>Tue, 02 Jun 2015 05:58:34 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Actionbar]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[actionbar]]></category>
		<category><![CDATA[Material Design]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=406</guid>
		<description><![CDATA[<p>Android’s new operating system named Android Lollipop, is highly focused on rich user experience and what they called it as material design. In this example we will take a look at the new Actionbar replacement called Toolbar. What is Toolbar? Toolbar is a complete replacement to Android ActionBar. It provides greater control to customize its [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-toolbar/">Android ToolBar</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Android’s new operating system named Android Lollipop, is highly focused on rich user experience and what they called it as <em><strong>material design</strong></em>. In this example we will take a look at the new <em>Actionbar</em> replacement called <em><strong>Toolbar</strong></em>.</p>
<h2><strong>What is Toolbar?</strong></h2>
<p>Toolbar is a complete replacement to Android ActionBar. It provides greater control to customize its appearance unlike old ActionBar. Using Toolbar, application developer can now, show multiple toolbars on the screen, spanning only part of the width, etc.</p>
<p>It is introduced in Android Lollipop, API level 21 (Android 5.0 Lollipop) release, and hence it is available to use, out of box for the application that are targeted to 21 and above. However, as always Google provides fully supported Toolbar features to lower android os devices via AppCompact support library. In AppCompat, Toolbar is implemented in the <code>android.support.v7.widget.Toolbar</code> class.</p>
<p>A Toolbar can be used in two ways.</p>
<ol>
<li>Use a Toolbar as an replacement to ActionBar. In this you can still continued to use the ActionBar features such as menus, selections, etc.</li>
<li>Use a standalone Toolbar, where ever you want to place in your application.</li>
</ol>
<p>If you are on the latest version of Android SDK you don&#8217;t have to add library of Appcombat v7 21 if not then please make sure you add that library to use ToolBar.</p>
<h2>Example</h2>
<p>In this example I will show you how to implement ToolBar with ActionBar and without ActionBar (standalone).</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_69732" width="602" height="339" src="https://www.youtube.com/embed/NlDEP6tO4G4?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p>Let’s get start by creating a project in Eclipse IDE.</p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. (I kept my main activity name as <em>MainActivity.java</em>).</p>
<p><b>2</b>. Open your your <em>AndroidManifest.xml</em> file and set TargetSDK to 21 or 22 according to Lollipop and I had added two more activities because i am using three activities.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.android_toolbar_demo"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="22" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name=".MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity android:name="com.android_toolbar_demo.Toolbar_using_ActionBar"&gt;&lt;/activity&gt;
         &lt;activity android:name="com.android_toolbar_demo.Toolbar_without_ActionBar"&gt;&lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>3</b>. Create a layout file for splash screen under <em>res ⇒ layout</em> folder. I named the layout file as <em>activity_main.xml</em>. This layout contains two buttons both to open different activities.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center"
    android:orientation="vertical"
    android:padding="10dp" &gt;

    &lt;Button
        android:id="@+id/toolbar_with_actionbar"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/button_selector"
        android:gravity="center"
        android:text="Toolbar using ActionBar"
        android:textColor="#ffffff"
        android:textSize="18sp" /&gt;

    &lt;Button
        android:id="@+id/toolbar_without_actionbar"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/button_selector"
        android:gravity="center"
        android:layout_marginTop="30dp"
        android:text="Toolbar without ActionBar"
        android:textColor="#ffffff"
        android:textSize="18sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>4</b>. Now, for button selector we have to create a new xml file in  <em>drawable</em> directory under <em>res</em> directory naming <em>button_selector.xml </em>and set it to button background.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;

    &lt;item android:state_pressed="true"&gt;&lt;shape android:shape="rectangle"&gt;
            &lt;corners android:radius="10dp" /&gt;

            &lt;padding android:bottom="5dp" android:left="5dp" android:right="5dp" android:top="5dp" /&gt;

            &lt;solid android:color="#FF6600" /&gt;

            &lt;stroke android:width="1dp" android:color="#FF00" /&gt;
        &lt;/shape&gt;&lt;/item&gt;
    &lt;item&gt;&lt;shape android:shape="rectangle"&gt;
            &lt;corners android:radius="10dp" /&gt;

            &lt;padding android:bottom="5dp" android:left="5dp" android:right="5dp" android:top="5dp" /&gt;

            &lt;solid android:color="#FF9800" /&gt;

            &lt;stroke android:width="1dp" android:color="#FF00" /&gt;
        &lt;/shape&gt;&lt;/item&gt;

&lt;/selector&gt;</pre><p>
<b>5</b>. Following is <em>strings.xml</em>, the strings that i used in this exmple.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;Android_NavigationDrawer_Demo&lt;/string&gt;
    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="edit"&gt;Edit&lt;/string&gt;
    &lt;string name="delete"&gt;Delete&lt;/string&gt;
    &lt;string name="share"&gt;Share&lt;/string&gt;
    &lt;string name="call"&gt;Call&lt;/string&gt;

&lt;/resources&gt;</pre><p>
<b>6</b>. Now, for material designing we have to select some primary colors and put it in our xml file by creating a new xml file naming <em>colors.xml. </em>You can select this colors palette from this <a href="http://www.google.co.in/design/spec/style/color.html#color-color-palette" target="_blank">link</a>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    
    &lt;!-- Colors for material designing --&gt;
    &lt;color name="colorPrimary"&gt;#FF1744&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#D50000&lt;/color&gt;
    &lt;color name="textColorPrimary"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="windowBackground"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#EF5350&lt;/color&gt;

&lt;/resources&gt;</pre><p>
Now what the use of this colors, you can see the image below</p>
<div style="text-align: center; margin-top: 20px; ;margin-bottom: 20px;"><a href="https://i0.wp.com/androhub.com/wp-content/uploads/2015/06/material_designing.png"><img class="aligncenter size-full wp-image-407" src="https://i0.wp.com/androhub.com/wp-content/uploads/2015/06/material_designing.png?resize=602%2C279" alt="material_designing" data-recalc-dims="1" /></a></div>
<p>&nbsp;</p>
<p><b>7</b>. Now, we have to customize the theme also so go to <em>values</em> directory and add these code to your <em>styles.xml</em> file. In this we set all the colors and set actionbar false.</p><pre class="crayon-plain-tag">&lt;resources&gt;

    &lt;!--
        Base application theme, dependent on API level. This theme is replaced
        by AppBaseTheme from res/values-vXX/styles.xml on newer devices.
    --&gt;
    &lt;style name="AppBaseTheme" parent="Theme.AppCompat.Light"&gt;
          &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;
        
        &lt;!--
            Theme customizations available in newer API levels can go in
            res/values-vXX/styles.xml, while customizations related to
            backward-compatibility can go here.
        --&gt;
    &lt;/style&gt;

    &lt;!-- Application theme. --&gt;
    &lt;style name="AppTheme" parent="AppBaseTheme"&gt;
        &lt;!-- All customizations that are NOT specific to a particular API-level can go here. --&gt;
    &lt;/style&gt;

&lt;/resources&gt;</pre><p>
<b>8</b>. Now, create a layout naming <em>toolbar.xml</em> in this layout create a toolbar set background and theme to it and this layout we are going to use in our other layouts.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v7.widget.Toolbar xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:local="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:id="@+id/common_toolbar"
    android:background="?attr/colorPrimary"
    android:elevation="4dp"
    local:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar" &gt;

&lt;/android.support.v7.widget.Toolbar&gt;</pre><p>
<b>9</b>. Now, for other two activities we create two layouts containing toolbar. The <em>include</em> tag is used to include the other layouts in a layout. This make the layout reusable.</p>
<p>First layout name is <em>toolbar_actionar.xml. </em>This layout is for toolbar with actionbar.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" &gt;

    &lt;include
        android:id="@+id/toolbar_n_actionbar"
        layout="@layout/toolbar" /&gt;

&lt;/LinearLayout&gt;</pre><p>
Second layout name is <em>toolbar_noactionar.xml. </em>This layout is for toolbar without actionbar.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" &gt;

    &lt;include
        android:id="@+id/toolbar_noaction"
        layout="@layout/toolbar" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>10</b>. Now, come to <em>MainActivity.java </em>and add the following code to that activity, in this activity i just call different activity on button clicked.</p><pre class="crayon-plain-tag">package com.android_toolbar_demo;

import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.view.View;
import android.view.View.OnClickListener;

public class MainActivity extends ActionBarActivity implements OnClickListener {

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		findViewById(R.id.toolbar_with_actionbar).setOnClickListener(this);
		findViewById(R.id.toolbar_without_actionbar).setOnClickListener(this);
	}

	@Override
	public void onClick(View v) {
		switch (v.getId()) {
		case R.id.toolbar_with_actionbar:
			newActivtiy(Toolbar_using_ActionBar.class);
			break;

		case R.id.toolbar_without_actionbar:
			newActivtiy(Toolbar_without_ActionBar.class);

			break;
		}

	}

	// Intent method
	void newActivtiy(Class&lt;&gt; activity) {

		startActivity(new Intent(MainActivity.this, activity));

	}

}</pre><p>
<b>11</b>. For menu items on toolbar we have to make a new xml file under <em>menu</em> directory naming <em>main.xml</em>.</p><pre class="crayon-plain-tag">&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto" &gt;

    &lt;item
        android:id="@+id/call"
        android:icon="@drawable/ic_call"
        android:title="@string/call"
        app:showAsAction="always"/&gt;
    &lt;item
        android:id="@+id/delete"
        android:icon="@drawable/ic_delete"
        android:title="@string/delete"
        app:showAsAction="always"/&gt;
    &lt;item
        android:id="@+id/edit"
        android:icon="@drawable/ic_edit"
        android:title="@string/edit"
        app:showAsAction="never"/&gt;
    &lt;item
        android:id="@+id/share"
        android:icon="@drawable/ic_share"
        android:title="@string/share"
        app:showAsAction="never"/&gt;

&lt;/menu&gt;</pre><p>
<b>12</b>. Now, for ToolBar with ActionBar we have to find the id of toolbar and add this line :</p><pre class="crayon-plain-tag">setSupportActionBar(toolbar);</pre><p>
For inflating menu items we can inflate like we are inflating in our <a href="http://androhub.com/android-actionbar-and-option-menus/" target="_blank">Android Menus Tutorial </a>and other methods also.</p><pre class="crayon-plain-tag">package com.android_toolbar_demo;

import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.support.v7.widget.Toolbar;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.Toast;

public class Toolbar_using_ActionBar extends ActionBarActivity {
	private static Toolbar toolbar;

	@Override
	protected void onCreate(Bundle savedInstanceState) {

		super.onCreate(savedInstanceState);
		setContentView(R.layout.toolbar_actionbar);

		// Find the id of toolbar
		toolbar = (Toolbar) findViewById(R.id.toolbar_n_actionbar);

		// Set upon the actionbar
		setSupportActionBar(toolbar);

		// Now use actionbar methods to show navigation icon and title
		getSupportActionBar().setDisplayHomeAsUpEnabled(true);

		// or

		// toolbar.setNavigationIcon(R.drawable.ic_arrow_back_white_24dp);

		// Set title
		getSupportActionBar().setTitle("Toolbar using ActionBar");
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {

		// Inflate menu items
		getMenuInflater().inflate(R.menu.main, menu);
		return super.onCreateOptionsMenu(menu);
	}

	@Override
	public boolean onOptionsItemSelected(MenuItem item) {

		// Show toast when menu items selected
		switch (item.getItemId()) {
		case R.id.call:
			Toast.makeText(Toolbar_using_ActionBar.this, item.getTitle(),
					Toast.LENGTH_SHORT).show();
			break;
		case R.id.delete:
			Toast.makeText(Toolbar_using_ActionBar.this, item.getTitle(),
					Toast.LENGTH_SHORT).show();
			break;

		case R.id.edit:
			Toast.makeText(Toolbar_using_ActionBar.this, item.getTitle(),
					Toast.LENGTH_SHORT).show();
			break;
		case R.id.share:
			Toast.makeText(Toolbar_using_ActionBar.this, item.getTitle(),
					Toast.LENGTH_SHORT).show();
			break;

		case android.R.id.home:
			// On navigation button pressed finis the activity
			finish();
			break;

		}
		return super.onOptionsItemSelected(item);
	}
}</pre><p>
<b>13</b>. Now, for ToolBar without ActionBar i.e. standalone toolbar, we have to find the id of toolbar and use all the methods of toolbar only below code contains mostly all the code of toolbar like inflating menu and click listener over it.</p><pre class="crayon-plain-tag">package com.android_toolbar_demo;

import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.support.v7.widget.Toolbar;
import android.support.v7.widget.Toolbar.OnMenuItemClickListener;
import android.view.MenuItem;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Toast;

public class Toolbar_without_ActionBar extends ActionBarActivity {
	private static Toolbar toolbar;

	@Override
	protected void onCreate(Bundle savedInstanceState) {

		super.onCreate(savedInstanceState);
		setContentView(R.layout.toolbar_noactionbar);
		toolbar = (Toolbar) findViewById(R.id.toolbar_noaction);

		// Set toolbar subtitle and color
		// toolbar.setSubtitle("Subtitle");
		// toolbar.setSubtitleTextColor(getResources().getColor(R.color.textColorPrimary));

		// Set toolbar logo
		// toolbar.setLogo(R.drawable.ic_launcher);

		// Inflate menu over toolbar
		toolbar.inflateMenu(R.menu.main);

		// Sett title
		toolbar.setTitle("Toolbar Only");

		// Set navigation back icon
		toolbar.setNavigationIcon(R.drawable.ic_arrow_back_white_24dp);

		// Implement click listener on navigation icon
		toolbar.setNavigationOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View arg0) {
				finish();

			}
		});

		// Implement menu click listener to do something when menu items
		// selected
		toolbar.setOnMenuItemClickListener(new OnMenuItemClickListener() {

			@Override
			public boolean onMenuItemClick(MenuItem item) {
				switch (item.getItemId()) {
				case R.id.call:
					Toast.makeText(Toolbar_without_ActionBar.this,
							item.getTitle(), Toast.LENGTH_SHORT).show();
					break;
				case R.id.delete:
					Toast.makeText(Toolbar_without_ActionBar.this,
							item.getTitle(), Toast.LENGTH_SHORT).show();
					break;

				case R.id.edit:
					Toast.makeText(Toolbar_without_ActionBar.this,
							item.getTitle(), Toast.LENGTH_SHORT).show();
					break;

				case R.id.share:
					Toast.makeText(Toolbar_without_ActionBar.this,
							item.getTitle(), Toast.LENGTH_SHORT).show();
					break;

				}
				return false;
			}
		});

	}
}</pre><p>
<b>14</b>. Finally, all done  &#8211;  run the app and you will get the output as shown in video.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/Android_Toolbar_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-toolbar/">Android ToolBar</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-toolbar/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">406</post-id>	</item>
	</channel>
</rss>
