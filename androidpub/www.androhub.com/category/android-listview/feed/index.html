<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Android ListView &#8211; Androhub</title>
	<atom:link href="http://www.androhub.com/category/android-listview/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.androhub.com</link>
	<description>Meet Professor Dro!d !!</description>
	<lastBuildDate>Thu, 21 Dec 2017 20:24:53 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.5.12</generator>
<site xmlns="com-wordpress:feed-additions:1">113004364</site>	<item>
		<title>Android Adding Search Functionality to List</title>
		<link>http://www.androhub.com/android-adding-search-functionality-list/</link>
		<comments>http://www.androhub.com/android-adding-search-functionality-list/#respond</comments>
		<pubDate>Wed, 15 Feb 2017 07:39:56 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android Material Design]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[filterable]]></category>
		<category><![CDATA[filterable list]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[grid view]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[material tabs]]></category>
		<category><![CDATA[radibutton]]></category>
		<category><![CDATA[recycler view]]></category>
		<category><![CDATA[search functionality]]></category>
		<category><![CDATA[show hide view]]></category>
		<category><![CDATA[ViewPager]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1147</guid>
		<description><![CDATA[<p>Today we are going to learn how to add search functionality to ListView, GridView and RecyclerView. In this tutorial you can filter search list by multiple items. Prerequisite: Material Tabs Tutorial ListView Tutorial GridView Tutorial RecyclerView Tutorial Radio Button Tutorial VIDEO DEMO 1. Create a new project in Android Studio by navigating to File ⇒ New ⇒ New Project [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-adding-search-functionality-list/">Android Adding Search Functionality to List</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Today we are going to learn how to add search functionality to ListView, GridView and RecyclerView. In this tutorial you can filter search list by multiple items.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Material Tabs Tutorial</a></li>
<li><a href="http://www.androhub.com/android-listview/" target="_blank">ListView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-gridview/" target="_blank">GridView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-radiobutton/" target="_blank">Radio Button Tutorial</a></li>
</ol>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_46209" width="602" height="339" src="https://www.youtube.com/embed/xT7tzpPmfIk?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">compile 'com.android.support:design:25.1.0'//Library need for material tabs
compile 'com.android.support:recyclerview-v7:25.1.0' //Library need for recycler view</pre><p>
<b>3</b>. Now create 3 material tabs naming ListView, GridView and RecyclerView. For this you can check this <a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">link</a> for reference.</p>
<p><b>4</b>. After creating tabs lets move to creating xml layouts for individual tabs.</p>
<ul>
<li><strong><em>list_view_frament.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;include
        android:id="@+id/top_container"
        layout="@layout/top_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" /&gt;

    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@+id/top_container"
        android:layout_marginTop="5dp" /&gt;


&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>grid_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;
    &lt;include
        android:id="@+id/top_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        layout="@layout/top_container" /&gt;
    &lt;GridView
        android:id="@+id/grid_view"
        android:layout_width="match_parent"
        android:layout_below="@+id/top_container"
        android:layout_marginTop="5dp"
        android:layout_height="match_parent"
        android:horizontalSpacing="2dp"
        android:numColumns="2"
        android:verticalSpacing="2dp" /&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>recycler_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;include
        android:id="@+id/top_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        layout="@layout/top_container" /&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_marginTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@+id/top_container" /&gt;
&lt;/RelativeLayout&gt;</pre>
<b>5</b>. In all the above xml layouts i am using one common layout i.e. <em>top_container.xml.</em> Lets create the common layout xml, this layout contains some radio buttons for custom filter.<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"&gt;

    &lt;TextView
        android:id="@+id/search_via_label"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:drawableRight="@drawable/up_dropdown"
        android:padding="5dp"
        android:text="@string/search_via"
        android:textColor="@android:color/black"
        android:textSize="10sp" /&gt;

    &lt;!--  Search Via Radio Group  --&gt;
    &lt;RadioGroup
        android:id="@+id/search_via_radio_group"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:visibility="gone"&gt;

        &lt;RadioButton
            android:id="@+id/name_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:checked="true"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/name"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;

        &lt;RadioButton
            android:id="@+id/number_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/number"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;

        &lt;RadioButton
            android:id="@+id/email_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/emailid"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;
    &lt;/RadioGroup&gt;

    &lt;View
        android:layout_width="match_parent"
        android:layout_height="1px"
        android:layout_marginTop="5dp"
        android:background="@android:color/darker_gray" /&gt;

    &lt;TextView
        android:id="@+id/filter_by_label"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:drawableRight="@drawable/up_dropdown"
        android:padding="5dp"
        android:text="@string/filter_by"
        android:textColor="@android:color/black"
        android:textSize="10sp" /&gt;

    &lt;!--  Filter By Radio Group  --&gt;
    &lt;RadioGroup
        android:id="@+id/filter_type_radio_group"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:visibility="gone"&gt;

        &lt;RadioButton
            android:id="@+id/query_contains_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:checked="true"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/contains"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;

        &lt;RadioButton
            android:id="@+id/query_starts_With_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/starts_with"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;
    &lt;/RadioGroup&gt;

    &lt;!--  EditText for User Input --&gt;
    &lt;EditText
        android:id="@+id/search_text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="5dp"
        android:background="@drawable/search_bg"
        android:drawableLeft="@drawable/ic_search"
        android:drawablePadding="5dp"
        android:gravity="center_vertical"
        android:hint="@string/enter_text_to_search"
        android:maxLines="1"
        android:padding="8dp"
        android:textColor="@android:color/black"
        android:textColorHint="@android:color/darker_gray"
        android:textSize="12sp" /&gt;
&lt;/LinearLayout&gt;</pre>
<b>6</b>. Now create custom background for Search EditText naming <em>search_bg.xml.</em><br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle"&gt;
    &lt;corners android:radius="4dp" /&gt;
    &lt;solid android:color="@android:color/white" /&gt;
    &lt;stroke
        android:width="1px"
        android:color="@android:color/darker_gray" /&gt;

&lt;/shape&gt;</pre>
<b>7</b>. Now lets create java classes for all the above three xml files.</p>
<ul>
<li><strong><em>ListViewFragment.java</em></strong></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.RadioGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.adapter.GridListAdapter;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.GetUserModelData;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class ListViewFragment extends Fragment implements RadioGroup.OnCheckedChangeListener, View.OnClickListener {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;UserModel&gt; arrayList;
    private RadioGroup searchViaRadioGroup, filterByRadioGroup;
    private EditText searchEditText;
    private TextView searchViaLabel, filterByLabel;

    /*  Filter Type to identify the type of Filter  */
    private FilterType filterType;

    /*  boolean variable for Filtering */
    private boolean isSearchWithPrefix = false;

    public ListViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.list_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadListView(view);
        findViews(view);
        implementEvents();
    }

    //Bind all Views
    private void findViews(View view) {
        filterType = FilterType.NAME;
        searchViaRadioGroup = (RadioGroup) view.findViewById(R.id.search_via_radio_group);
        filterByRadioGroup = (RadioGroup) view.findViewById(R.id.filter_type_radio_group);
        searchEditText = (EditText) view.findViewById(R.id.search_text);

        searchViaLabel = (TextView) view.findViewById(R.id.search_via_label);
        filterByLabel = (TextView) view.findViewById(R.id.filter_by_label);
    }


    private void loadListView(View view) {
        ListView listView = (ListView) view.findViewById(R.id.list_view);
        arrayList = GetUserModelData.getUserModelData();
        adapter = new GridListAdapter(context, arrayList, true);
        listView.setAdapter(adapter);
    }

    private void implementEvents() {
        filterByRadioGroup.setOnCheckedChangeListener(this);
        searchViaRadioGroup.setOnCheckedChangeListener(this);
        searchViaLabel.setOnClickListener(this);
        filterByLabel.setOnClickListener(this);

        searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });
    }


    @Override
    public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {
        int pos = radioGroup.indexOfChild(radioGroup.findViewById(checkedId));//get the checked position of radio button
        switch (radioGroup.getId()) {
            case R.id.search_via_radio_group:
                switch (pos) {
                    case 0:
                        filterType = FilterType.NAME;//Change filter type to Name if pos = 0
                        break;
                    case 1:
                        filterType = FilterType.NUMBER;//Change filter type to Number if pos = 1
                        break;
                    case 2:
                        filterType = FilterType.EMAIL;//Change filter type to Email if pos = 2
                        break;
                }
                break;
            case R.id.filter_type_radio_group:
                switch (pos) {
                    case 0:
                        isSearchWithPrefix = false;//Set boolean value to false
                        break;
                    case 1:
                        isSearchWithPrefix = true;//Set boolean value to true
                        break;

                }
                break;
        }
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.search_via_label:
                //show hide the radio group
                if (searchViaRadioGroup.isShown()) {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.GONE);
                } else {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
            case R.id.filter_by_label:
                //show hide the radio group
                if (filterByRadioGroup.isShown()) {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.GONE);
                } else {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
        }
    }

}</pre>
<ul>
<li><em><strong>GridViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.GridView;
import android.widget.RadioGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.adapter.GridListAdapter;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.GetUserModelData;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class GridViewFragment extends Fragment implements RadioGroup.OnCheckedChangeListener, View.OnClickListener {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;UserModel&gt; arrayList;
    private RadioGroup searchViaRadioGroup, filterByRadioGroup;
    private EditText searchEditText;
    private TextView searchViaLabel, filterByLabel;

    /*  Filter Type to identify the type of Filter  */
    private FilterType filterType;

    /*  boolean variable for Filtering */
    private boolean isSearchWithPrefix = false;

    public GridViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.grid_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadGridView(view);
        findViews(view);
        implementEvents();
    }

    //Bind all Views
    private void findViews(View view) {
        filterType = FilterType.NAME;
        searchViaRadioGroup = (RadioGroup) view.findViewById(R.id.search_via_radio_group);
        filterByRadioGroup = (RadioGroup) view.findViewById(R.id.filter_type_radio_group);
        searchEditText = (EditText) view.findViewById(R.id.search_text);

        searchViaLabel = (TextView) view.findViewById(R.id.search_via_label);
        filterByLabel = (TextView) view.findViewById(R.id.filter_by_label);
    }


    private void loadGridView(View view) {
        GridView gridView = (GridView) view.findViewById(R.id.grid_view);
        arrayList = GetUserModelData.getUserModelData();
        adapter = new GridListAdapter(context, arrayList, false);
        gridView.setAdapter(adapter);
    }

    private void implementEvents() {
        filterByRadioGroup.setOnCheckedChangeListener(this);
        searchViaRadioGroup.setOnCheckedChangeListener(this);
        searchViaLabel.setOnClickListener(this);
        filterByLabel.setOnClickListener(this);

        searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });
    }


    @Override
    public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {
        int pos = radioGroup.indexOfChild(radioGroup.findViewById(checkedId));//get the checked position of radio button
        switch (radioGroup.getId()) {
            case R.id.search_via_radio_group:
                switch (pos) {
                    case 0:
                        filterType = FilterType.NAME;//Change filter type to Name if pos = 0
                        break;
                    case 1:
                        filterType = FilterType.NUMBER;//Change filter type to Number if pos = 1
                        break;
                    case 2:
                        filterType = FilterType.EMAIL;//Change filter type to Email if pos = 2
                        break;
                }
                break;
            case R.id.filter_type_radio_group:
                switch (pos) {
                    case 0:
                        isSearchWithPrefix = false;//Set boolean value to false
                        break;
                    case 1:
                        isSearchWithPrefix = true;//Set boolean value to true
                        break;

                }
                break;
        }
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.search_via_label:
                //show hide the radio group
                if (searchViaRadioGroup.isShown()) {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.GONE);
                } else {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
            case R.id.filter_by_label:
                //show hide the radio group
                if (filterByRadioGroup.isShown()) {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.GONE);
                } else {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
        }
    }
}</pre>
<ul>
<li><em><strong>RecyclerViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.RadioGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.adapter.RecyclerViewAdapter;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.GetUserModelData;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class RecyclerViewFragment extends Fragment implements RadioGroup.OnCheckedChangeListener, View.OnClickListener {

    private Context context;
    private RecyclerViewAdapter adapter;
    private ArrayList&lt;UserModel&gt; arrayList;
    private RadioGroup searchViaRadioGroup, filterByRadioGroup;
    private EditText searchEditText;
    private TextView searchViaLabel, filterByLabel;

    /*  Filter Type to identify the type of Filter  */
    private FilterType filterType;

    /*  boolean variable for Filtering */
    private boolean isSearchWithPrefix = false;

    public RecyclerViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.recycler_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        findViews(view);
        populateRecyclerView(view);
        implementEvents();
    }

    //Bind all Views
    private void findViews(View view) {
        filterType = FilterType.NAME;
        searchViaRadioGroup = (RadioGroup) view.findViewById(R.id.search_via_radio_group);
        filterByRadioGroup = (RadioGroup) view.findViewById(R.id.filter_type_radio_group);
        searchEditText = (EditText) view.findViewById(R.id.search_text);

        searchViaLabel = (TextView) view.findViewById(R.id.search_via_label);
        filterByLabel = (TextView) view.findViewById(R.id.filter_by_label);
    }

    //Populate recycler view
    private void populateRecyclerView(View view) {
        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);
        recyclerView.setLayoutManager(linearLayoutManager);
        arrayList = GetUserModelData.getUserModelData();
        adapter = new RecyclerViewAdapter(context, arrayList);
        recyclerView.setAdapter(adapter);
    }

    private void implementEvents() {
        filterByRadioGroup.setOnCheckedChangeListener(this);
        searchViaRadioGroup.setOnCheckedChangeListener(this);
        searchViaLabel.setOnClickListener(this);
        filterByLabel.setOnClickListener(this);

        searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });
    }


    @Override
    public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {
        int pos = radioGroup.indexOfChild(radioGroup.findViewById(checkedId));//get the checked position of radio button
        switch (radioGroup.getId()) {
            case R.id.search_via_radio_group:
                switch (pos) {
                    case 0:
                        filterType = FilterType.NAME;//Change filter type to Name if pos = 0
                        break;
                    case 1:
                        filterType = FilterType.NUMBER;//Change filter type to Number if pos = 1
                        break;
                    case 2:
                        filterType = FilterType.EMAIL;//Change filter type to Email if pos = 2
                        break;
                }
                break;
            case R.id.filter_type_radio_group:
                switch (pos) {
                    case 0:
                        isSearchWithPrefix = false;//Set boolean value to false
                        break;
                    case 1:
                        isSearchWithPrefix = true;//Set boolean value to true
                        break;

                }
                break;
        }
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.search_via_label:
                //show hide the radio group
                if (searchViaRadioGroup.isShown()) {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.GONE);
                } else {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
            case R.id.filter_by_label:
                //show hide the radio group
                if (filterByRadioGroup.isShown()) {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.GONE);
                } else {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
        }
    }
}</pre>
In all the above fragment classes the common code to do filtering is:<br />
<pre class="crayon-plain-tag">searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });</pre>
Here we need to call the filter method created in adapter class by passing the filter query.</p>
<p><b>8</b>. Now after creating all fragment classes we have to create Adapters for ListView, GridView and RecyclerView.</p>
<ul>
<li><em><strong>GridListAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;
import java.util.Locale;

/**
 * Created by sonu on 08/02/17.
 */

public class GridListAdapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;UserModel&gt; arrayList;
    private LayoutInflater inflater;
    private boolean isListView;
    private ArrayList&lt;UserModel&gt; filterArrayList;//duplicate list for filtering

    public GridListAdapter(Context context, ArrayList&lt;UserModel&gt; arrayList, boolean isListView) {
        this.context = context;
        this.arrayList = arrayList;
        this.isListView = isListView;
        inflater = LayoutInflater.from(context);

        this.filterArrayList = new ArrayList&lt;&gt;();//initiate filter list
        this.filterArrayList.addAll(arrayList);//add all items of array list to filter list
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int i) {
        return arrayList.get(i);
    }

    @Override
    public long getItemId(int i) {
        return i;
    }

    @Override
    public View getView(final int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        if (view == null) {
            viewHolder = new ViewHolder();

            //inflate the layout on basis of boolean
            if (isListView)
                view = inflater.inflate(R.layout.list_custom_row_layout, viewGroup, false);
            else
                view = inflater.inflate(R.layout.grid_custom_row_layout, viewGroup, false);

            viewHolder.name = (TextView) view.findViewById(R.id.name_label);
            viewHolder.number = (TextView) view.findViewById(R.id.number_label);
            viewHolder.emailID = (TextView) view.findViewById(R.id.email_label);

            view.setTag(viewHolder);
        } else
            viewHolder = (ViewHolder) view.getTag();

        UserModel model = arrayList.get(i);
        viewHolder.name.setText(model.getName());
        viewHolder.number.setText(model.getNumber());
        viewHolder.emailID.setText(model.getEmailID());

        return view;
    }


    private class ViewHolder {
        private TextView name, number, emailID;
    }

    // Filter Class to filter data
    public void filter(FilterType filterType, String charText, boolean isSearchWithPrefix) {

        //If Filter type is NAME and EMAIL then only do lowercase, else in case of NUMBER no need to do lowercase because of number format
        if (filterType == FilterType.NAME || filterType == FilterType.EMAIL)
            charText = charText.toLowerCase(Locale.getDefault());

        arrayList.clear();//Clear the main ArrayList

        //If search query is null or length is 0 then add all filterList items back to arrayList
        if (charText.length() == 0) {
            arrayList.addAll(filterArrayList);
        } else {

            //Else if search query is not null do a loop to all filterList items
            for (UserModel model : filterArrayList) {

                //Now check the type of search filter
                switch (filterType) {
                    case NAME:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NAME which match with search query
                            if (model.getName().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NAME wherever it contains search query
                            if (model.getName().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case EMAIL:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact EMAIL which match with search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the EMAIL wherever it contains search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case NUMBER:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NUMBER which match with search query
                            if (model.getNumber().startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NUMBER wherever it contains search query
                            if (model.getNumber().contains(charText))
                                arrayList.add(model);
                        }

                        break;
                }

            }
        }
        notifyDataSetChanged();
    }


}</pre>
<ul>
<li><em><strong>RecyclerViewAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.adapter;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;
import java.util.Locale;

/**
 * Created by sonu on 19/09/16.
 */

public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {

    static class RecyclerViewHolder extends RecyclerView.ViewHolder {

        private TextView name, number, emailID;

        RecyclerViewHolder(View view) {
            super(view);

            name = (TextView) view.findViewById(R.id.name_label);
            number = (TextView) view.findViewById(R.id.number_label);
            emailID = (TextView) view.findViewById(R.id.email_label);
        }

    }

    private ArrayList&lt;UserModel&gt; arrayList;
    private ArrayList&lt;UserModel&gt; filterArrayList;//duplicate list for filtering
    private Context context;


    public RecyclerViewAdapter(Context context, ArrayList&lt;UserModel&gt; arrayList) {
        this.arrayList = arrayList;
        this.context = context;

        this.filterArrayList = new ArrayList&lt;&gt;();//initiate filter list
        this.filterArrayList.addAll(arrayList);//add all items of array list to filter list
    }

    @Override
    public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_custom_row_layout, viewGroup, false);
        return new RecyclerViewHolder(v);
    }

    @Override
    public void onBindViewHolder(final RecyclerViewHolder holder, final int i) {

        UserModel model = arrayList.get(i);
        holder.name.setText(model.getName());
        holder.number.setText(model.getNumber());
        holder.emailID.setText(model.getEmailID());
    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);
    }


    // Filter Class to filter data
    public void filter(FilterType filterType, String charText, boolean isSearchWithPrefix) {

        //If Filter type is NAME and EMAIL then only do lowercase, else in case of NUMBER no need to do lowercase because of number format
        if (filterType == FilterType.NAME || filterType == FilterType.EMAIL)
            charText = charText.toLowerCase(Locale.getDefault());

        arrayList.clear();//Clear the main ArrayList

        //If search query is null or length is 0 then add all filterList items back to arrayList
        if (charText.length() == 0) {
            arrayList.addAll(filterArrayList);
        } else {

            //Else if search query is not null do a loop to all filterList items
            for (UserModel model : filterArrayList) {

                //Now check the type of search filter
                switch (filterType) {
                    case NAME:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NAME which match with search query
                            if (model.getName().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NAME wherever it contains search query
                            if (model.getName().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case EMAIL:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact EMAIL which match with search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the EMAIL wherever it contains search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case NUMBER:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NUMBER which match with search query
                            if (model.getNumber().startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NUMBER wherever it contains search query
                            if (model.getNumber().contains(charText))
                                arrayList.add(model);
                        }

                        break;
                }

            }
        }
        notifyDataSetChanged();
    }

}</pre>
In both the above adapter the common code to filter is:<br />
<pre class="crayon-plain-tag">// Filter Class to filter data
    public void filter(FilterType filterType, String charText, boolean isSearchWithPrefix) {

        //If Filter type is NAME and EMAIL then only do lowercase, else in case of NUMBER no need to do lowercase because of number format
        if (filterType == FilterType.NAME || filterType == FilterType.EMAIL)
            charText = charText.toLowerCase(Locale.getDefault());

        arrayList.clear();//Clear the main ArrayList

        //If search query is null or length is 0 then add all filterList items back to arrayList
        if (charText.length() == 0) {
            arrayList.addAll(filterArrayList);
        } else {

            //Else if search query is not null do a loop to all filterList items
            for (UserModel model : filterArrayList) {

                //Now check the type of search filter
                switch (filterType) {
                    case NAME:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NAME which match with search query
                            if (model.getName().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NAME wherever it contains search query
                            if (model.getName().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case EMAIL:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact EMAIL which match with search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the EMAIL wherever it contains search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case NUMBER:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NUMBER which match with search query
                            if (model.getNumber().startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NUMBER wherever it contains search query
                            if (model.getNumber().contains(charText))
                                arrayList.add(model);
                        }

                        break;
                }

            }
        }
        notifyDataSetChanged();
    }</pre>
<b>9</b>. Some helper java classes that we need in this article are:</p>
<ul>
<li><em><strong>UserModel.java </strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.helper;

/**
 * Created by sonu on 14/02/17.
 */

/*  POJO Class of UserModel  */
public class UserModel {
    private String name, number, emailID;

    public UserModel(String name, String number, String emailID) {
        this.name = name;
        this.number = number;
        this.emailID = emailID;
    }

    public String getName() {
        return name;
    }

    public String getNumber() {
        return number;
    }

    public String getEmailID() {
        return emailID;
    }
}</pre>
<ul>
<li><em><strong>GetUserModelData.java </strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.helper;

import java.util.ArrayList;

/**
 * Created by sonu on 14/02/17.
 */

/*  Get ArrayList  of UserModel type  */
public class GetUserModelData {
    public static ArrayList&lt;UserModel&gt; getUserModelData() {
        ArrayList&lt;UserModel&gt; arrayList = new ArrayList&lt;&gt;();
        arrayList.add(new UserModel("Droid", "9008091580", "droid@gmail.com"));
        arrayList.add(new UserModel("John", "9876543212", "john@gmail.com"));
        arrayList.add(new UserModel("David", "3452456718", "david@gmail.com"));
        arrayList.add(new UserModel("Humpy", "9843156780", "humpy@gmail.com"));
        arrayList.add(new UserModel("Sharma", "1234984378", "sharma@gmail.com"));
        arrayList.add(new UserModel("Dravid", "4325678943", "dravid@gmail.com"));
        arrayList.add(new UserModel("Android", "8876554433", "android@gmail.com"));
        arrayList.add(new UserModel("Amrish", "3344559988", "amrish@gmail.com"));
        arrayList.add(new UserModel("Allena", "3344990044", "allena@gmail.com"));
        arrayList.add(new UserModel("Smith", "1144553355", "smith@gmail.com"));
        arrayList.add(new UserModel("Guru", "5678493002", "guru@gmail.com"));
        arrayList.add(new UserModel("Rashid", "4450987456", "rashid@gmail.com"));
        arrayList.add(new UserModel("Prophec", "8967589433", "prphec@gmail.com"));
        arrayList.add(new UserModel("Diljit", "9058443399", "diljit@gmail.com"));
        arrayList.add(new UserModel("Bohemia", "5768950484", "bohemia@gmail.com"));
        return arrayList;
    }
}</pre>
<ul>
<li><em><strong>FilterType.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.helper;

/**
 * Created by sonu on 14/02/17.
 */

/*  Enum Class to identify the type of Filter/Search type  */

public enum FilterType {
    NAME, NUMBER, EMAIL;
}</pre>
<b>10</b>. Finally all things done. Now you can also make filterable ListView.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/ListSearch_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-adding-search-functionality-list/">Android Adding Search Functionality to List</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-adding-search-functionality-list/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1147</post-id>	</item>
		<item>
		<title>Android ListView RadioButton</title>
		<link>http://www.androhub.com/android-listview-radiobutton/</link>
		<comments>http://www.androhub.com/android-listview-radiobutton/#respond</comments>
		<pubDate>Sat, 11 Feb 2017 14:53:49 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[custom listview]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[gridview]]></category>
		<category><![CDATA[list with radiobutton]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[listview with radiobutton]]></category>
		<category><![CDATA[material tabs]]></category>
		<category><![CDATA[radiobutton]]></category>
		<category><![CDATA[radiobutton list]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[recyclerview with radiobutton]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1141</guid>
		<description><![CDATA[<p>In previous article  we learnt about how to use multiple choices in ListView. Today we are going to learn how to enable single choice/radio button in ListView, GridView and in RecyclerView using RadioButton, you’ll configure the ListView to display a radioButton next to each item. You can combine many components like TextView, RadioButton, ImageView, etc. and can [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-radiobutton/">Android ListView RadioButton</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>In previous <a href="http://www.androhub.com/android-listview-checkbox/" target="_blank">article</a>  we learnt about how to use multiple choices in ListView. Today we are going to learn how to enable single choice/radio button in ListView, GridView and in RecyclerView using RadioButton, you’ll configure the ListView to display a radioButton next to each item. You can combine many components like TextView, RadioButton, ImageView, etc. and can make ListView as you require.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Material Tabs Tutorial</a></li>
<li><a href="http://www.androhub.com/android-listview/" target="_blank">ListView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-gridview/" target="_blank">GridView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView Tutorial</a></li>
</ol>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to enable single choice/radio button in ListView, GridView and in RecyclerView using RadioButton.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_12822" width="602" height="339" src="https://www.youtube.com/embed/lDwB_G0RCfI?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">compile 'com.android.support:design:25.1.0' //Library need for material tabs
compile 'com.android.support:recyclerview-v7:25.1.0' //Library need for recycler view</pre><p>
<b>3</b>. Now create 3 material tabs naming ListView, GridView and RecyclerView. For this you can check this <a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">link</a> for reference.</p>
<p><b>4</b>. After creating tabs lets move to creating xml layouts for individual tabs.</p>
<ul>
<li><strong><em>list_view_frament.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>grid_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;GridView
        android:id="@+id/grid_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container"
        android:horizontalSpacing="2dp"
        android:numColumns="2"
        android:verticalSpacing="2dp" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>recycler_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<b>5</b>. In all the above xml layouts i am using one common layout i.e. <em>bottom_container.xml.</em> Lets create the common layout xml, this layout contains two buttons for implementing actions over selected row.<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:orientation="horizontal"&gt;

    &lt;Button
        android:id="@+id/show_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/show"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/delete_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/delete"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

&lt;/LinearLayout&gt;</pre>
<b>6</b>. Now lets create java classes for all the above three xml files.</p>
<ul>
<li><strong><em>ListViewFragment.java</em></strong></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ListView;

import com.listradiobutton_demo.R;
import com.listradiobutton_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class ListViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;

    public ListViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.list_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadListView(view);
        onClickEvent(view);
    }

    private void loadListView(View view) {
        ListView listView = (ListView) view.findViewById(R.id.list_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("ListView Items " + i);

        adapter = new GridListAdapter(context, arrayList, true);
        listView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Get the selected position
                adapter.getSelectedItem();
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Delete the selected position
                adapter.deleteSelectedPosition();
            }
        });

    }
}</pre>
<ul>
<li><em><strong>GridViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.GridView;

import com.listradiobutton_demo.R;
import com.listradiobutton_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class GridViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;

    public GridViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.grid_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadGridView(view);
        onClickEvent(view);
    }

    private void loadGridView(View view) {
        GridView gridView = (GridView) view.findViewById(R.id.grid_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("GridView Items " + i);

        adapter = new GridListAdapter(context, arrayList, false);
        gridView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Get the selected position
                adapter.getSelectedItem();
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Delete the selected position
                adapter.deleteSelectedPosition();
            }
        });


    }

}</pre>
<ul>
<li><em><strong>RecyclerViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import com.listradiobutton_demo.R;
import com.listradiobutton_demo.adapter.RecyclerViewAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class RecyclerViewFragment extends Fragment {

    private Context context;
    private RecyclerViewAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;

    public RecyclerViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.recycler_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        populateRecyclerView(view);
        onClickEvent(view);
    }

    private void populateRecyclerView(View view) {
        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);
        recyclerView.setLayoutManager(linearLayoutManager);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("RecyclerView Items " + i);//Adding items to recycler view

        adapter = new RecyclerViewAdapter(context, arrayList);
        recyclerView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Get the selected position
                adapter.getSelectedItem();
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Delete the selected position
                adapter.deleteSelectedPosition();
            }
        });

    }
}</pre>
<b>7</b>. Now after creating all fragment classes we have to create Adapters for ListView, GridView and RecyclerView.</p>
<ul>
<li><em><strong>GridListAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.RadioButton;
import android.widget.TextView;
import android.widget.Toast;

import com.listradiobutton_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */

public class GridListAdapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;String&gt; arrayList;
    private LayoutInflater inflater;
    private boolean isListView;
    private int selectedPosition = -1;

    public GridListAdapter(Context context, ArrayList&lt;String&gt; arrayList, boolean isListView) {
        this.context = context;
        this.arrayList = arrayList;
        this.isListView = isListView;
        inflater = LayoutInflater.from(context);
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int i) {
        return arrayList.get(i);
    }

    @Override
    public long getItemId(int i) {
        return i;
    }

    @Override
    public View getView(final int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        if (view == null) {
            viewHolder = new ViewHolder();

            //inflate the layout on basis of boolean
            if (isListView)
                view = inflater.inflate(R.layout.list_custom_row_layout, viewGroup, false);
            else
                view = inflater.inflate(R.layout.grid_custom_row_layout, viewGroup, false);

            viewHolder.label = (TextView) view.findViewById(R.id.label);
            viewHolder.radioButton = (RadioButton) view.findViewById(R.id.radio_button);

            view.setTag(viewHolder);
        } else
            viewHolder = (ViewHolder) view.getTag();

        viewHolder.label.setText(arrayList.get(i));

        //check the radio button if both position and selectedPosition matches
        viewHolder.radioButton.setChecked(i == selectedPosition);

        //Set the position tag to both radio button and label
        viewHolder.radioButton.setTag(i);
        viewHolder.label.setTag(i);

        viewHolder.radioButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }
        });

        viewHolder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }


        });
        return view;
    }

    //On selecting any view set the current position to selectedPositon and notify adapter
    private void itemCheckChanged(View v) {
        selectedPosition = (Integer) v.getTag();
        notifyDataSetChanged();
    }

    private class ViewHolder {
        private TextView label;
        private RadioButton radioButton;
    }

    //Return the selectedPosition item
    public String getSelectedItem() {
        if (selectedPosition != -1) {
            Toast.makeText(context, "Selected Item : " + arrayList.get(selectedPosition), Toast.LENGTH_SHORT).show();
            return arrayList.get(selectedPosition);
        }
        return "";
    }

    //Delete the selected position from the arrayList
    public void deleteSelectedPosition() {
        if (selectedPosition != -1) {
            arrayList.remove(selectedPosition);
            selectedPosition = -1;//after removing selectedPosition set it back to -1
            notifyDataSetChanged();
        }
    }
}</pre>
<ul>
<li><em><strong>RecyclerViewAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.adapter;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.RadioButton;
import android.widget.TextView;
import android.widget.Toast;

import com.listradiobutton_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 19/09/16.
 */

public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {

    static class RecyclerViewHolder extends RecyclerView.ViewHolder {

        private TextView label;
        private RadioButton radioButton;

        RecyclerViewHolder(View view) {
            super(view);
            label = (TextView) view.findViewById(R.id.label);
            radioButton = (RadioButton) view.findViewById(R.id.radio_button);
        }

    }

    private ArrayList&lt;String&gt; arrayList;
    private Context context;
    private int selectedPosition = -1;


    public RecyclerViewAdapter(Context context, ArrayList&lt;String&gt; arrayList) {
        this.arrayList = arrayList;
        this.context = context;
    }

    @Override
    public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_custom_row_layout, viewGroup, false);
        return new RecyclerViewHolder(v);
    }

    @Override
    public void onBindViewHolder(final RecyclerViewHolder holder, final int i) {

        holder.label.setText(arrayList.get(i));

        //check the radio button if both position and selectedPosition matches
        holder.radioButton.setChecked(i == selectedPosition);

        //Set the position tag to both radio button and label
        holder.radioButton.setTag(i);
        holder.label.setTag(i);
        holder.radioButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }
        });

        holder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }


        });
    }

    //On selecting any view set the current position to selectedPositon and notify adapter
    private void itemCheckChanged(View v) {
        selectedPosition = (Integer) v.getTag();
        notifyDataSetChanged();
    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);
    }

    //Return the selectedPosition item
    public String getSelectedItem() {
        if (selectedPosition != -1) {
            Toast.makeText(context, "Selected Item : " + arrayList.get(selectedPosition), Toast.LENGTH_SHORT).show();
            return arrayList.get(selectedPosition);
        }
        return "";
    }

    //Delete the selected position from the arrayList
    public void deleteSelectedPosition() {
        if (selectedPosition != -1) {
            arrayList.remove(selectedPosition);
            selectedPosition = -1;//after removing selectedPosition set it back to -1
            notifyDataSetChanged();
        }
    }
}</pre>
In both the above adapter the common code to select row is:<br />
<pre class="crayon-plain-tag">//On selecting any view set the current position to selectedPosition and notify adapter
    private void itemCheckChanged(View v) {
        selectedPosition = (Integer) v.getTag();
        notifyDataSetChanged();
    }

 //Return the selectedPosition item
    public String getSelectedItem() {
        if (selectedPosition != -1) {
            Toast.makeText(context, "Selected Item : " + arrayList.get(selectedPosition), Toast.LENGTH_SHORT).show();
            return arrayList.get(selectedPosition);
        }
        return "";
    }

    //Delete the selected position from the arrayList
    public void deleteSelectedPosition() {
        if (selectedPosition != -1) {
            arrayList.remove(selectedPosition);
            selectedPosition = -1;//after removing selectedPosition set it back to -1
            notifyDataSetChanged();
        }
    }</pre>
<b>8</b>. Finally all things done. Now you can also make your any type of single choice list view.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/ListRadioButton_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-radiobutton/">Android ListView RadioButton</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-listview-radiobutton/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1141</post-id>	</item>
		<item>
		<title>Android ListView Checkbox</title>
		<link>http://www.androhub.com/android-listview-checkbox/</link>
		<comments>http://www.androhub.com/android-listview-checkbox/#respond</comments>
		<pubDate>Thu, 09 Feb 2017 16:58:13 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[checkbox]]></category>
		<category><![CDATA[deselect all checkbox]]></category>
		<category><![CDATA[gridview]]></category>
		<category><![CDATA[gridview with checkbox]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[listview with checkbox]]></category>
		<category><![CDATA[material tabs]]></category>
		<category><![CDATA[multiple choice listviews]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[recyclerview with checkbox]]></category>
		<category><![CDATA[select all checkbox]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1136</guid>
		<description><![CDATA[<p>Hi to all, today we are going to learn how to enable multiple items to be chosen in ListView, GridView and in RecyclerView using CheckBox, you’ll configure the ListView to display a checkbox next to each item. You can combine many components like TextView, CheckBox, ImageView, etc. and can make ListView as you require. Prerequisite: [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-checkbox/">Android ListView Checkbox</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Hi to all, today we are going to learn how to enable multiple items to be chosen in ListView, GridView and in RecyclerView using CheckBox, you’ll configure the ListView to display a checkbox next to each item. You can combine many components like TextView, CheckBox, ImageView, etc. and can make ListView as you require.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Material Tabs Tutorial</a></li>
<li><a href="http://www.androhub.com/android-listview/" target="_blank">ListView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-gridview/" target="_blank">GridView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView Tutorial</a></li>
</ol>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to enable multiple items to be chosen in ListView, GridView and in RecyclerView using CheckBox.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_50659" width="602" height="339" src="https://www.youtube.com/embed/F6Ysr7TyMew?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">compile 'com.android.support:design:25.1.0' //Library need for material tabs
compile 'com.android.support:recyclerview-v7:25.1.0' //Library need for recycler view</pre><p>
<b>3</b>. Now create 3 material tabs naming ListView, GridView and RecyclerView. For this you can check this <a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">link</a> for reference.</p>
<p><b>4</b>. After creating tabs lets move to creating xml layouts for individual tabs.</p>
<ul>
<li><em>list_view_frament.xml</em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li><em>grid_view_fragment.xml</em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;GridView
        android:id="@+id/grid_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container"
        android:horizontalSpacing="2dp"
        android:numColumns="2"
        android:verticalSpacing="2dp" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<ul>
<li><em>recycler_view_fragment.xml</em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<b>5</b>. In all the above xml layouts i am using one common layout i.e. <em>bottom_container.xml.</em> Lets create the common layout xml, this layout contains three buttons for implementing actions over selected rows.<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:orientation="horizontal"&gt;

    &lt;Button
        android:id="@+id/show_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/show"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/delete_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/delete"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/select_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/select_all"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;
&lt;/LinearLayout&gt;</pre>
<b>6</b>. Now lets create java classes for all the above three xml files.</p>
<ul>
<li><strong><em>ListViewFragment.java</em></strong></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.ListView;
import android.widget.Toast;

import com.listcheckbox_demo.R;
import com.listcheckbox_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class ListViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;
    private Button selectButton;

    public ListViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.list_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        selectButton = (Button) view.findViewById(R.id.select_button);
        loadListView(view);
        onClickEvent(view);
    }

    private void loadListView(View view) {
        ListView listView = (ListView) view.findViewById(R.id.list_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("ListView Items " + i);//Adding items to recycler view

        adapter = new GridListAdapter(context, arrayList, true);
        listView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    for (int i = 0; i &lt; selectedRows.size(); i++) {
                        if (selectedRows.valueAt(i)) {
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {
                        if (selectedRows.valueAt(i)) {
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }
                    adapter.removeSelection();
                }
            }
        });
        selectButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {

                //Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }


            }
        });
    }
}</pre>
<ul>
<li><em><strong>GridViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.GridView;
import android.widget.Toast;

import com.listcheckbox_demo.R;
import com.listcheckbox_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class GridViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;
    private Button selectButton;

    public GridViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.grid_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        selectButton = (Button) view.findViewById(R.id.select_button);
        loadGridView(view);
        onClickEvent(view);
    }

    private void loadGridView(View view) {
        GridView gridView = (GridView) view.findViewById(R.id.grid_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("GridView Items " + i);

        adapter = new GridListAdapter(context, arrayList, false);
        gridView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    for (int i = 0; i &lt; selectedRows.size(); i++) {
                        if (selectedRows.valueAt(i)) {
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {
                        if (selectedRows.valueAt(i)) {
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }
                    adapter.removeSelection();
                }

            }
        });
        selectButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }
            }
        });

    }

}</pre>
<ul>
<li><em><strong>RecyclerViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.Toast;

import com.listcheckbox_demo.R;
import com.listcheckbox_demo.adapter.RecyclerViewAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class RecyclerViewFragment extends Fragment {

    private Context context;
    private RecyclerViewAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;
    private Button selectButton;

    public RecyclerViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.recycler_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        selectButton = (Button) view.findViewById(R.id.select_button);
        populateRecyclerView(view);
        onClickEvent(view);
    }

    private void populateRecyclerView(View view) {
        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);
        recyclerView.setLayoutManager(linearLayoutManager);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("RecyclerView Items " + i);//Adding items to recycler view

        adapter = new RecyclerViewAdapter(context, arrayList);
        recyclerView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    for (int i = 0; i &lt; selectedRows.size(); i++) {
                        if (selectedRows.valueAt(i)) {
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }

            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {
                        if (selectedRows.valueAt(i)) {
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }
                    adapter.removeSelection();
                }
            }
        });
        selectButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }
            }
        });
    }
}</pre>
In all the three above Java classes the main thing that we need to focus is button click events:</p>
<ul>
<li><strong>Show Button : </strong>This button used to show a Toast of checked rows.</li>
</ul>
<pre class="crayon-plain-tag">SparseBooleanArray selectedRows = adapter.getSelectedIds();//Get the selected ids from adapter
                //Check if item is selected or not via size
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    //Loop to all the selected rows array
                    for (int i = 0; i &lt; selectedRows.size(); i++) {

                        //Check if selected rows have value i.e. checked item
                        if (selectedRows.valueAt(i)) {

                            //Get the checked item text from array list by getting keyAt method of selectedRowsarray
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));

                            //append the row label text
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }</pre>
<ul>
<li><strong>Delete Button : </strong>This button is to delete checked rows.</li>
</ul>
<pre class="crayon-plain-tag">SparseBooleanArray selectedRows = adapter.getSelectedIds();//Get the selected ids from adapter
                //Check if item is selected or not via size
                if (selectedRows.size() &gt; 0) {
                    //Loop to all the selected rows array
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {

                        //Check if selected rows have value i.e. checked item
                        if (selectedRows.valueAt(i)) {

                            //remove the checked item
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }

                    //notify the adapter and remove all checked selection
                    adapter.removeSelection();
                }</pre>
<ul>
<li><strong>Select All/Deselect All Button : </strong>This button is to select and deselect all the rows.</li>
</ul>
<pre class="crayon-plain-tag">//Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }</pre>
<b>7</b>. Now after creating all fragment classes we have to create Adapters for ListView, GridView and RecyclerView.</p>
<ul>
<li><em><strong>GridListAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.adapter;

import android.content.Context;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.CheckBox;
import android.widget.TextView;

import com.listcheckbox_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */

public class GridListAdapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;String&gt; arrayList;
    private LayoutInflater inflater;
    private boolean isListView;
    private SparseBooleanArray mSelectedItemsIds;

    public GridListAdapter(Context context, ArrayList&lt;String&gt; arrayList, boolean isListView) {
        this.context = context;
        this.arrayList = arrayList;
        this.isListView = isListView;
        inflater = LayoutInflater.from(context);
        mSelectedItemsIds = new SparseBooleanArray();
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int i) {
        return arrayList.get(i);
    }

    @Override
    public long getItemId(int i) {
        return i;
    }

    @Override
    public View getView(final int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        if (view == null) {
            viewHolder = new ViewHolder();

            //inflate the layout on basis of boolean
            if (isListView)
                view = inflater.inflate(R.layout.list_custom_row_layout, viewGroup, false);
            else
                view = inflater.inflate(R.layout.grid_custom_row_layout, viewGroup, false);

            viewHolder.label = (TextView) view.findViewById(R.id.label);
            viewHolder.checkBox = (CheckBox) view.findViewById(R.id.checkbox);

            view.setTag(viewHolder);
        } else
            viewHolder = (ViewHolder) view.getTag();

        viewHolder.label.setText(arrayList.get(i));
        viewHolder.checkBox.setChecked(mSelectedItemsIds.get(i));

        viewHolder.checkBox.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });

        viewHolder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });

        return view;
    }

    private class ViewHolder {
        private TextView label;
        private CheckBox checkBox;
    }


    /**
     * Remove all checkbox Selection
     **/
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }

    /**
     * Check the Checkbox if not checked
     **/
    public void checkCheckBox(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, true);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    /**
     * Return the selected Checkbox IDs
     **/
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }

}</pre>
<ul>
<li><em><strong>RecyclerViewAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.adapter;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.CheckBox;
import android.widget.TextView;

import com.listcheckbox_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 19/09/16.
 */

public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {

    static class RecyclerViewHolder extends RecyclerView.ViewHolder {

        private TextView label;
        private CheckBox checkBox;

        RecyclerViewHolder(View view) {
            super(view);
            label = (TextView) view.findViewById(R.id.label);
            checkBox = (CheckBox) view.findViewById(R.id.checkbox);
        }

    }

    private ArrayList&lt;String&gt; arrayList;
    private Context context;
    private SparseBooleanArray mSelectedItemsIds;


    public RecyclerViewAdapter(Context context, ArrayList&lt;String&gt; arrayList) {
        this.arrayList = arrayList;
        this.context = context;
        mSelectedItemsIds = new SparseBooleanArray();
    }

    @Override
    public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_custom_row_layout, viewGroup, false);
        return new RecyclerViewHolder(v);
    }

    @Override
    public void onBindViewHolder(final RecyclerViewHolder holder, final int i) {
        holder.label.setText(arrayList.get(i));
        holder.checkBox.setChecked(mSelectedItemsIds.get(i));

        holder.checkBox.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });

        holder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });
    }

    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);
    }

    /**
     * Remove all checkbox Selection
     **/
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }

    /**
     * Check the Checkbox if not checked
     **/
    public void checkCheckBox(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, true);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    /**
     * Return the selected Checkbox IDs
     **/
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }


}</pre>
In both the above adapter the common code is to select rows:<br />
<pre class="crayon-plain-tag">/**
     * Remove all checkbox Selection
     **/
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }

    /**
     * Check the Checkbox if not checked
     **/
    public void checkCheckBox(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, true);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    /**
     * Return the selected Checkbox IDs
     **/
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }</pre>
<b>8</b>. Finally all things done. Now you can also make your any type of multiple choice list view.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/ListCheckBox_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-checkbox/">Android ListView Checkbox</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-listview-checkbox/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1136</post-id>	</item>
		<item>
		<title>Android Header and Footer Tutorial</title>
		<link>http://www.androhub.com/android-header-footer-tutorial/</link>
		<comments>http://www.androhub.com/android-header-footer-tutorial/#respond</comments>
		<pubDate>Tue, 28 Jun 2016 04:41:29 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[Footer]]></category>
		<category><![CDATA[footer view]]></category>
		<category><![CDATA[Header]]></category>
		<category><![CDATA[header and footer view]]></category>
		<category><![CDATA[header view]]></category>
		<category><![CDATA[item Type]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[Tab Layout]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=1028</guid>
		<description><![CDATA[<p>In this tutorial we are going to learn how to implement Header and Footer for ListView and RecyclerView. The header is a View that displays before first item and footer displays after last item. Most of the apps you had seen who is having header and footer. Same thing we are going to implement in this tutorial. [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-header-footer-tutorial/">Android Header and Footer Tutorial</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>In this tutorial we are going to learn how to implement <strong>Header and Footer</strong> for <strong><a href="http://androhub.com/android-listview/" target="_blank">ListView</a> and <a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a>. </strong>The header is a View that displays before first item and footer displays after last item. Most of the apps you had seen who is having header and footer. Same thing we are going to implement in this tutorial.</p>
<h3>Prerequisite:</h3>
<ol>
<li><a href="http://androhub.com/android-listview/" target="_blank">ListView</a></li>
<li><a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a></li>
<li><a href="http://androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Tab Bar Layout</a></li>
</ol>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_16687" width="602" height="339" src="https://www.youtube.com/embed/msbcQKbTryk?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.0.1'
    compile 'com.android.support:design:23.0.1'
    compile 'com.android.support:recyclerview-v7:23.0.1'
}</pre><p>
<b>3</b>. Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Header Footer Demo&lt;/string&gt;

    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="header_view"&gt;Header View&lt;/string&gt;
    &lt;string name="footer_view"&gt;Footer View&lt;/string&gt;
    &lt;string name="list"&gt;List&lt;/string&gt;
    &lt;string name="grid"&gt;Grid&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>4</b>. Create new xml file naming <strong>colors.xml</strong>  under <strong>res=&gt;values</strong> folder<strong> </strong>and add the following colors.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;color name="colorPrimary"&gt;#D32F2F&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#C62828&lt;/color&gt;
    &lt;color name="textColorPrimary"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="windowBackground"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="navigationBarColor"&gt;#000000&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#F44336&lt;/color&gt;
    &lt;color name="blue"&gt;#03A9F4&lt;/color&gt;
&lt;/resources&gt;</pre><p>
<b>5</b>. Create <em>activity_main.xml</em> and add the following code. In this i am using Tab Bar Layout for creating tabs.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"&gt;

    &lt;!-- AppBar Layout   --&gt;
    &lt;android.support.design.widget.AppBarLayout
        android:id="@+id/appBarLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"&gt;

        &lt;android.support.v7.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="fill_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;
        &lt;!-- Tab Layout for creating tabs --&gt;
        &lt;android.support.design.widget.TabLayout
            android:id="@+id/tabLayout"
            android:layout_width="fill_parent"
            android:elevation="5dp"
            android:layout_height="wrap_content"
            app:tabIndicatorColor="@android:color/white" /&gt;
    &lt;/android.support.design.widget.AppBarLayout&gt;
    &lt;!-- Helps handing the Fragments for each Tab --&gt;
    &lt;android.support.v4.view.ViewPager
        android:id="@+id/viewPager"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>6</b>. Create <i>listview_layout.xml </i>for ListView fragment and add ListView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ListView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/list_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:dividerHeight="1px"
    android:padding="1dp" /&gt;</pre><p>
<b>7</b>. Similarly create recyclerview<i>_layout.xml </i>for RecyclerView fragment and add RecyclerView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v7.widget.RecyclerView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/recycler_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="1px" /&gt;</pre><p>
<b>8</b>. Now we need to create custom row for both ListView and RecyclerView. So we can use same xml for both, so create new xml file naming <em>list_item_row.xml</em>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"&gt;

    &lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/row_item_text"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center_vertical"
        android:padding="25dp"
        android:text="Item"
        android:textColor="@android:color/white"
        android:textSize="18sp" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>9</b>. Now come to <em>MainActivity.java</em> and add the following code for adding tabs and fragments to it.</p><pre class="crayon-plain-tag">package com.header_footer_demo.activity;

import android.os.Bundle;
import android.support.design.widget.TabLayout;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;

import com.header_footer_demo.R;
import com.header_footer_demo.adapters.ViewPagerAdapter;
import com.header_footer_demo.tabs.ListView_Fragment;
import com.header_footer_demo.tabs.RecyclerView_Fragment;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        ViewPager viewPager = (ViewPager) findViewById(R.id.viewPager);
        setupViewPager(viewPager);

        TabLayout tabLayout = (TabLayout) findViewById(R.id.tabLayout);
        tabLayout.setupWithViewPager(viewPager);//setting tab over viewpager

    }

    //Setting View Pager
    private void setupViewPager(ViewPager viewPager) {
        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());
        adapter.addFrag(new ListView_Fragment(), "List View");
        adapter.addFrag(new RecyclerView_Fragment(), "Recycler View");
        viewPager.setAdapter(adapter);
    }


}</pre><p>
<b>10</b>. Create new<em> ViewPagerAdapter.java</em> class for ViewPager tab fragments.</p><pre class="crayon-plain-tag">package com.header_footer_demo.adapters;

import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by SONU on 22/05/16.
 */
public class ViewPagerAdapter extends FragmentPagerAdapter {
    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();//fragment arraylist
    private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();//title arraylist

    public ViewPagerAdapter(FragmentManager manager) {
        super(manager);
    }

    @Override
    public Fragment getItem(int position) {
        return mFragmentList.get(position);
    }

    @Override
    public int getCount() {
        return mFragmentList.size();
    }


    //adding fragments and title method
    public void addFrag(Fragment fragment, String title) {
        mFragmentList.add(fragment);
        mFragmentTitleList.add(title);
    }

    @Override
    public CharSequence getPageTitle(int position) {
        return mFragmentTitleList.get(position);
    }
}</pre><p>
<b>11</b>. Now, for Header and Footer View we need to create new layout naming <em>header_footer_view.xml</em> and you can put any design over here.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/header_footer_title"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@color/colorAccent"
    android:gravity="center"
    android:padding="25dp"
    android:text="@string/header_view"
    android:textColor="@android:color/white"
    android:textSize="18sp" /&gt;</pre><p>
<b>12</b>. For adding Header and Footer to ListView is very simple because ListView provided us inbuilt method for adding Header and Footer View to it.</p>
<ul>
<li><strong>Header View: </strong><br />
<pre class="crayon-plain-tag">listView.addHeaderView(headerView);</pre>
Here, headerView is a View that you want to display as ListView Header.</li>
<li><strong>Footer View:</strong><br />
<pre class="crayon-plain-tag">listView.addFooterView(footerView);</pre>
</li>
</ul>
<p>Here, footerView is a View that you want to display as ListView Footer.</p><pre class="crayon-plain-tag">private void addHeaderFooterView() {
        LayoutInflater inflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        //Header View
        View headerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView headerTitle = (TextView) headerView.findViewById(R.id.header_footer_title);
        headerTitle.setText(getActivity().getResources().getString(R.string.header_view));//set the text to Header View
        listView.addHeaderView(headerView);//Add view to list view as header view

        //Footer View
        View footerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView footerTitle = (TextView) footerView.findViewById(R.id.header_footer_title);
        footerTitle.setText(getActivity().getResources().getString(R.string.footer_view));//set the text to Footer View
        listView.addFooterView(footerView);//Add view to list view as footer view

    }</pre><p>
<em><strong>Note: The above method should be call before notifying adapter.</strong></em></p>
<p><b>13</b>. Create a <em>ListView_Fragment.java </em>and add the following code to it.</p><pre class="crayon-plain-tag">package com.header_footer_demo.tabs;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ListView;
import android.widget.TextView;

import com.header_footer_demo.R;
import com.header_footer_demo.adapters.CustomAdapter;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class ListView_Fragment extends Fragment {

    private static View view;
    private static ListView listView;

    public ListView_Fragment() {
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.listview_layout, container, false);
        setUpListView();
        return view;
    }

    //Set Up list view
    private void setUpListView() {

        listView = (ListView) view
                .findViewById(R.id.list_view);

        addHeaderFooterView();//Add header and footer before adding data to list view

        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 20; i++) {
            arrayList.add("ITEM " + i);//Adding items to recycler view
        }

        CustomAdapter adapter = new CustomAdapter( getActivity(), arrayList);
        listView.setAdapter(adapter);// set adapter on listview
        adapter.notifyDataSetChanged();
    }

//Add header and footer view
    private void addHeaderFooterView() {
        LayoutInflater inflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        //Header View
        View headerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView headerTitle = (TextView) headerView.findViewById(R.id.header_footer_title);
        headerTitle.setText(getActivity().getResources().getString(R.string.header_view));//set the text to Header View
        listView.addHeaderView(headerView);//Add view to list view as header view

        View footerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView footerTitle = (TextView) footerView.findViewById(R.id.header_footer_title);
        footerTitle.setText(getActivity().getResources().getString(R.string.footer_view));//set the text to Footer View
        listView.addFooterView(footerView);//Add view to list view as footer view

    }
}</pre><p>
<b>14</b>. For ListView we need to create <em>CustomAdapter.java</em> class to inflate custom rows.</p><pre class="crayon-plain-tag">package com.header_footer_demo.adapters;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import com.header_footer_demo.R;
import com.header_footer_demo.helper.GenerateRandom_Color;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class CustomAdapter extends BaseAdapter {


    private Context context;
    private ArrayList&lt;String&gt; arrayList;
    private LayoutInflater inflater;

    public CustomAdapter(Context context, ArrayList&lt;String&gt; arrayList) {

        this.context = context;
        this.arrayList = arrayList;

        this.inflater = LayoutInflater.from(context);
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int position) {
        return arrayList.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        convertView = inflater.inflate(R.layout.list_item_row, parent, false);
        TextView text = (TextView) convertView.findViewById(R.id.row_item_text);
        text.setBackgroundColor(GenerateRandom_Color.generateRandomColor());
        text.setText(arrayList.get(position));


        return convertView;
    }


}</pre><p>
<b>15</b>. For generating random color for row items, we need to create a class that randomly gives range of colors to set row color. For this create <em>GenerateRandom_Color.java</em> and add the following code to it.</p><pre class="crayon-plain-tag">package com.header_footer_demo.helper;

import android.graphics.Color;

import java.util.Random;

/**
 * Created by SONU on 22/05/16.
 */
public class GenerateRandom_Color {

    //this method will generate random colors
    public static int generateRandomColor() {
        Random rnd = new Random();
        return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));
    }
}</pre><p>
<b>16</b>. Now, create RecyclerView_Fragment.java and add the following code to it. In this code we are toggling between List and Grid type RecyclerView.</p><pre class="crayon-plain-tag">package com.header_footer_demo.tabs;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.GridLayoutManager;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;

import com.header_footer_demo.R;
import com.header_footer_demo.adapters.RecyclerView_Adapter;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class RecyclerView_Fragment extends Fragment {

    private static View view;
    private static RecyclerView recyclerView;
    private boolean isListType = true;

    public RecyclerView_Fragment() {
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setHasOptionsMenu(true);//call this method to implement option menu over fragment

    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.recyclerview_layout, container, false);
        setRecyclerView();
        return view;
    }

    //Setting recycler view
    private void setRecyclerView() {

        recyclerView = (RecyclerView) view
                .findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        recyclerView
                .setLayoutManager(new LinearLayoutManager(getActivity()));//Linear Items


        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 20; i++) {
            arrayList.add("ITEM " + i);//Adding items to recycler view
        }
        RecyclerView_Adapter adapter = new RecyclerView_Adapter(getActivity(), arrayList);
        recyclerView.setAdapter(adapter);// set adapter on recycler view

    }

    //Toggle recycler view between List and Grid Type
    private void toggleRecyclerView(boolean isList) {
        isListType = isList;//set the current type is list or not
        if (isList)
            recyclerView
                    .setLayoutManager(new LinearLayoutManager(getActivity()));//Linear Items
        else
            recyclerView
                    .setLayoutManager(new GridLayoutManager(getActivity(), 2));//Grid Items
    }

    @Override
    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
        super.onCreateOptionsMenu(menu, inflater);
        inflater.inflate(R.menu.menu_main, menu);//Inflate menu
        onPrepareOptionsMenu(menu);//call prepare menu so that title will change according to current type
    }

    @Override
    public void onPrepareOptionsMenu(Menu menu) {
        super.onPrepareOptionsMenu(menu);
        MenuItem item = menu.findItem(R.id.action_toggle);//find menu id
        //If current type is not list then set to list else by default is grid only
        if (!isListType)
            item.setTitle(getActivity().getResources().getString(R.string.list));
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
            case R.id.action_toggle:

                //toggle the recycler view type and change the menu text also
                if (isListType) {
                    item.setTitle(getActivity().getResources().getString(R.string.list));
                    toggleRecyclerView(false);
                } else {
                    item.setTitle(getActivity().getResources().getString(R.string.grid));
                    toggleRecyclerView(true);
                }
                break;
        }
        return super.onOptionsItemSelected(item);
    }
}</pre><p>
<b>17</b>. As you have seen in above point we are using Menu for toggling between List and Grid type RecyclerView. For this we need to create <em>menu_mani.xml</em> under <em>menu</em> directory.</p><pre class="crayon-plain-tag">&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"&gt;
    &lt;item
        android:id="@+id/action_toggle"
        android:title="@string/grid"
        app:showAsAction="always" /&gt;
&lt;/menu&gt;</pre><p>
<b>18</b>. Create<em> DemoViewHolder.java</em> class for RecyclerView item holder.</p><pre class="crayon-plain-tag">package com.header_footer_demo.helper;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

import com.header_footer_demo.R;

/**
 * Created by SONU on 22/05/16.
 */
public class DemoViewHolder extends RecyclerView.ViewHolder {
    public TextView title;

    public DemoViewHolder(View view) {
        super(view);
        this.title = (TextView) view.findViewById(R.id.row_item_text);
    }
}</pre><p>
<b>19</b>. Create<em> RecyclerView_HeaderFooter_Holder.java</em> class<em> </em>for RecyclerView Header and Footer holder.</p><pre class="crayon-plain-tag">package com.header_footer_demo.helper;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

import com.header_footer_demo.R;


/**
 * Created by SONU on 01/04/16.
 */
public class RecyclerView_HeaderFooter_Holder extends RecyclerView.ViewHolder {
    public TextView title;

    public RecyclerView_HeaderFooter_Holder(View itemView) {
        super(itemView);

        title = (TextView) itemView.findViewById(R.id.header_footer_title);
    }
}</pre><p>
<b>20</b>. For setting Header and Footer in RecyclerView we need to follow some steps because RecyclerView doesn&#8217;t provide any methods to do this directly.</p>
<ol>
<li><strong>Type of View</strong><br />
<pre class="crayon-plain-tag">//Type of data in recycler view
private static final int TYPE_HEADER = 0;
private static final int TYPE_FOOTER = 1;
private static final int TYPE_ITEM = 2;</pre>
</li>
<li><strong>Add +2 to Array Size because we are using 2 extra views for Header and Footer.</strong><br />
<pre class="crayon-plain-tag">@Override
public int getItemCount() {
    return (null != arrayList ? arrayList.size() + 2 : 0);//Add 2 more size to array list for Header and Footer

}</pre>
</li>
<li> <strong>In getViewType return type of View according to position.</strong><br />
<pre class="crayon-plain-tag">@Override
public int getItemViewType(int position) {
    //Return item type according to requirement
    if (isPositionHeader(position))
        return TYPE_HEADER;
    else if (isPositionFooter(position))
        return TYPE_FOOTER;
    return TYPE_ITEM;

}</pre>
</li>
<li> <strong>For Header View the postion should be 0.</strong><br />
<pre class="crayon-plain-tag">//if position is 0 then type is header
private boolean isPositionHeader(int position) {
    return position == 0;
}</pre>
</li>
<li><strong>For Footer the position should be equals to last item of ArrayList.</strong><br />
<pre class="crayon-plain-tag">//If position is last then type is footer
private boolean isPositionFooter(int position) {
    return position == arrayList.size() + 1;
}</pre>
</li>
<li>While Creating ViewHolder for <strong>Header and Footer Type</strong> we have to return same <strong>RecyclerView_HeaderFooter_Holder</strong> that we created in previous point and for <strong>Item Type</strong> we have to return <strong>DemoViewHolder</strong>.<br />
<pre class="crayon-plain-tag">@Override
public RecyclerView.ViewHolder onCreateViewHolder(
        ViewGroup viewGroup, int viewType) {

    //inflate the item according to item type
    View itemView;


    //Since we are using same holder for both header and footer so we can return same holder
    if (viewType == TYPE_HEADER || viewType == TYPE_FOOTER) {
        itemView = LayoutInflater.from(viewGroup.getContext())
                .inflate(R.layout.header_footer_view, viewGroup, false);
        return new RecyclerView_HeaderFooter_Holder(itemView);
    } else if (viewType == TYPE_ITEM) {
        //inflate your layout and pass it to view holder
        itemView = LayoutInflater.from(viewGroup.getContext())
                .inflate(R.layout.list_item_row, viewGroup, false);
        return new DemoViewHolder(itemView);
    }

    throw new RuntimeException(&quot;there is no type that matches the type &quot; + viewType + &quot; + make sure your using types correctly&quot;);//Some error occurs then exception occurs

}</pre>
</li>
<li>Now while <strong>BindingViewHolder</strong> we have to check the <strong>instance of ViewHolder</strong> and on the basis of instance we need to display the text and color. Since we are using same holder for both header and footer we need to check if<strong> position is equals to 0</strong> then its Header and if <strong>position equals to arraySize</strong> then its footer.<br />
<pre class="crayon-plain-tag">@Override
public void onBindViewHolder(RecyclerView.ViewHolder holder,
                             int position) {

    //If instance is DemoViewHolder the type is Item do your stuff over here
    if (holder instanceof DemoViewHolder) {
        ((DemoViewHolder) holder).title.setBackgroundColor(GenerateRandom_Color.generateRandomColor());
        ((DemoViewHolder) holder).title.setText(arrayList.get(position - 1));//For getting data from array use -1 for getting correct data
    } else if (holder instanceof RecyclerView_HeaderFooter_Holder) {
        //Else the type is header
        if (position == 0)
            ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.header_view));//if position is 0 set title to header view
        if (position == getItemCount())
            ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.footer_view));//if position is equal to total item set title to footer view
    }

}</pre>
</li>
</ol>
<p><strong>Note: For getting item from ArrayList for Item Type we need to get it by arrayList.get(position-1) because last item is Footer.</strong></p>
<p><b>21</b>. Full code of <em>RecyclerView_Adapter.java.</em></p><pre class="crayon-plain-tag">package com.header_footer_demo.adapters;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import com.header_footer_demo.R;
import com.header_footer_demo.helper.DemoViewHolder;
import com.header_footer_demo.helper.GenerateRandom_Color;
import com.header_footer_demo.helper.RecyclerView_HeaderFooter_Holder;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class RecyclerView_Adapter extends
        RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {
    private ArrayList&lt;String&gt; arrayList;
    private Context context;

    //Type of data in recycler view
    private static final int TYPE_HEADER = 0;
    private static final int TYPE_FOOTER = 1;
    private static final int TYPE_ITEM = 2;


    public RecyclerView_Adapter(Context context,
                                ArrayList&lt;String&gt; arrayList) {
        this.context = context;
        this.arrayList = arrayList;

    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() + 2 : 0);//Add 2 more size to array list for Header and Footer

    }

    @Override
    public int getItemViewType(int position) {
        //Return item type according to requirement
        if (isPositionHeader(position))
            return TYPE_HEADER;
        else if (isPositionFooter(position))
            return TYPE_FOOTER;
        return TYPE_ITEM;

    }

    //if position is 0 then type is header
    private boolean isPositionHeader(int position) {
        return position == 0;
    }

    //If position is last then type is footer
    private boolean isPositionFooter(int position) {
        return position == arrayList.size() + 1;
    }

    @Override
    public void onBindViewHolder(RecyclerView.ViewHolder holder,
                                 int position) {

        //If instance is DemoViewHolder the type is Item do your stuff over here
        if (holder instanceof DemoViewHolder) {
            ((DemoViewHolder) holder).title.setBackgroundColor(GenerateRandom_Color.generateRandomColor());
            ((DemoViewHolder) holder).title.setText(arrayList.get(position - 1));//For getting data from array use -1 for getting correct data
        } else if (holder instanceof RecyclerView_HeaderFooter_Holder) {
            //Else the type is header
            if (position == 0)
                ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.header_view));//if position is 0 set title to header view
            if (position == getItemCount())
                ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.footer_view));//if position is equal to total item set title to footer view
        }

    }

    @Override
    public RecyclerView.ViewHolder onCreateViewHolder(
            ViewGroup viewGroup, int viewType) {

        //inflate the item according to item type
        View itemView;


        //Since we are using same holder for both header and footer so we can return same holder
        if (viewType == TYPE_HEADER || viewType == TYPE_FOOTER) {
            itemView = LayoutInflater.from(viewGroup.getContext())
                    .inflate(R.layout.header_footer_view, viewGroup, false);
            return new RecyclerView_HeaderFooter_Holder(itemView);
        } else if (viewType == TYPE_ITEM) {
            //inflate your layout and pass it to view holder
            itemView = LayoutInflater.from(viewGroup.getContext())
                    .inflate(R.layout.list_item_row, viewGroup, false);
            return new DemoViewHolder(itemView);
        }

        throw new RuntimeException("there is no type that matches the type " + viewType + " + make sure your using types correctly");//Some error occurs then exception occurs

    }
}</pre><p>
<b>22</b>. Finally, all done run your code.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/Header_Footer_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-header-footer-tutorial/">Android Header and Footer Tutorial</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-header-footer-tutorial/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1028</post-id>	</item>
		<item>
		<title>Android Contextual Action Mode Over Toolbar</title>
		<link>http://www.androhub.com/android-contextual-action-mode-over-toolbar/</link>
		<comments>http://www.androhub.com/android-contextual-action-mode-over-toolbar/#comments</comments>
		<pubDate>Tue, 19 Apr 2016 12:55:21 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ToolBar]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[action bar]]></category>
		<category><![CDATA[action mode]]></category>
		<category><![CDATA[android coordinator layout]]></category>
		<category><![CDATA[Android Material Design]]></category>
		<category><![CDATA[android viewpager]]></category>
		<category><![CDATA[app bar layout]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[list view]]></category>
		<category><![CDATA[recycler view]]></category>
		<category><![CDATA[ToolBar]]></category>
		<category><![CDATA[toolbar action mode]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=830</guid>
		<description><![CDATA[<p>You have seen Action Mode Menu in many apps like Whatsapp, Hike, Gmail, etc. while selecting multiple chats/emails on long press i.e. called Action Mode What is Action Mode? It represents a contextual mode of the user interface. Action modes can be used to provide alternative interaction modes and replace parts of the normal UI until [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-contextual-action-mode-over-toolbar/">Android Contextual Action Mode Over Toolbar</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>You have seen <a href="http://developer.android.com/reference/android/view/ActionMode.html" target="_blank">Action Mode</a> Menu in many apps like Whatsapp, Hike, Gmail, etc. while selecting multiple chats/emails on long press i.e. called <a href="http://developer.android.com/reference/android/view/ActionMode.html" target="_blank">Action Mode</a></p>
<h2>What is Action Mode?</h2>
<p>It represents a contextual mode of the user interface. Action modes can be used to provide alternative interaction modes and replace parts of the normal UI until finished. Examples of good action modes include text selection and contextual actions.</p>
<h2>How to Use?</h2>
<p>For Using Action Mode we need to extend our class with ActionMode.Callback. Its a Callback interface for action modes. Supplied to <code><a href="http://developer.android.com/reference/android/support/v7/app/AppCompatDelegate.html#startSupportActionMode(android.support.v7.view.ActionMode.Callback)" target="_blank">startSupportActionMode(Callback)</a></code> (Callback)}, a Callback configures and handles events raised by a user&#8217;s interaction with an action mode.</p>
<p>An action mode&#8217;s lifecycle is as follows:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/support/v7/app/AppCompatDelegate.html#startSupportActionMode(android.support.v7.view.ActionMode.Callback)" target="_blank"><code>onCreateActionMode(ActionMode, Menu)</code></a> once on initial creation.</li>
<li><code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.Callback.html#onPrepareActionMode(android.support.v7.view.ActionMode, android.view.Menu)" target="_blank">onPrepareActionMode(ActionMode, Menu)</a></code> after creation and any time the <code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.html" target="_blank">ActionMode</a></code> is invalidated.</li>
<li><code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.Callback.html#onActionItemClicked(android.support.v7.view.ActionMode, android.view.MenuItem)" target="_blank">onActionItemClicked(ActionMode, MenuItem)</a></code> any time a contextual action button is clicked.</li>
<li><code><a href="http://developer.android.com/reference/android/support/v7/view/ActionMode.Callback.html#onDestroyActionMode(android.support.v7.view.ActionMode)" target="_blank">onDestroyActionMode(ActionMode)</a></code> when the action mode is closed.</li>
</ul>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to implement Action Mode on ListView and RecyclerView item selection.</p>
<h3>Prerequisite:</h3>
<ol>
<li><a href="http://androhub.com/android-listview/" target="_blank">ListView</a></li>
<li><a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a></li>
<li><a href="http://androhub.com/android-toolbar/" target="_blank">Toolbar</a></li>
<li><a href="http://androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Tab Bar Layout</a></li>
</ol>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_54039" width="602" height="339" src="https://www.youtube.com/embed/KWv9mLqzY44?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New ⇒ New Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>build.gradle </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.1.1'
    compile 'com.android.support:recyclerview-v7:23.1.1'
    compile 'com.android.support:design:23.1.1'
}</pre><p>
<b>3</b>. Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Toolbar ActionMode Demo&lt;/string&gt;

    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;

    &lt;!--  Action Mode Menu Items --&gt;
    &lt;string name="delete"&gt;Delete&lt;/string&gt;
    &lt;string name="copy"&gt;Copy&lt;/string&gt;
    &lt;string name="forward"&gt;Forward&lt;/string&gt;

&lt;/resources&gt;</pre><p>
<b>4</b>. Create new xml file naming <strong>colors.xml</strong>  under <strong>res=&gt;values</strong> folder<strong> </strong>and add the following colors.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;color name="colorPrimary"&gt;#D32F2F&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#C62828&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#F44336&lt;/color&gt;
    &lt;color name="grey"&gt;#EEEEEE&lt;/color&gt;
&lt;/resources&gt;</pre><p>
<b>5</b>. Open <strong>styles.xml</strong> located under <strong>res=&gt;values</strong> folder and add following styles.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;!-- Base application theme. --&gt;
    &lt;style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar"&gt;
        &lt;!-- Customize your theme here. --&gt;

        &lt;item name="android:windowDisablePreview"&gt;true&lt;/item&gt;
        &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:textColorPrimary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:textColorSecondary"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="actionMenuTextColor"&gt;@android:color/white&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;

        &lt;!--  It should be true otherwise action mode will not overlay toolbar --&gt;
        &lt;item name="windowActionModeOverlay"&gt;true&lt;/item&gt;

        &lt;!--  For Custom Action Mode Background Color/Drawable --&gt;
        &lt;item name="actionModeBackground"&gt;@color/colorAccent&lt;/item&gt;

    &lt;/style&gt;
&lt;/resources&gt;</pre><p>
Some important part about above styles.xml:</p>
<ul>
<li><b><i></i></b><b><i>windowActionModeOverlay</i></b> should be <b><i>true </i></b>otherwise you will get action mode above toolbar not overlays the toolbar.</li>
</ul>
<div id="attachment_837" style="width: 710px" class="wp-caption aligncenter"><a href="https://i2.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg"><img class="wp-image-837 size-large" src="https://i2.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/action_mode_above_toolbar-1024x520.jpg?resize=602%2C305" alt="action mode above toolbar" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?resize=1024%2C520 1024w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?resize=300%2C152 300w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?resize=768%2C390 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/action_mode_above_toolbar.jpg?w=1080 1080w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></a><p class="wp-caption-text">action mode above toolbar</p></div>
<ul>
<li><b><i></i></b><b><i>actionModeBackground</i></b> is used to set custom background to your action mode menu else it will take default theme color.</li>
</ul>
<div id="attachment_836" style="width: 710px" class="wp-caption aligncenter"><a href="https://i2.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/default_action_mode_color.jpg"><img class="wp-image-836 size-large" src="https://i1.wp.com/androhub.com/newversion/wp-content/uploads/2016/04/default_action_mode_color-1024x364.jpg?resize=602%2C214" alt="default theme action mode " srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?resize=1024%2C364 1024w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?resize=300%2C107 300w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?resize=768%2C273 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/04/default_action_mode_color.jpg?w=1080 1080w" sizes="(max-width: 602px) 100vw, 602px" data-recalc-dims="1" /></a><p class="wp-caption-text">default theme action mode</p></div>
<p><b>6</b>. Create <em>activity_main.xml</em> and add the following code. In this i am using Tab Bar Layout for creating tabs.</p><pre class="crayon-plain-tag">&lt;android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/coordinatorLayout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"&gt;

    &lt;!-- AppBar Layout   --&gt;
    &lt;android.support.design.widget.AppBarLayout
        android:id="@+id/appBarLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"&gt;

        &lt;android.support.v7.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="fill_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:layout_scrollFlags="scroll|enterAlways"
            app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;
        &lt;!-- Tab Layout for creating tabs --&gt;
        &lt;android.support.design.widget.TabLayout
            android:id="@+id/tabLayout"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            app:tabIndicatorColor="@android:color/white" /&gt;
    &lt;/android.support.design.widget.AppBarLayout&gt;
    &lt;!-- Helps handing the Fragments for each Tab --&gt;
    &lt;android.support.v4.view.ViewPager
        android:id="@+id/viewPager"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        app:layout_behavior="@string/appbar_scrolling_view_behavior" /&gt;
&lt;/android.support.design.widget.CoordinatorLayout&gt;</pre><p>
<b>7</b>. Create <i>list_view_fragment.xml </i>for ListView fragment and add ListView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/grey"
    android:gravity="center"
    android:orientation="vertical"&gt;

    &lt;!--  List View  --&gt;
    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:scrollbars="none" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>8</b>. Like above we also need to create <em>recycler</em><i>_view_fragment.xml </i>for RecyclerView fragment and add the RecyclerView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/grey"
    android:gravity="center"
    android:orientation="vertical"&gt;

    &lt;!--  Recycler View  --&gt;
    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recyclerView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:scrollbars="none" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>9</b>. Now we need to create custom row for both ListView and RecyclerView. So we can use same xml for both, so create new xml file naming <em>item_row.xml</em>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="10dp"&gt;

    &lt;TextView
        android:text="Title"
        android:id="@+id/title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="@android:color/black"
        android:textSize="16sp" /&gt;

    &lt;TextView
        android:text="Sub Title"
        android:id="@+id/sub_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="@android:color/darker_gray"
        android:textSize="13sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>10</b>. Now come to <em>MainActivity.java</em> and add the following code for adding tabs and fragments to it.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.os.Bundle;
import android.support.design.widget.TabLayout;
import android.support.v4.app.Fragment;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;

public class MainActivity extends AppCompatActivity {
    private static ViewPagerAdapter adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        ViewPager viewPager = (ViewPager) findViewById(R.id.viewPager);
        setupViewPager(viewPager);//Set up View Pager

        TabLayout tabLayout = (TabLayout) findViewById(R.id.tabLayout);
        tabLayout.setupWithViewPager(viewPager);//setting tab over viewpager
    }


    //Setting View Pager
    private void setupViewPager(ViewPager viewPager) {
        adapter = new ViewPagerAdapter(getSupportFragmentManager());
        adapter.addFrag(new ListView_Fragment(), "ListView");
        adapter.addFrag(new RecyclerView_Fragment(), "RecyclerView");
        viewPager.setAdapter(adapter);
    }


    //Return current fragment on basis of Position
    public Fragment getFragment(int pos) {
        return adapter.getItem(pos);
    }

}</pre><p>
<b>11</b>. Create new<em> ViewPagerAdapter.java</em> class for ViewPager tab fragments.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by SONU on 27/03/16.
 */
public class ViewPagerAdapter extends FragmentPagerAdapter {
    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();//fragment array list
    private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();//title array list

    public ViewPagerAdapter(FragmentManager manager) {
        super(manager);
    }

    @Override
    public Fragment getItem(int position) {
        return mFragmentList.get(position);
    }

    @Override
    public int getCount() {
        return mFragmentList.size();
    }


    //adding fragments and title method
    public void addFrag(Fragment fragment, String title) {
        mFragmentList.add(fragment);
        mFragmentTitleList.add(title);
    }

    @Override
    public CharSequence getPageTitle(int position) {
        return mFragmentTitleList.get(position);
    }

}</pre><p>
<b>12</b>. For Custom ListView and RecyclerView we need to create getter and setter class naming <em>Item_Model.java</em>.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import java.io.Serializable;

/**
 * Created by SONU on 27/03/16.
 */
public class Item_Model implements Serializable {

    /*  Model class for List and Recycler Items  */
    private String title, subTitle;

    public Item_Model(String title, String subTitle) {
        this.title = title;
        this.subTitle = subTitle;
    }

    public String getTitle() {
        return title;
    }

    public String getSubTitle() {
        return subTitle;
    }
}</pre><p>
<b>13</b>. Now create<i> ListView_Fragment.java</i> and add the following code. In this i am implementing ActionMode on ListView long click item and starting Action Mode.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.view.ActionMode;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.ListView;
import android.widget.Toast;

import java.util.ArrayList;

/**
 * Created by SONU on 27/03/16.
 */
public class ListView_Fragment extends Fragment {
    private static View view;
    private static ListView_Adapter adapter;
    private static ListView listView;
    //Action Mode for toolbar
    private ActionMode mActionMode;
    private static ArrayList&lt;Item_Model&gt; item_models;

    public ListView_Fragment() {
    }
    
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.list_view_fragment, container, false);
        populateListView();
        implementListViewClickListeners();
        return view;
    }

    //Populate ListView with dummy data
    private void populateListView() {
        listView = (ListView) view.findViewById(R.id.list_view);
        item_models = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 40; i++)
            item_models.add(new Item_Model("Title " + i, "Sub Title " + i));
        adapter = new ListView_Adapter(getActivity(), item_models);
        listView.setAdapter(adapter);
        adapter.notifyDataSetChanged();
    }

    //Implement item click and long click over list view
    private void implementListViewClickListeners() {
         listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView&lt;&gt; parent, View view, int position, long id) {
                //If ActionMode not null select item
                if (mActionMode != null)
                    onListItemSelect(position);
            }
        });
         listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
            @Override
            public boolean onItemLongClick(AdapterView&lt;&gt; parent, View view, int position, long id) {
                //Select item on long click
                onListItemSelect(position);
                return true;
            }
        });
    }

  //List item select method
    private void onListItemSelect(int position) {
        adapter.toggleSelection(position);//Toggle the selection
        boolean hasCheckedItems = adapter.getSelectedCount() &gt; 0;//Check if any items are already selected or not
        if (hasCheckedItems &amp;&amp; mActionMode == null)
            // there are some selected items, start the actionMode
            mActionMode = ((AppCompatActivity) getActivity()).startSupportActionMode(new Toolbar_ActionMode_Callback(getActivity(), null, adapter, item_models, true));
        else if (!hasCheckedItems &amp;&amp; mActionMode != null)
            // there no selected items, finish the actionMode
            mActionMode.finish();
        if (mActionMode != null)
            //set action mode title on item selection
            mActionMode.setTitle(String.valueOf(adapter
                    .getSelectedCount()) + " selected");
    }
 
  //Set action mode null after use
    public void setNullToActionMode() {
        if (mActionMode != null)
            mActionMode = null;
    }

    //Delete selected rows
    public void deleteRows() {
        SparseBooleanArray selected = adapter
                .getSelectedIds();//Get selected ids
        //Loop all selected ids
        for (int i = (selected.size() - 1); i &gt;= 0; i--) {
            if (selected.valueAt(i)) {
                //If current id is selected remove the item via key
                item_models.remove(selected.keyAt(i));
                adapter.notifyDataSetChanged();//notify adapter

            }
        }
        Toast.makeText(getActivity(), selected.size() + " item deleted.", Toast.LENGTH_SHORT).show();//Show Toast
        mActionMode.finish();//Finish action mode after use
    }
}</pre><p>
<b>14</b>. Now for ListView adapter create new adapter class naming <i>ListView_Adapter.java</i> and add the following code. In this last some methods do the main thing for item selection.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.graphics.Color;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import java.util.ArrayList;

/**
 * Created by SONU on 29/03/16.
 */
public class ListView_Adapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;Item_Model&gt; item_modelArrayList;
    private SparseBooleanArray mSelectedItemsIds;

    public ListView_Adapter(Context context, ArrayList&lt;Item_Model&gt; item_modelArrayList) {
        this.context = context;
        this.item_modelArrayList = item_modelArrayList;
        mSelectedItemsIds = new SparseBooleanArray();
    }

    @Override
    public int getCount() {
        return item_modelArrayList.size();
    }

    @Override
    public Item_Model getItem(int position) {
        return item_modelArrayList.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        ViewHolder holder;
        if (convertView == null) {
            convertView = inflater.inflate(R.layout.item_row, parent, false);
            holder = new ViewHolder();
            holder.title = (TextView) convertView.findViewById(R.id.title);
            holder.sub_title = (TextView) convertView.findViewById(R.id.sub_title);

            convertView.setTag(holder);
        } else
            holder = (ViewHolder) convertView.getTag();

        holder.title.setText(item_modelArrayList.get(position).getTitle());
        holder.sub_title.setText(item_modelArrayList.get(position).getSubTitle());


        /** Change background color of the selected items in list view  **/
        convertView
                .setBackgroundColor(mSelectedItemsIds.get(position) ? 0x9934B5E4
                        : Color.TRANSPARENT);

        return convertView;
    }

    private class ViewHolder {
        TextView title, sub_title;
    }


    /***
     * Methods required for do selections, remove selections, etc.
     */

    //Toggle selection methods
    public void toggleSelection(int position) {
        selectView(position, !mSelectedItemsIds.get(position));
    }


    //Remove selected selections
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }


    //Put or delete selected position into SparseBooleanArray
    public void selectView(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, value);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    //Get total selected count
    public int getSelectedCount() {
        return mSelectedItemsIds.size();
    }

    //Return all selected ids
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }
}</pre><p>
<b>15</b>. Now this is main class in which Action Mode things happen. So create new class name <i>Toolbar_ActionMode_<wbr />Callback.java  </i>and add the following code. In this we are inflating action mode menu and implementing click listener over menu items.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.os.Build;
import android.support.v4.app.Fragment;
import android.support.v4.view.MenuItemCompat;
import android.support.v7.view.ActionMode;
import android.util.Log;
import android.util.SparseBooleanArray;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.Toast;

import java.util.ArrayList;

/**
 * Created by SONU on 22/03/16.
 */
public class Toolbar_ActionMode_Callback implements ActionMode.Callback {

    private Context context;
    private RecyclerView_Adapter recyclerView_adapter;
    private ListView_Adapter listView_adapter;
    private ArrayList&lt;Item_Model&gt; message_models;
    private boolean isListViewFragment;


    public Toolbar_ActionMode_Callback(Context context, RecyclerView_Adapter recyclerView_adapter, ListView_Adapter listView_adapter, ArrayList&lt;Item_Model&gt; message_models, boolean isListViewFragment) {
        this.context = context;
        this.recyclerView_adapter = recyclerView_adapter;
        this.listView_adapter = listView_adapter;
        this.message_models = message_models;
        this.isListViewFragment = isListViewFragment;
    }

    @Override
    public boolean onCreateActionMode(ActionMode mode, Menu menu) {
        mode.getMenuInflater().inflate(R.menu.menu_main, menu);//Inflate the menu over action mode
        return true;
    }

    @Override
    public boolean onPrepareActionMode(ActionMode mode, Menu menu) {

        //Sometimes the meu will not be visible so for that we need to set their visibility manually in this method
        //So here show action menu according to SDK Levels
        if (Build.VERSION.SDK_INT &lt; 11) {
            MenuItemCompat.setShowAsAction(menu.findItem(R.id.action_delete), MenuItemCompat.SHOW_AS_ACTION_NEVER);
            MenuItemCompat.setShowAsAction(menu.findItem(R.id.action_copy), MenuItemCompat.SHOW_AS_ACTION_NEVER);
            MenuItemCompat.setShowAsAction(menu.findItem(R.id.action_forward), MenuItemCompat.SHOW_AS_ACTION_NEVER);
        } else {
            menu.findItem(R.id.action_delete).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
            menu.findItem(R.id.action_copy).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
            menu.findItem(R.id.action_forward).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
        }

        return true;
    }

    @Override
    public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
        switch (item.getItemId()) {
            case R.id.action_delete:

                //Check if current action mode is from ListView Fragment or RecyclerView Fragment
                if (isListViewFragment) {
                    Fragment listFragment = new MainActivity().getFragment(0);//Get list view Fragment
                    if (listFragment != null)
                        //If list fragment is not null
                        ((ListView_Fragment) listFragment).deleteRows();//delete selected rows
                } else {
                    //If current fragment is recycler view fragment
                    Fragment recyclerFragment = new MainActivity().getFragment(1);//Get recycler view fragment
                    if (recyclerFragment != null)
                        //If recycler fragment not null
                        ((RecyclerView_Fragment) recyclerFragment).deleteRows();//delete selected rows
                }
                break;
            case R.id.action_copy:

                //Get selected ids on basis of current fragment action mode
                SparseBooleanArray selected;
                if (isListViewFragment)
                    selected = listView_adapter
                            .getSelectedIds();
                else
                    selected = recyclerView_adapter
                            .getSelectedIds();

                int selectedMessageSize = selected.size();

                //Loop to all selected items
                for (int i = (selectedMessageSize - 1); i &gt;= 0; i--) {
                    if (selected.valueAt(i)) {
                        //get selected data in Model
                        Item_Model model = message_models.get(selected.keyAt(i));
                        String title = model.getTitle();
                        String subTitle = model.getSubTitle();
                        //Print the data to show if its working properly or not
                        Log.e("Selected Items", "Title - " + title + "n" + "Sub Title - " + subTitle);

                    }
                }
                Toast.makeText(context, "You selected Copy menu.", Toast.LENGTH_SHORT).show();//Show toast
                mode.finish();//Finish action mode
                break;
            case R.id.action_forward:
                Toast.makeText(context, "You selected Forward menu.", Toast.LENGTH_SHORT).show();//Show toast
                mode.finish();//Finish action mode
                break;


        }
        return false;
    }


    @Override
    public void onDestroyActionMode(ActionMode mode) {

        //When action mode destroyed remove selected selections and set action mode to null
        //First check current fragment action mode
        if (isListViewFragment) {
            listView_adapter.removeSelection();  // remove selection
            Fragment listFragment = new MainActivity().getFragment(0);//Get list fragment
            if (listFragment != null)
                ((ListView_Fragment) listFragment).setNullToActionMode();//Set action mode null
        } else {
            recyclerView_adapter.removeSelection();  // remove selection
            Fragment recyclerFragment = new MainActivity().getFragment(1);//Get recycler fragment
            if (recyclerFragment != null)
                ((RecyclerView_Fragment) recyclerFragment).setNullToActionMode();//Set action mode null
        }
    }
}</pre><p>
<b>16</b>. For action mode menu create menu inside <b>menu</b> folder and add the following menus to it.</p><pre class="crayon-plain-tag">&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".MainActivity"&gt;

    &lt;!--  Toolbar ActionMode Menu Items  --&gt;
    &lt;item
        android:id="@+id/action_delete"
        android:icon="@mipmap/ic_action_delete"
        android:orderInCategory="100"
        android:title="@string/delete"
        app:showAsAction="always" /&gt;
    &lt;item
        android:id="@+id/action_copy"
        android:icon="@mipmap/ic_action_copy"
        android:orderInCategory="100"
        android:title="@string/copy"
        app:showAsAction="always" /&gt;
    &lt;item
        android:id="@+id/action_forward"
        android:icon="@mipmap/ic_action_forward"
        android:orderInCategory="100"
        android:title="@string/forward"
        app:showAsAction="always" /&gt;
&lt;/menu&gt;</pre><p>
<b>17</b>. Now for RecyclerView create new java class naming <i>RecyclerView_Fragment.java</i> and add the following code. It is mostly same as <i>ListView_Fragment.java</i>.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.view.ActionMode;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Toast;

import java.util.ArrayList;

/**
 * Created by SONU on 27/03/16.
 */
public class RecyclerView_Fragment extends Fragment {
    private static View view;
    private static RecyclerView recyclerView;
    private static ArrayList&lt;Item_Model&gt; item_models;
    private static RecyclerView_Adapter adapter;
    private ActionMode mActionMode;

    public RecyclerView_Fragment() {
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.recycler_view_fragment, container, false);
        populateRecyclerView();
        implementRecyclerViewClickListeners();
        return view;
    }

    //Populate ListView with dummy data
    private void populateRecyclerView() {
        recyclerView = (RecyclerView) view.findViewById(R.id.recyclerView);
        recyclerView.setHasFixedSize(true);
        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));

        item_models = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 40; i++)
            item_models.add(new Item_Model("Title " + i, "Sub Title " + i));

        adapter = new RecyclerView_Adapter(getActivity(), item_models);
        recyclerView.setAdapter(adapter);
        adapter.notifyDataSetChanged();
    }

    //Implement item click and long click over recycler view
    private void implementRecyclerViewClickListeners() {
        recyclerView.addOnItemTouchListener(new RecyclerTouchListener(getActivity(), recyclerView, new RecyclerClick_Listener() {
            @Override
            public void onClick(View view, int position) {
                //If ActionMode not null select item
                if (mActionMode != null)
                    onListItemSelect(position);
            }

            @Override
            public void onLongClick(View view, int position) {
                //Select item on long click
                onListItemSelect(position);
            }
        }));
    }

    //List item select method
    private void onListItemSelect(int position) {
        adapter.toggleSelection(position);//Toggle the selection

        boolean hasCheckedItems = adapter.getSelectedCount() &gt; 0;//Check if any items are already selected or not


        if (hasCheckedItems &amp;&amp; mActionMode == null)
            // there are some selected items, start the actionMode
            mActionMode = ((AppCompatActivity) getActivity()).startSupportActionMode(new Toolbar_ActionMode_Callback(getActivity(),adapter, null, item_models, false));
        else if (!hasCheckedItems &amp;&amp; mActionMode != null)
            // there no selected items, finish the actionMode
            mActionMode.finish();

        if (mActionMode != null)
            //set action mode title on item selection
            mActionMode.setTitle(String.valueOf(adapter
                    .getSelectedCount()) + " selected");


    }
    //Set action mode null after use
    public void setNullToActionMode() {
        if (mActionMode != null)
            mActionMode = null;
    }

    //Delete selected rows
    public void deleteRows() {
        SparseBooleanArray selected = adapter
                .getSelectedIds();//Get selected ids

        //Loop all selected ids
        for (int i = (selected.size() - 1); i &gt;= 0; i--) {
            if (selected.valueAt(i)) {
                //If current id is selected remove the item via key
                item_models.remove(selected.keyAt(i));
                adapter.notifyDataSetChanged();//notify adapter

            }
        }
        Toast.makeText(getActivity(), selected.size() + " item deleted.", Toast.LENGTH_SHORT).show();//Show Toast
        mActionMode.finish();//Finish action mode after use

    }
}</pre><p>
<b>18</b>. Create ViewHolder for RecyclerView adapter naming <i>DemoViewHolder.java</i> and add the following code.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

/**
 * Created by SONU on 27/03/16.
 */
public class DemoViewHolder extends RecyclerView.ViewHolder {


    public TextView title, sub_title;


    public DemoViewHolder(View view) {
        super(view);


        this.title = (TextView) view.findViewById(R.id.title);
        this.sub_title = (TextView) view.findViewById(R.id.sub_title);

    }
}</pre><p>
<b>19</b>. For RecyclerView adapter create new java class naming <i>RecyclerView_Adapter.java</i> and add the code.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.graphics.Color;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.ViewGroup;

import java.util.ArrayList;

/**
 * Created by SONU on 27/03/16.
 */
public class RecyclerView_Adapter extends
        RecyclerView.Adapter&lt;DemoViewHolder&gt; {
    private ArrayList&lt;Item_Model&gt; arrayList;
    private Context context;
    private SparseBooleanArray mSelectedItemsIds;

    public RecyclerView_Adapter(Context context,
                                ArrayList&lt;Item_Model&gt; arrayList) {
        this.context = context;
        this.arrayList = arrayList;
        mSelectedItemsIds = new SparseBooleanArray();

    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);

    }

    @Override
    public void onBindViewHolder(DemoViewHolder holder,
                                 int position) {

        //Setting text over text view
        holder.title.setText(arrayList.get(position).getTitle());
        holder.sub_title.setText(arrayList.get(position).getSubTitle());

        /** Change background color of the selected items in list view  **/
        holder.itemView
                .setBackgroundColor(mSelectedItemsIds.get(position) ? 0x9934B5E4
                        : Color.TRANSPARENT);


    }

    @Override
    public DemoViewHolder onCreateViewHolder(
            ViewGroup viewGroup, int viewType) {
        LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

        ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
                R.layout.item_row, viewGroup, false);
        return new DemoViewHolder(mainGroup);

    }


    /***
     * Methods required for do selections, remove selections, etc.
     */

    //Toggle selection methods
    public void toggleSelection(int position) {
        selectView(position, !mSelectedItemsIds.get(position));
    }


    //Remove selected selections
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }


    //Put or delete selected position into SparseBooleanArray
    public void selectView(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, value);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    //Get total selected count
    public int getSelectedCount() {
        return mSelectedItemsIds.size();
    }

    //Return all selected ids
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }


}</pre><p>
<b>20</b>. For RecyclerView click listener we need to create a interface naming <i>RecyclerClick_Listener.<wbr />java </i>and the following code.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.view.View;

/**
 * Created by SONU on 15/03/16.
 */
public interface RecyclerClick_Listener {

    /**
     * Interface for Recycler View Click listener
     **/

    void onClick(View view, int position);

    void onLongClick(View view, int position);
}</pre><p>
<b>21</b>. Now for implementing touch listener over Recycler View create <i>RecyclerTouchListener.java</i> and implement the interface that we created and add the following code to it.</p><pre class="crayon-plain-tag">package com.toolbar_actionmode_demo;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.GestureDetector;
import android.view.MotionEvent;
import android.view.View;

/**
 * Created by SONU on 15/03/16.
 */
public class RecyclerTouchListener implements RecyclerView.OnItemTouchListener {

    private GestureDetector gestureDetector;
    private RecyclerClick_Listener clickListener;

    public RecyclerTouchListener(Context context, final RecyclerView recyclerView, final RecyclerClick_Listener clickListener) {
        this.clickListener = clickListener;
        gestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener() {
            @Override
            public boolean onSingleTapUp(MotionEvent e) {
                return true;
            }

            @Override
            public void onLongPress(MotionEvent e) {
                View child = recyclerView.findChildViewUnder(e.getX(), e.getY());
                if (child != null &amp;&amp; clickListener != null) {
                    clickListener.onLongClick(child, recyclerView.getChildPosition(child));
                }
            }
        });
    }

    @Override
    public boolean onInterceptTouchEvent(RecyclerView rv, MotionEvent e) {

        View child = rv.findChildViewUnder(e.getX(), e.getY());
        if (child != null &amp;&amp; clickListener != null &amp;&amp; gestureDetector.onTouchEvent(e)) {
            clickListener.onClick(child, rv.getChildPosition(child));
        }
        return false;
    }

    @Override
    public void onTouchEvent(RecyclerView rv, MotionEvent e) {
    }

    @Override
    public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {

    }
}</pre><p>
<b>22</b>. Finally, all done – now you can also create ActionMode.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/Toolbar_ActionMode_Demo.zip" target="_blank"><b>Download Source Code – &gt;</b><b></b></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-contextual-action-mode-over-toolbar/">Android Contextual Action Mode Over Toolbar</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-contextual-action-mode-over-toolbar/feed/</wfw:commentRss>
		<slash:comments>21</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">830</post-id>	</item>
		<item>
		<title>Load More Items On Scroll Android (Endless Scrolling)</title>
		<link>http://www.androhub.com/load-more-items-on-scroll-android/</link>
		<comments>http://www.androhub.com/load-more-items-on-scroll-android/#comments</comments>
		<pubDate>Tue, 15 Sep 2015 14:37:50 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[android fragments]]></category>
		<category><![CDATA[android listview]]></category>
		<category><![CDATA[android recyclerview]]></category>
		<category><![CDATA[Android Swipeable Tabs]]></category>
		<category><![CDATA[android viewpager]]></category>
		<category><![CDATA[custom listview]]></category>
		<category><![CDATA[endless listener]]></category>
		<category><![CDATA[endless scroll listener]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[include tag]]></category>
		<category><![CDATA[listview load more items]]></category>
		<category><![CDATA[random value generator]]></category>
		<category><![CDATA[recycler view]]></category>
		<category><![CDATA[recyclerview load more items]]></category>
		<category><![CDATA[scroll listener]]></category>
		<category><![CDATA[tabs]]></category>
		<category><![CDATA[Tabs with Fragments]]></category>
		<category><![CDATA[ViewPager]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=653</guid>
		<description><![CDATA[<p>We pretty much all know the nice technique apps like Gmail, Facebook, etc. use to dynamically load more items to the ListView then you scroll to the bottom. In this article i am going to show you the same thing over ListView and RecyclerView. If you are unaware of ListView and RecyclerView that how to use both views [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/load-more-items-on-scroll-android/">Load More Items On Scroll Android (Endless Scrolling)</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>We pretty much all know the nice technique apps like Gmail, Facebook, etc. use to <strong>dynamically load more items to the ListView</strong> then you scroll to the bottom. In this article i am going to show you the same thing over <a href="http://developer.android.com/intl/ru/guide/topics/ui/layout/listview.html" target="_blank">ListView</a> and <a href="https://developer.android.com/intl/ru/reference/android/support/v7/widget/RecyclerView.html" target="_blank">RecyclerView</a>.</p>
<p>If you are unaware of ListView and RecyclerView that how to use both views then you can check my tutorials for <a href="http://androhub.com/android-listview/" target="_blank">ListView</a> and <a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a>.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to implement endless scroll listener by loading more items when user reaches end of the view i.e. bottom view.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_48248" width="602" height="339" src="https://www.youtube.com/embed/h-yu_l4VvCI?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android Studio by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values. This are the strings that i am going to use in this tutorial and there are String Array also that i&#8217;ll use for loading data over views.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;LoadItems On Scroll Demo&lt;/string&gt;
    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="add"&gt;Add&lt;/string&gt;
    &lt;string name="remove"&gt;Remove&lt;/string&gt;
    &lt;string name="imageview"&gt;ImageView&lt;/string&gt;
    &lt;string name="delete_image"&gt;Delete ImageView&lt;/string&gt;
    &lt;string name="loadmore"&gt;Loading more items please wait&amp;#8230;&lt;/string&gt;
    

    &lt;!-- Title string array --&gt;
    &lt;string-array name="title"&gt;
        &lt;item&gt;Taj Mahal&lt;/item&gt;
        &lt;item&gt;Hawa Mahal&lt;/item&gt;
        &lt;item&gt;Golden Temple&lt;/item&gt;
        &lt;item&gt;Shore Temple&lt;/item&gt;
        &lt;item&gt;Chhatrapati Shivaji Terminus&lt;/item&gt;
        &lt;item&gt;Lotus Temple&lt;/item&gt;
        &lt;item&gt;Victoria Memorial Hall&lt;/item&gt;
        &lt;item&gt;Brihadeeswarar Temple&lt;/item&gt;
        &lt;item&gt;Mahabodhi Temple&lt;/item&gt;
    &lt;/string-array&gt;

    &lt;!-- Location string array --&gt;
    &lt;string-array name="location"&gt;
        &lt;item&gt;Agra&lt;/item&gt;
        &lt;item&gt;Jaipur&lt;/item&gt;
        &lt;item&gt;Amritsar&lt;/item&gt;
        &lt;item&gt;Bay of Bengal&lt;/item&gt;
        &lt;item&gt;Mumbai&lt;/item&gt;
        &lt;item&gt;New Delhi&lt;/item&gt;
        &lt;item&gt;Kolkata&lt;/item&gt;
        &lt;item&gt;Tamil Nadu&lt;/item&gt;
        &lt;item&gt;Patna&lt;/item&gt;
    &lt;/string-array&gt;

    &lt;!-- Year string array --&gt;
    &lt;string-array name="constructed_year"&gt;
        &lt;item&gt;1632&lt;/item&gt;
        &lt;item&gt;1799 AD&lt;/item&gt;
        &lt;item&gt;1577&lt;/item&gt;
        &lt;item&gt;700–728 AD&lt;/item&gt;
        &lt;item&gt;May 1888&lt;/item&gt;
        &lt;item&gt;1987&lt;/item&gt;
        &lt;item&gt;1906&lt;/item&gt;
        &lt;item&gt;1010 CE&lt;/item&gt;
        &lt;item&gt;250 BCE&lt;/item&gt;
    &lt;/string-array&gt;

&lt;/resources&gt;</pre><p>
<b>3</b>. Open <strong>res ⇒ values </strong>and create new resource file naming <strong>colors.xml </strong>for your colors and put these colors inside this xml.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;color name="red"&gt;#ff00&lt;/color&gt;
    &lt;color name="orange"&gt;#F96A1B&lt;/color&gt;
    &lt;color name="blue"&gt;#33B5E5&lt;/color&gt;
    &lt;color name="black"&gt;#000000&lt;/color&gt;
    &lt;color name="pink"&gt;#F50057&lt;/color&gt;
    &lt;color name="cyan"&gt;#00BCD4&lt;/color&gt;
    &lt;color name="green"&gt;#4CAF50&lt;/color&gt;
    &lt;color name="yellow"&gt;#FFEB3B&lt;/color&gt;

&lt;/resources&gt;</pre><p>
<b>4</b>. Now create a layout naming <em>activity_main.xml </em>that contains a <a href="http://developer.android.com/intl/ru/reference/android/support/v4/view/ViewPager.html" target="_blank">ViewPager</a>. Since I am using ListView and RecyclerView so i will show both views in same activity using view pager tab.</p>
<p>If you don&#8217;t know how to make swipeable tabs then you can check my tutorial about <a href="http://androhub.com/android-tab-with-swipeable-views-using-viewpager/" target="_blank">Tabs</a>.</p><pre class="crayon-plain-tag">&lt;!-- ViewPager for tabs --&gt;
&lt;android.support.v4.view.ViewPager xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/pager"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /&gt;</pre><p>
<b>5</b>. Now after creating viewpager we have to create two more designs for our two fragments i.e ListView and RecyclerView. So create two more xml files under <em>layout</em> directory.</p>
<p><em><strong>listview_fragment.xml</strong></em></p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;

&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" &gt;

    &lt;!-- ListView --&gt;

    &lt;ListView
        android:id="@+id/listView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@+id/loadItemsLayout_listView"
        android:background="#ffffff" &gt;
    &lt;/ListView&gt;

    &lt;!-- include progress layout that will be displayed while loading more data --&gt;
    &lt;!-- initially it is hidden --&gt;

    &lt;include
        android:id="@+id/loadItemsLayout_listView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        layout="@layout/progress_layout"
        android:visibility="gone" /&gt;

&lt;/RelativeLayout&gt;</pre><p>
<strong>linearlayout_fragment.xml</strong></p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;

&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" &gt;

    &lt;!-- Recycler View --&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/linear_recyclerview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@+id/loadItemsLayout_recyclerView" /&gt;
    
    
    &lt;!-- include progress layout that will be displayed while loading more data --&gt;
    &lt;!-- initially it is hidden --&gt;

    &lt;include
        android:id="@+id/loadItemsLayout_recyclerView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        layout="@layout/progress_layout"
        android:visibility="gone" /&gt;

&lt;/RelativeLayout&gt;</pre><p>
In above both layouts we have seen there is a <strong><em>include </em></strong>tag. This include tag including a progress_layout below ListView and RecyclerView. The progress_layout is a layout that will display then user reaches at the end of the view while scrolling.</p>
<p><b>6</b>. In above point we had included progress_layout so now we have to create <em>progress_layout.xml </em>file under <em>layout</em> directory. This layout contains a progress bar a textview for display message title.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- Progress Layout contains Progress Bar and a TextView --&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="#AA000000"
    android:gravity="center"
    android:padding="5dp" &gt;

    &lt;ProgressBar
        android:id="@+id/more_progress"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" /&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:layout_toRightOf="@+id/more_progress"
        android:padding="5dp"
        android:text="@string/loadmore"
        android:textColor="#ffffff"
        android:textSize="15sp" /&gt;

&lt;/RelativeLayout&gt;</pre><p>
<b>7</b>. We are using a custom ListView and RecyclerView. So for this we have to create a getter and setter class and custom xml files and custom adapter. If you don&#8217;t know about custom views then you can check this <a href="http://androhub.com/android-listview/" target="_blank">tutorial</a>.</p>
<p>I am not going in details for these custom part.</p>
<ul>
<li>Create a custom view xml file naming <em>list_customview.xml </em>for custom designing and we can use same design for both ListView and RecyclerView.</li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- ListView Custom Views --&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/list_layout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="#ffffff"
    android:padding="10dp" &gt;

    &lt;ImageView
        android:id="@+id/list_imageview"
        android:layout_width="100dp"
        android:layout_height="120dp"
        android:adjustViewBounds="true"
        android:contentDescription="@string/imageview"
        android:scaleType="centerCrop" /&gt;

    &lt;LinearLayout
        android:id="@+id/list_item_holder"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:layout_toRightOf="@+id/list_imageview"
        android:orientation="vertical" &gt;

        &lt;TextView
            android:id="@+id/list_title"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="3dp"
            android:paddingLeft="10dp"
            android:textColor="#000000"
            android:textSize="17sp" /&gt;

        &lt;TextView
            android:id="@+id/list_location"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="3dp"
            android:paddingLeft="10dp"
            android:textColor="#757575"
            android:textSize="14sp" /&gt;

        &lt;TextView
            android:id="@+id/list_dateconstructed"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:paddingLeft="10dp"
            android:textColor="#757575"
            android:textSize="14sp"
            android:textStyle="bold" /&gt;
    &lt;/LinearLayout&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li>Now create a getter and setter class naming <em>Data_Model.java.</em></li>
</ul>
<pre class="crayon-plain-tag">package com.loaditemsonscroll_demo;

public class Data_Model {

	// Getter and Setter model for recycler view items
	private String title, location, year;
	private int image;

	public Data_Model(String title, String location, String year, int image) {
		this.year = year;
		this.title = title;
		this.location = location;
		this.image = image;
	}

	public String getTitle() {
		return title;
	}

	public String getLocation() {
		return location;
	}

	public String getYear() {
		return year;
	}

	public int getImage() {
		return image;
	}
}</pre>
<ul>
<li><em> </em>After getter and setter class create custom adapter for ListView.</li>
</ul>
<pre class="crayon-plain-tag">package com.loaditemsonscroll_demo.adapter;

import java.util.ArrayList;

import com.loaditemsonscroll_demo.Data_Model;
import com.loaditemsonscroll_demo.R;
import com.loaditemsonscroll_demo.holders.ListView_Holder;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class ListViewAdapter extends BaseAdapter {
	private ArrayList&lt;Data_Model&gt; arrayList;
	private Context context;

	public ListViewAdapter(Context context, ArrayList&lt;Data_Model&gt; arrayList) {
		this.context = context;
		this.arrayList = arrayList;
	}

	@Override
	public int getCount() {

		return arrayList.size();
	}

	@Override
	public Object getItem(int position) {

		return arrayList.get(position);
	}

	@Override
	public long getItemId(int position) {

		return position;
	}

	@Override
	public View getView(int position, View view, ViewGroup parent) {
		ViewHolder holder = null;

		// Inflater for custom layout
		LayoutInflater inflater = (LayoutInflater) context
				.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
		if (view == null) {
			view = inflater.inflate(R.layout.list_customview, parent, false);

			holder = new ViewHolder();

			holder.list_title = (TextView) view.findViewById(R.id.list_title);
			holder.list_location = (TextView) view
					.findViewById(R.id.list_location);
			holder.list_date = (TextView) view
					.findViewById(R.id.list_dateconstructed);
			holder.list_imageView = (ImageView) view
					.findViewById(R.id.list_imageview);

			view.setTag(holder);

		} else {
			holder = (ViewHolder) view.getTag();
		}

		final Data_Model model = arrayList.get(position);

		Bitmap image = BitmapFactory.decodeResource(context.getResources(),
				model.getImage());// This will convert drawbale image into
									// bitmap

		// setting data over views
		holder.list_title.setText(model.getTitle());
		holder.list_location.setText(model.getLocation());
		holder.list_date.setText(model.getYear());
		holder.list_imageView.setImageBitmap(image);

		return view;
	}

	// View Holder
	private class ViewHolder {
		public TextView list_title, list_location, list_date;
		public ImageView list_imageView;
	}
}</pre>
<ul>
<li>Now for RecyclerView we have to create a separate ViewHolder class and separate Adapter class.</li>
</ul>
<p><em><strong>ListView_Holder.java</strong></em></p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo.holders;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.TextView;

import com.loaditemsonscroll_demo.R;

public class ListView_Holder extends RecyclerView.ViewHolder implements
		OnClickListener {
	// View holder for list recycler view as we used in listview
	public TextView list_title, list_location, list_date;
	public ImageView list_imageView;
	public RelativeLayout listLayout;

	private RecyclerView_OnClickListener.OnClickListener onClickListener;

	public ListView_Holder(View view) {
		super(view);

		// Find all views ids
		this.list_title = (TextView) view.findViewById(R.id.list_title);
		this.list_location = (TextView) view.findViewById(R.id.list_location);
		this.list_date = (TextView) view
				.findViewById(R.id.list_dateconstructed);
		this.list_imageView = (ImageView) view
				.findViewById(R.id.list_imageview);

		this.listLayout = (RelativeLayout) view.findViewById(R.id.list_layout);

		// Implement click listener over views that we need

		this.listLayout.setOnClickListener(this);

	}

	@Override
	public void onClick(View v) {

		// setting custom listener
		if (onClickListener != null) {
			onClickListener.OnItemClick(v, getAdapterPosition());

		}

	}

	// Setter for listener
	public void setClickListener(
			RecyclerView_OnClickListener.OnClickListener onClickListener) {
		this.onClickListener = onClickListener;
	}

}</pre><p>
<ul>
<li>Create a Interface for implementing click listener over recyclerview items.</li>
</ul>
<p><strong><em>RecyclerView_OnClickListener.java</em></strong></p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo.holders;

import android.view.View;

public class RecyclerView_OnClickListener {
	/** Interface for Item Click over Recycler View Items **/
	public interface OnClickListener {
		public void OnItemClick(View view, int position);
	}
}</pre><p>
<ul>
<li>Finally create a custom adapter for RecyclerView.</li>
</ul>
<p><em><strong>ListView_Recycler_Adapter.java</strong></em></p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo.adapter;

import java.util.ArrayList;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Toast;

import com.loaditemsonscroll_demo.Data_Model;
import com.loaditemsonscroll_demo.holders.ListView_Holder;
import com.loaditemsonscroll_demo.holders.RecyclerView_OnClickListener.OnClickListener;
import com.loaditemsonscroll_demo.R;

public class ListView_Recycler_Adapter extends
		RecyclerView.Adapter&lt;ListView_Holder&gt; {// Recyclerview will extend to
												// recyclerview adapter
	private ArrayList&lt;Data_Model&gt; arrayList;
	private Context context;

	public ListView_Recycler_Adapter(Context context,
			ArrayList&lt;Data_Model&gt; arrayList) {
		this.context = context;
		this.arrayList = arrayList;

	}

	@Override
	public int getItemCount() {
		return (null != arrayList ? arrayList.size() : 0);

	}

	@Override
	public void onBindViewHolder(ListView_Holder holder, int position) {
		final Data_Model model = arrayList.get(position);

		ListView_Holder mainHolder = (ListView_Holder) holder;// holder

		Bitmap image = BitmapFactory.decodeResource(context.getResources(),
				model.getImage());// This will convert drawbale image into
									// bitmap

		// setting data over views
		mainHolder.list_title.setText(model.getTitle());
		mainHolder.list_location.setText(model.getLocation());
		mainHolder.list_date.setText(model.getYear());
		mainHolder.list_imageView.setImageBitmap(image);

		// Implement click listener over layout
		mainHolder.setClickListener(new OnClickListener() {

			@Override
			public void OnItemClick(View view, int position) {
				switch (view.getId()) {
				case R.id.list_layout:

					// Show a toast on clicking layout
					Toast.makeText(context,
							"You have clicked " + model.getTitle(),
							Toast.LENGTH_LONG).show();
					break;

				}
			}

		});

	}

	@Override
	public ListView_Holder onCreateViewHolder(ViewGroup viewGroup, int viewType) {

		// This method will inflate the custom layout and return as viewholder
		LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

		ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
				R.layout.list_customview, viewGroup, false);
		ListView_Holder listHolder = new ListView_Holder(mainGroup);
		return listHolder;

	}

}</pre><p>
<b>8</b>. Come to your <em>MainActivity.java </em>and add the following code for implementing swipeable tabs over viewpager.</p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;
import android.support.v4.app.FragmentTransaction;
import android.support.v4.view.ViewPager;
import android.support.v7.app.ActionBar;
import android.support.v7.app.ActionBar.Tab;
import android.support.v7.app.ActionBar.TabListener;
import android.support.v7.app.AppCompatActivity;
import com.loaditemsonscroll_demo.R;

public class MainActivity extends AppCompatActivity implements TabListener {
	private static ViewPager viewPager;//View Pager for setting tabs
	private static ActionBar actionBar;
	private static FragmentManager fragmentManager;//fragment manager to work on fragments

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		init();
		setTabs();
	}

	
	//initialize the view pager 
	private void init() {
		viewPager = (ViewPager) findViewById(R.id.pager);
		fragmentManager = getSupportFragmentManager();

		// Setting adapter over view pager
		viewPager.setAdapter(new MyAdapter(fragmentManager));

		// Implementing view pager pagechangelistener to navigate between tabs
		viewPager.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {

			@Override
			public void onPageSelected(int pos) {

				// Setting navigation of tabs to actionbar
				actionBar.setSelectedNavigationItem(pos);
			}

			@Override
			public void onPageScrolled(int arg0, float arg1, int arg2) {

			}

			@Override
			public void onPageScrollStateChanged(int arg0) {

			}
		});

	}

	private void setTabs() {
		// Getting actionbar
		actionBar = getSupportActionBar();

		// Setting navigation mode to actionbar
		actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

		// Now adding a new tab to action bar and setting title, icon and
		// implementing listener
		android.support.v7.app.ActionBar.Tab tab1 = actionBar.newTab();
		tab1.setText("RecyclerView");
		// tab1.setIcon(R.drawable.ic_launcher);
		tab1.setTabListener(this);

		android.support.v7.app.ActionBar.Tab tab2 = actionBar.newTab();
		tab2.setText("ListView");
		tab2.setTabListener(this);

		// Now finally adding all tabs to actionbar
		actionBar.addTab(tab1);
		actionBar.addTab(tab2);

	}

	@Override
	public void onTabReselected(Tab arg0, FragmentTransaction arg1) {
		
	}

	@Override
	public void onTabSelected(Tab tab, FragmentTransaction arg1) {
		// Setting current position of tab to view pager
		viewPager.setCurrentItem(tab.getPosition());

	}

	@Override
	public void onTabUnselected(Tab arg0, FragmentTransaction arg1) {
		

	}

	// My adapter i.e. custom adapter for displaying fragments over view pager
	private class MyAdapter extends FragmentPagerAdapter {
		public MyAdapter(FragmentManager fm) {
			super(fm);

		}

		@Override
		public Fragment getItem(int i) {

			// Getting fragments according to selected position
			Fragment fragment = null;
			if (i == 0) {
				fragment = new LinearLayout_Fragment();
			}
			if (i == 1) {
				fragment = new ListViewLayout_Fragment();
			}

			// and finally returning fragments
			return fragment;
		}

		@Override
		public int getCount() {

			// Returning no. of counts of fragments
			return 2;
		}
	}

}</pre><p>
<b>9</b>. Finally we are going to implement scroll listener over both listview and recyclerview. So lets see how to implement this :</p>
<ul>
<li>ListView : We use setOnScrollListener method for ListView and use certain variables to read the end of ListView scroll and update the ListView when end is reached.</li>
</ul>
<pre class="crayon-plain-tag">//Declare these variables globally in class
 int mVisibleThreshold = 5;
 int mCurrentPage = 0;
 int mPreviousTotal = 0;
 boolean mLoading = true;
 boolean mLastPage = false;
 boolean userScrolled = false;

// Implement scroll listener
	private void implementScrollListener() {
		listView.setOnScrollListener(new OnScrollListener() {

			@Override
			public void onScrollStateChanged(AbsListView arg0, int scrollState) {
				// If scroll state is touch scroll then set userScrolled
				// true
				if (scrollState == OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {
					userScrolled = true;

				}

			}

			@Override
			public void onScroll(AbsListView view, int firstVisibleItem,
					int visibleItemCount, int totalItemCount) {
				// Now check if userScrolled is true and also check if
				// the item is end then update list view and set
				// userScrolled to false
				if (userScrolled
						&amp;&amp; firstVisibleItem + visibleItemCount == totalItemCount) {

					userScrolled = false;
					updateListView();
				}
			}
		});
	}</pre>
<ul>
<li>RecyclerView : For RecyclerView we will use addOnScrollListener and certain  variables to detect end of recyclerview.</li>
</ul>
<pre class="crayon-plain-tag">//Declare these variables globally in class
private boolean userScrolled = true;
 int pastVisiblesItems, visibleItemCount, totalItemCount;

// Implement scroll listener
	private void implementScrollListener() {
		listRecyclerView
				.addOnScrollListener(new RecyclerView.OnScrollListener() {

					@Override
					public void onScrollStateChanged(RecyclerView recyclerView,
							int newState) {

						super.onScrollStateChanged(recyclerView, newState);

						// If scroll state is touch scroll then set userScrolled
						// true
						if (newState == OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {
							userScrolled = true;

						}

					}

					@Override
					public void onScrolled(RecyclerView recyclerView, int dx,
							int dy) {

						super.onScrolled(recyclerView, dx, dy);
						// Here get the child count, item count and visibleitems
						// from layout manager

						visibleItemCount = mLayoutManager.getChildCount();
						totalItemCount = mLayoutManager.getItemCount();
						pastVisiblesItems = mLayoutManager
								.findFirstVisibleItemPosition();

						// Now check if userScrolled is true and also check if
						// the item is end then update recycler view and set
						// userScrolled to false
						if (userScrolled
								&amp;&amp; (visibleItemCount + pastVisiblesItems) == totalItemCount) {
							userScrolled = false;

							updateRecyclerView();
						}

					}

				});

	}</pre>
We will use this both methods in their respected classes.</p>
<p><b>10</b>. Since i am using static items to be load on linear list that i had declared in <em>strings.xml</em> inside string array. For that i had created a random value generator method that will generate a random value between 0-9 and update the items accordingly. So create a new class <em>RandomNumberGenerator.java </em>and add the following code.</p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo;

import java.util.Random;

public class RandomNumberGenerator {
	// Random generator method this will generate int nos.
	public int RandomGenerator() {
		Random random = new Random();
		int randomNum = random.nextInt(9);

		return randomNum;
	}

}</pre><p>
<b>11</b>. Finally create two more java files for ListView and RecyclerView fragments naming <em>ListViewLayout_Fragment.java </em>and <em>LinearLayout_Fragment.java </em>respectively. In both these classes we first load data manually and when user scrolls and reached at end we will load new data and update items.</p>
<p><em><strong>ListViewLayout_Fragment .java</strong></em></p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo;

import java.util.ArrayList;

import android.os.Bundle;
import android.os.Handler;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.AbsListView.OnScrollListener;
import android.widget.ListView;
import android.widget.RelativeLayout;
import android.widget.Toast;

import com.loaditemsonscroll_demo.adapter.ListViewAdapter;

public class ListViewLayout_Fragment extends Fragment {
	private static View view;
	private static ListView listView;;
	private static ListViewAdapter adapter;
	private static ArrayList&lt;Data_Model&gt; listArrayList;

	// Variables for scroll listener
	int mVisibleThreshold = 5;
	int mCurrentPage = 0;
	int mPreviousTotal = 0;
	boolean mLoading = true;
	boolean mLastPage = false;
	boolean userScrolled = false;

	// Images int array from drawable folders
	private static final int[] images = { R.drawable.tajmahal,
			R.drawable.hawamahal, R.drawable.golden, R.drawable.shore,
			R.drawable.shivaji, R.drawable.lotus, R.drawable.victoria,
			R.drawable.brihadishwara, R.drawable.mahabodhi };

	// String array for title, location,year
	String[] getTitle, getLocation, getYear;

	private static RelativeLayout bottomLayout;

	public ListViewLayout_Fragment() {
		// Empty constructor is neccessary
	}

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		view = inflater.inflate(R.layout.listview_fragment, container, false);
		init();
		populatRecyclerView();
		implementScrollListener();
		return view;
	}

	// Initialize all variables and views
	private void init() {

		bottomLayout = (RelativeLayout) view
				.findViewById(R.id.loadItemsLayout_listView);
		// Get the title , location and year from string.xml in array form

		getTitle = getActivity().getResources().getStringArray(R.array.title);
		getLocation = getActivity().getResources().getStringArray(
				R.array.location);
		getYear = getActivity().getResources().getStringArray(
				R.array.constructed_year);

		// Find the id of list view
		listView = (ListView) view.findViewById(R.id.listView);

	}

	// Populate the listview with data
	private void populatRecyclerView() {
		listArrayList = new ArrayList&lt;Data_Model&gt;();
		for (int i = 0; i &lt; getTitle.length; i++) {
			// add the items one by one in arraylist
			listArrayList.add(new Data_Model(getTitle[i], getLocation[i],
					getYear[i], images[i]));
		}
		adapter = new ListViewAdapter(getActivity(), listArrayList);

		// set adapter over recyclerview
		listView.setAdapter(adapter);
		adapter.notifyDataSetChanged();

	}

	// Implement scroll listener
	private void implementScrollListener() {
		listView.setOnScrollListener(new OnScrollListener() {

			@Override
			public void onScrollStateChanged(AbsListView arg0, int scrollState) {
				// If scroll state is touch scroll then set userScrolled
				// true
				if (scrollState == OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {
					userScrolled = true;

				}

			}

			@Override
			public void onScroll(AbsListView view, int firstVisibleItem,
					int visibleItemCount, int totalItemCount) {
				// Now check if userScrolled is true and also check if
				// the item is end then update list view and set
				// userScrolled to false
				if (userScrolled
						&amp;&amp; firstVisibleItem + visibleItemCount == totalItemCount) {

					userScrolled = false;
					updateListView();
				}
			}
		});
	}

	// Method for repopulating recycler view
	private void updateListView() {
		// Show Progress Layout
		bottomLayout.setVisibility(View.VISIBLE);

		// Handler to show refresh for a period of time you can use async task
		// while commnunicating serve

		new Handler().postDelayed(new Runnable() {

			@Override
			public void run() {

				// Loop for 3 items
				for (int i = 0; i &lt; 3; i++) {
					int value = new RandomNumberGenerator().RandomGenerator();// Random
																				// value

					// add random data to arraylist
					listArrayList.add(new Data_Model(getTitle[value],
							getLocation[value], getYear[value], images[value]));
				}
				adapter.notifyDataSetChanged();// notify adapter

				// Toast for task completion
				Toast.makeText(getActivity(), "Items Updated.",
						Toast.LENGTH_SHORT).show();

				// After adding new data hide the view.
				bottomLayout.setVisibility(View.GONE);

			}
		}, 5000);
	}

}</pre><p>
<em><strong>LinearLayout_Fragment .java</strong></em></p><pre class="crayon-plain-tag">package com.loaditemsonscroll_demo;

import java.util.ArrayList;

import android.os.Bundle;
import android.os.Handler;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.RelativeLayout;
import android.widget.Toast;
import android.widget.AbsListView.OnScrollListener;

import com.loaditemsonscroll_demo.adapter.ListView_Recycler_Adapter;

public class LinearLayout_Fragment extends Fragment {
	private static View view;
	private static RecyclerView listRecyclerView;
	private static ArrayList&lt;Data_Model&gt; listArrayList;
	private static ListView_Recycler_Adapter adapter;

	// Images array for images
	private static final int[] images = { R.drawable.tajmahal,
			R.drawable.hawamahal, R.drawable.golden, R.drawable.shore,
			R.drawable.shivaji, R.drawable.lotus, R.drawable.victoria,
			R.drawable.brihadishwara, R.drawable.mahabodhi };

	// String array for title, location, year
	String[] getTitle, getLocation, getYear;
	private static RelativeLayout bottomLayout;
	private static LinearLayoutManager mLayoutManager;

	// Variables for scroll listener
	private boolean userScrolled = true;
	int pastVisiblesItems, visibleItemCount, totalItemCount;

	public LinearLayout_Fragment() {

	}

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		view = inflater.inflate(R.layout.linearlayout_fragment, container,
				false);
		init();
		populatRecyclerView();
		implementScrollListener();
		return view;
	}

	// Initialize the view
	private void init() {

		bottomLayout = (RelativeLayout) view
				.findViewById(R.id.loadItemsLayout_recyclerView);
		// Getting the string array from strings.xml

		getTitle = getActivity().getResources().getStringArray(R.array.title);
		getLocation = getActivity().getResources().getStringArray(
				R.array.location);
		getYear = getActivity().getResources().getStringArray(
				R.array.constructed_year);

		mLayoutManager = new LinearLayoutManager(getActivity());
		listRecyclerView = (RecyclerView) view
				.findViewById(R.id.linear_recyclerview);
		listRecyclerView.setHasFixedSize(true);
		listRecyclerView.setLayoutManager(mLayoutManager);// for
															// linear
															// data
															// display
															// we
															// use
															// linear
															// layoutmanager

	}

	// populate the list view by adding data to arraylist
	private void populatRecyclerView() {
		listArrayList = new ArrayList&lt;Data_Model&gt;();
		for (int i = 0; i &lt; getTitle.length; i++) {
			listArrayList.add(new Data_Model(getTitle[i], getLocation[i],
					getYear[i], images[i]));
		}
		adapter = new ListView_Recycler_Adapter(getActivity(), listArrayList);
		listRecyclerView.setAdapter(adapter);// set adapter on recyclerview
		adapter.notifyDataSetChanged();// Notify the adapter

	}

	// Implement scroll listener
	private void implementScrollListener() {
		listRecyclerView
				.addOnScrollListener(new RecyclerView.OnScrollListener() {

					@Override
					public void onScrollStateChanged(RecyclerView recyclerView,
							int newState) {

						super.onScrollStateChanged(recyclerView, newState);

						// If scroll state is touch scroll then set userScrolled
						// true
						if (newState == OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {
							userScrolled = true;

						}

					}

					@Override
					public void onScrolled(RecyclerView recyclerView, int dx,
							int dy) {

						super.onScrolled(recyclerView, dx, dy);
						// Here get the child count, item count and visibleitems
						// from layout manager

						visibleItemCount = mLayoutManager.getChildCount();
						totalItemCount = mLayoutManager.getItemCount();
						pastVisiblesItems = mLayoutManager
								.findFirstVisibleItemPosition();

						// Now check if userScrolled is true and also check if
						// the item is end then update recycler view and set
						// userScrolled to false
						if (userScrolled
								&amp;&amp; (visibleItemCount + pastVisiblesItems) == totalItemCount) {
							userScrolled = false;

							updateRecyclerView();
						}

					}

				});

	}

	// Method for repopulating recycler view
	private void updateRecyclerView() {

		// Show Progress Layout
		bottomLayout.setVisibility(View.VISIBLE);

		// Handler to show refresh for a period of time you can use async task
		// while commnunicating serve

		new Handler().postDelayed(new Runnable() {

			@Override
			public void run() {

				// Loop for 3 items
				for (int i = 0; i &lt; 3; i++) {
					int value = new RandomNumberGenerator().RandomGenerator();// Random
																				// value

					// add random data to arraylist
					listArrayList.add(new Data_Model(getTitle[value],
							getLocation[value], getYear[value], images[value]));
				}
				adapter.notifyDataSetChanged();// notify adapter

				// Toast for task completion
				Toast.makeText(getActivity(), "Items Updated.",
						Toast.LENGTH_SHORT).show();

				// After adding new data hide the view.
				bottomLayout.setVisibility(View.GONE);

			}
		}, 5000);
	}

}</pre><p>
<b>12</b>. Now, you are all done, run your app and you will get the output as shown in video.</p>
<p>Note: For gridview you have to just replace refrence variable of listview with that of gridview because same listener is used for both ListView and GridView.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/LoadItemsOnScroll_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/load-more-items-on-scroll-android/">Load More Items On Scroll Android (Endless Scrolling)</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/load-more-items-on-scroll-android/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">653</post-id>	</item>
		<item>
		<title>Android Read Contacts using Content Provider</title>
		<link>http://www.androhub.com/android-read-contacts-using-content-provider/</link>
		<comments>http://www.androhub.com/android-read-contacts-using-content-provider/#respond</comments>
		<pubDate>Tue, 28 Jul 2015 05:50:00 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Contacts]]></category>
		<category><![CDATA[Android Content Provider]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[android listview]]></category>
		<category><![CDATA[android read contacts]]></category>
		<category><![CDATA[contacts]]></category>
		<category><![CDATA[content provider]]></category>
		<category><![CDATA[content resolver]]></category>
		<category><![CDATA[custom listview]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[read contacts]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=539</guid>
		<description><![CDATA[<p>You can read phone contacts using Content Provider. With the help of this content provider we can communicate with the contacts app and query the URIs  and columns to get contact information and it will return as contact name, all contact numbers, all email addresses, company name, etc. Content providers manage access to a structured set of data. They encapsulate [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-read-contacts-using-content-provider/">Android Read Contacts using Content Provider</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>You can read phone contacts using <a href="http://developer.android.com/intl/ru/guide/topics/providers/content-providers.html" target="_blank">Content Provider</a>. With the help of this content provider we can communicate with the contacts app and query the URIs  and columns to get contact information and it will return as contact name, all contact numbers, all email addresses, company name, etc.</p>
<p>Content providers manage access to a structured set of data. They encapsulate the data, and provide mechanisms for defining data security. Content providers are the standard interface that connects data in one process with code running in another process. A content provider is only required if you need to share data between multiple applications. For example, the contacts data is used by multiple applications and must be stored in a content provider. If you don&#8217;t need to share data amongest multiple applications you can use a database directly via <code><a href="http://androhub.com/android-sqlite-database/" target="_blank">SQLiteDatabase</a></code>.</p>
<p>When you want to access data in a content provider, you use the <code><a href="http://developer.android.com/intl/ru/reference/android/content/ContentResolver.html" target="_blank">ContentResolver</a> </code>object in your application&#8217;s <a href="http://developer.android.com/intl/ru/reference/android/content/Context.html" target="_blank"><code>Context</code> </a>to communicate with the provider as a client. The <a href="http://developer.android.com/intl/ru/reference/android/content/ContentResolver.html" target="_blank"><code>ContentResolver </code></a>object communicates with the provider object, an instance of a class that implements <code><a href="http://developer.android.com/reference/android/content/ContentProvider.html" target="_blank">ContentProvider</a></code>. The provider object receives data requests from clients, performs the requested action, and returns the results.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to read contact details using content provider.</p>
<h3>Video Demo</h3>
<p><iframe  id="_ytid_79674" width="602" height="339" src="https://www.youtube.com/embed/G0qObXv8Tbg?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Now, to read contact details we have to give &#8220;READ_CONTACTS&#8221; this permission in our Manifest file.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.phonecontact_demo"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="19" /&gt;
		
		
    &lt;uses-permission android:name="android.permission.READ_CONTACTS"/&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name="com.phonecontact_demo.MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>3</b>. Create a xml layout naming <em>activity_main.xml</em> that contains one listview that will display the contact details.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" &gt;

    &lt;ListView
        android:id="@+id/contact_listview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" &gt;
    &lt;/ListView&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>4</b>. Now, create a new xml layout naming <em>custom_view.xml</em> for custom listview layout. Since we have to display contact details like name, number, email, image and other details so we are using custom view.</p>
<p>If you are new to custom list view then you can <a href="http://androhub.com/android-listview/" target="_blank">read here</a>.</p><pre class="crayon-plain-tag">&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:padding="5dp" &gt;

    &lt;ImageView
        android:id="@+id/contactImage"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/contactName"
        android:layout_centerHorizontal="true"
        android:contentDescription="@string/image"
        android:padding="5dp"
        android:src="@drawable/ic_launcher" /&gt;

    &lt;TextView
        android:id="@+id/contactName"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:lineSpacingExtra="3dp"
        android:padding="5dp"
        android:textColor="#000000"
        android:textSize="18sp"
        android:textStyle="bold" /&gt;

    &lt;TextView
        android:id="@+id/contactNumber"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/contactImage"
        android:lineSpacingExtra="3dp"
        android:padding="5dp"
        android:textSize="15sp" /&gt;

    &lt;TextView
        android:id="@+id/contactEmail"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/contactNumber"
        android:lineSpacingExtra="3dp"
        android:padding="5dp"
        android:textSize="15sp" /&gt;

    &lt;TextView
        android:id="@+id/contactOtherDetails"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/contactEmail"
        android:lineSpacingExtra="3dp"
        android:padding="5dp"
        android:textSize="15sp" /&gt;

&lt;/RelativeLayout&gt;</pre><p>
<b>5</b>. Now, create a new java class naming <em>Contact_Model.java </em>for getter and setter for contact details.</p><pre class="crayon-plain-tag">package com.phonecontact_demo;

public class Contact_Model {

	// Getter and setter for contacts
	private String contactId, contactName, contactNumber, contactEmail,
			contactPhoto, contactOtherDetails;

	public Contact_Model(String contactId, String contactName,
			String contactNumber, String contactEmail, String contactPhoto,
			String contactOtherDetails) {
		this.contactId = contactId;
		this.contactName = contactName;
		this.contactEmail = contactEmail;
		this.contactNumber = contactNumber;
		this.contactPhoto = contactPhoto;
		this.contactOtherDetails = contactOtherDetails;
	}

	public String getContactID() {
		return contactId;
	}

	public String getContactName() {
		return contactName;
	}

	public String getContactEmail() {
		return contactEmail;
	}

	public String getContactNumber() {
		return contactNumber;
	}

	public String getContactPhoto() {
		return contactPhoto;
	}

	public String getContactOtherDetails() {
		return contactOtherDetails;
	}
}</pre><p>
<b>6</b>. Now, create a custom adapter class naming <em>Contact_Adapter.java </em>for inflating a custom layout over listview.</p><pre class="crayon-plain-tag">package com.phonecontact_demo;

import java.util.ArrayList;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class Contact_Adapter extends BaseAdapter {
	private Context context;
	private ArrayList&lt;Contact_Model&gt; arrayList;

	public Contact_Adapter(Context context, ArrayList&lt;Contact_Model&gt; arrayList) {
		this.context = context;
		this.arrayList = arrayList;
	}

	@Override
	public int getCount() {

		return arrayList.size();
	}

	@Override
	public Contact_Model getItem(int position) {

		return arrayList.get(position);
	}

	@Override
	public long getItemId(int position) {

		return position;
	}

	@Override
	public View getView(int position, View convertView, ViewGroup parent) {
		LayoutInflater inflater = (LayoutInflater) context
				.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
		Contact_Model model = arrayList.get(position);
		ViewHodler holder;
		if (convertView == null) {
			convertView = inflater.inflate(R.layout.custom_view, parent, false);
			holder = new ViewHodler();
			holder.contactImage = (ImageView) convertView
					.findViewById(R.id.contactImage);
			holder.contactName = (TextView) convertView
					.findViewById(R.id.contactName);
			holder.contactEmail = (TextView) convertView
					.findViewById(R.id.contactEmail);
			holder.contactNumber = (TextView) convertView
					.findViewById(R.id.contactNumber);
			holder.contactOtherDetails = (TextView) convertView
					.findViewById(R.id.contactOtherDetails);

			convertView.setTag(holder);
		} else {
			holder = (ViewHodler) convertView.getTag();
		}

		// Set items to all view
		if (!model.getContactName().equals("")
				&amp;&amp; model.getContactName() != null) {
			holder.contactName.setText(model.getContactName());
		} else {
			holder.contactName.setText("No Name");
		}
		if (!model.getContactEmail().equals("")
				&amp;&amp; model.getContactEmail() != null) {
			holder.contactEmail.setText("EMAIL ID - n"
					+ model.getContactEmail());
		} else {
			holder.contactEmail.setText("EMAIL ID - n" + "No EmailId");
		}

		if (!model.getContactNumber().equals("")
				&amp;&amp; model.getContactNumber() != null) {
			holder.contactNumber.setText("CONTACT NUMBER - n"
					+ model.getContactNumber());
		} else {
			holder.contactNumber.setText("CONTACT NUMBER - n"
					+ "No Contact Number");
		}

		if (!model.getContactOtherDetails().equals("")
				&amp;&amp; model.getContactOtherDetails() != null) {
			holder.contactOtherDetails.setText("OTHER DETAILS - n"
					+ model.getContactOtherDetails());
		} else {
			holder.contactOtherDetails.setText("OTHER DETAILS - n"
					+ "Other details are empty");
		}

		// Bitmap for imageview
		Bitmap image = null;
		if (!model.getContactPhoto().equals("")
				&amp;&amp; model.getContactPhoto() != null) {
			image = BitmapFactory.decodeFile(model.getContactPhoto());// decode
																		// the
																		// image
																		// into
																		// bitmap
			if (image != null)
				holder.contactImage.setImageBitmap(image);// Set image if bitmap
															// is not null
			else {
				image = BitmapFactory.decodeResource(context.getResources(),
						R.drawable.androhub_logo);// if bitmap is null then set
													// default bitmap image to
													// contact image
				holder.contactImage.setImageBitmap(image);
			}
		} else {
			image = BitmapFactory.decodeResource(context.getResources(),
					R.drawable.androhub_logo);
			holder.contactImage.setImageBitmap(image);
		}
		return convertView;
	}

	// View holder to hold views
	private class ViewHodler {
		ImageView contactImage;
		TextView contactName, contactNumber, contactEmail, contactOtherDetails;
	}
}</pre><p>
<b>7</b>. To read contact details we have to know certain things mentioned below :</p>
<ul>
<li>URI that we require in querying.</li>
</ul>
<pre class="crayon-plain-tag">Uri uri = ContactsContract.Contacts.CONTENT_URI;</pre>
<ul>
<li> Fetching contact details into cursor in ascending order. using uri</li>
</ul>
<pre class="crayon-plain-tag">Cursor contactsCursor = getContentResolver().query(uri, null, null,
				null, ContactsContract.Contacts.DISPLAY_NAME + " ASC ");</pre>
<ul>
<li>Now we will use this method to fetch data and stored into arraylist.</li>
</ul>
<pre class="crayon-plain-tag">private ArrayList&lt;Contact_Model&gt; readContacts() {
		ArrayList&lt;Contact_Model&gt; contactList = new ArrayList&lt;Contact_Model&gt;();

		Uri uri = ContactsContract.Contacts.CONTENT_URI; // Contact URI
		Cursor contactsCursor = getContentResolver().query(uri, null, null,
				null, ContactsContract.Contacts.DISPLAY_NAME + " ASC "); // Return
																			// all
																			// contacts
																			// name
																			// containing
																			// in
																			// URI
																			// in
																			// ascending
																			// order
		// Move cursor at starting
		if (contactsCursor.moveToFirst()) {
			do {
				long contctId = contactsCursor.getLong(contactsCursor
						.getColumnIndex("_ID")); // Get contact ID
				Uri dataUri = ContactsContract.Data.CONTENT_URI; // URI to get
																	// data of
																	// contacts
				Cursor dataCursor = getContentResolver().query(dataUri, null,
						ContactsContract.Data.CONTACT_ID + " = " + contctId,
						null, null);// Retrun data cusror represntative to
									// contact ID

				// Strings to get all details
				String displayName = "";
				String nickName = "";
				String homePhone = "";
				String mobilePhone = "";
				String workPhone = "";
				String photoPath = "" + R.drawable.ic_launcher; // Photo path
				byte[] photoByte = null;// Byte to get photo since it will come
										// in BLOB
				String homeEmail = "";
				String workEmail = "";
				String companyName = "";
				String title = "";

				// This strings stores all contact numbers, email and other
				// details like nick name, company etc.
				String contactNumbers = "";
				String contactEmailAddresses = "";
				String contactOtherDetails = "";

				// Now start the cusrsor
				if (dataCursor.moveToFirst()) {
					displayName = dataCursor
							.getString(dataCursor
									.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));// get
																								// the
																								// contact
																								// name
					do {
						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Nickname.CONTENT_ITEM_TYPE)) {
							nickName = dataCursor.getString(dataCursor
									.getColumnIndex("data1")); // Get Nick Name
							contactOtherDetails += "NickName : " + nickName
									+ "n";// Add the nick name to string

						}

						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)) {

							// In this get All contact numbers like home,
							// mobile, work, etc and add them to numbers string
							switch (dataCursor.getInt(dataCursor
									.getColumnIndex("data2"))) {
							case ContactsContract.CommonDataKinds.Phone.TYPE_HOME:
								homePhone = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactNumbers += "Home Phone : " + homePhone
										+ "n";
								break;

							case ContactsContract.CommonDataKinds.Phone.TYPE_WORK:
								workPhone = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactNumbers += "Work Phone : " + workPhone
										+ "n";
								break;

							case ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE:
								mobilePhone = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactNumbers += "Mobile Phone : "
										+ mobilePhone + "n";
								break;

							}
						}
						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)) {

							// In this get all Emails like home, work etc and
							// add them to email string
							switch (dataCursor.getInt(dataCursor
									.getColumnIndex("data2"))) {
							case ContactsContract.CommonDataKinds.Email.TYPE_HOME:
								homeEmail = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactEmailAddresses += "Home Email : "
										+ homeEmail + "n";
								break;
							case ContactsContract.CommonDataKinds.Email.TYPE_WORK:
								workEmail = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactEmailAddresses += "Work Email : "
										+ workEmail + "n";
								break;

							}
						}

						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Organization.CONTENT_ITEM_TYPE)) {
							companyName = dataCursor.getString(dataCursor
									.getColumnIndex("data1"));// get company
																// name
							contactOtherDetails += "Coompany Name : "
									+ companyName + "n";
							title = dataCursor.getString(dataCursor
									.getColumnIndex("data4"));// get Company
																// title
							contactOtherDetails += "Title : " + title + "n";

						}

						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE)) {
							photoByte = dataCursor.getBlob(dataCursor
									.getColumnIndex("data15")); // get photo in
																// byte

							if (photoByte != null) {

								// Now make a cache folder in file manager to
								// make cache of contacts images and save them
								// in .png
								Bitmap bitmap = BitmapFactory.decodeByteArray(
										photoByte, 0, photoByte.length);
								File cacheDirectory = getBaseContext()
										.getCacheDir();
								File tmp = new File(cacheDirectory.getPath()
										+ "/_androhub" + contctId + ".png");
								try {
									FileOutputStream fileOutputStream = new FileOutputStream(
											tmp);
									bitmap.compress(Bitmap.CompressFormat.PNG,
											100, fileOutputStream);
									fileOutputStream.flush();
									fileOutputStream.close();
								} catch (Exception e) {
									// TODO: handle exception
									e.printStackTrace();
								}
								photoPath = tmp.getPath();// finally get the
															// saved path of
															// image
							}

						}

					} while (dataCursor.moveToNext()); // Now move to next
														// cursor

					contactList.add(new Contact_Model(Long.toString(contctId),
							displayName, contactNumbers, contactEmailAddresses,
							photoPath, contactOtherDetails));// Finally add
																// items to
																// array list
				}

			} while (contactsCursor.moveToNext());
		}
		return contactList;
	}</pre>
<b>8</b>. Finally open your <em>MainActivty.java </em>and add the following code. In this class we fetch contact details using AsyncTask and display over listview.<br />
<pre class="crayon-plain-tag">package com.phonecontact_demo;

import java.io.File;
import java.io.FileOutputStream;
import java.util.ArrayList;
import java.util.Random;

import android.app.ProgressDialog;
import android.database.Cursor;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.support.v7.app.AppCompatActivity;
import android.view.Menu;
import android.widget.ListView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {
	private static ListView contact_listview;
	private static ArrayList&lt;Contact_Model&gt; arrayList;
	private static Contact_Adapter adapter;

	private static ProgressDialog pd;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		contact_listview = (ListView) findViewById(R.id.contact_listview);

		new LoadContacts().execute();// Execute the async task

	}

	// Async task to load contacts
	private class LoadContacts extends AsyncTask&lt;Void, Void, Void&gt; {

		@Override
		protected Void doInBackground(Void... params) {
			arrayList = readContacts();// Get contacts array list from this
										// method
			return null;
		}

		@Override
		protected void onPostExecute(Void result) {

			super.onPostExecute(result);

			// If array list is not null and is contains value
			if (arrayList != null &amp;&amp; arrayList.size() &gt; 0) {

				// then set total contacts to subtitle
				getSupportActionBar().setSubtitle(
						arrayList.size() + " Contacts");
				adapter = null;
				if (adapter == null) {
					adapter = new Contact_Adapter(MainActivity.this, arrayList);
					contact_listview.setAdapter(adapter);// set adapter
				}
				adapter.notifyDataSetChanged();
			} else {

				// If adapter is null then show toast
				Toast.makeText(MainActivity.this, "There are no contacts.",
						Toast.LENGTH_LONG).show();
			}

			// Hide dialog if showing
			if (pd.isShowing())
				pd.dismiss();

		}

		@Override
		protected void onPreExecute() {

			super.onPreExecute();
			// Show Dialog
			pd = ProgressDialog.show(MainActivity.this, "Loading Contacts",
					"Please Wait...");
		}

	}

	// Method that return all contact details in array format
	private ArrayList&lt;Contact_Model&gt; readContacts() {
		ArrayList&lt;Contact_Model&gt; contactList = new ArrayList&lt;Contact_Model&gt;();

		Uri uri = ContactsContract.Contacts.CONTENT_URI; // Contact URI
		Cursor contactsCursor = getContentResolver().query(uri, null, null,
				null, ContactsContract.Contacts.DISPLAY_NAME + " ASC "); // Return
																			// all
																			// contacts
																			// name
																			// containing
																			// in
																			// URI
																			// in
																			// ascending
																			// order
		// Move cursor at starting
		if (contactsCursor.moveToFirst()) {
			do {
				long contctId = contactsCursor.getLong(contactsCursor
						.getColumnIndex("_ID")); // Get contact ID
				Uri dataUri = ContactsContract.Data.CONTENT_URI; // URI to get
																	// data of
																	// contacts
				Cursor dataCursor = getContentResolver().query(dataUri, null,
						ContactsContract.Data.CONTACT_ID + " = " + contctId,
						null, null);// Retrun data cusror represntative to
									// contact ID

				// Strings to get all details
				String displayName = "";
				String nickName = "";
				String homePhone = "";
				String mobilePhone = "";
				String workPhone = "";
				String photoPath = "" + R.drawable.ic_launcher; // Photo path
				byte[] photoByte = null;// Byte to get photo since it will come
										// in BLOB
				String homeEmail = "";
				String workEmail = "";
				String companyName = "";
				String title = "";

				// This strings stores all contact numbers, email and other
				// details like nick name, company etc.
				String contactNumbers = "";
				String contactEmailAddresses = "";
				String contactOtherDetails = "";

				// Now start the cusrsor
				if (dataCursor.moveToFirst()) {
					displayName = dataCursor
							.getString(dataCursor
									.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));// get
																								// the
																								// contact
																								// name
					do {
						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Nickname.CONTENT_ITEM_TYPE)) {
							nickName = dataCursor.getString(dataCursor
									.getColumnIndex("data1")); // Get Nick Name
							contactOtherDetails += "NickName : " + nickName
									+ "n";// Add the nick name to string

						}

						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)) {

							// In this get All contact numbers like home,
							// mobile, work, etc and add them to numbers string
							switch (dataCursor.getInt(dataCursor
									.getColumnIndex("data2"))) {
							case ContactsContract.CommonDataKinds.Phone.TYPE_HOME:
								homePhone = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactNumbers += "Home Phone : " + homePhone
										+ "n";
								break;

							case ContactsContract.CommonDataKinds.Phone.TYPE_WORK:
								workPhone = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactNumbers += "Work Phone : " + workPhone
										+ "n";
								break;

							case ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE:
								mobilePhone = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactNumbers += "Mobile Phone : "
										+ mobilePhone + "n";
								break;

							}
						}
						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)) {

							// In this get all Emails like home, work etc and
							// add them to email string
							switch (dataCursor.getInt(dataCursor
									.getColumnIndex("data2"))) {
							case ContactsContract.CommonDataKinds.Email.TYPE_HOME:
								homeEmail = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactEmailAddresses += "Home Email : "
										+ homeEmail + "n";
								break;
							case ContactsContract.CommonDataKinds.Email.TYPE_WORK:
								workEmail = dataCursor.getString(dataCursor
										.getColumnIndex("data1"));
								contactEmailAddresses += "Work Email : "
										+ workEmail + "n";
								break;

							}
						}

						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Organization.CONTENT_ITEM_TYPE)) {
							companyName = dataCursor.getString(dataCursor
									.getColumnIndex("data1"));// get company
																// name
							contactOtherDetails += "Coompany Name : "
									+ companyName + "n";
							title = dataCursor.getString(dataCursor
									.getColumnIndex("data4"));// get Company
																// title
							contactOtherDetails += "Title : " + title + "n";

						}

						if (dataCursor
								.getString(
										dataCursor.getColumnIndex("mimetype"))
								.equals(ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE)) {
							photoByte = dataCursor.getBlob(dataCursor
									.getColumnIndex("data15")); // get photo in
																// byte

							if (photoByte != null) {

								// Now make a cache folder in file manager to
								// make cache of contacts images and save them
								// in .png
								Bitmap bitmap = BitmapFactory.decodeByteArray(
										photoByte, 0, photoByte.length);
								File cacheDirectory = getBaseContext()
										.getCacheDir();
								File tmp = new File(cacheDirectory.getPath()
										+ "/_androhub" + contctId + ".png");
								try {
									FileOutputStream fileOutputStream = new FileOutputStream(
											tmp);
									bitmap.compress(Bitmap.CompressFormat.PNG,
											100, fileOutputStream);
									fileOutputStream.flush();
									fileOutputStream.close();
								} catch (Exception e) {
									// TODO: handle exception
									e.printStackTrace();
								}
								photoPath = tmp.getPath();// finally get the
															// saved path of
															// image
							}

						}

					} while (dataCursor.moveToNext()); // Now move to next
														// cursor

					contactList.add(new Contact_Model(Long.toString(contctId),
							displayName, contactNumbers, contactEmailAddresses,
							photoPath, contactOtherDetails));// Finally add
																// items to
																// array list
				}

			} while (contactsCursor.moveToNext());
		}
		return contactList;
	}

}</pre>
<b>9</b>. Now, you are all done, run your app and you will get the output as shown in video.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/PhoneContact_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-read-contacts-using-content-provider/">Android Read Contacts using Content Provider</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-read-contacts-using-content-provider/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">539</post-id>	</item>
		<item>
		<title>Android Bluetooth</title>
		<link>http://www.androhub.com/android-bluetooth/</link>
		<comments>http://www.androhub.com/android-bluetooth/#respond</comments>
		<pubDate>Thu, 23 Jul 2015 09:10:11 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Bluetooth]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[android bluetooth]]></category>
		<category><![CDATA[bluetooth]]></category>
		<category><![CDATA[custom listview]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[pair devices]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=513</guid>
		<description><![CDATA[<p>Bluetooth is a way to send or receive data between two different devices. Android platform includes support for the Bluetooth framework that allows a device to wirelessly exchange data with other Bluetooth devices. Android provides Bluetooth API to perform these different operations. Scan for other Bluetooth devices Get a list of paired devices Connect to [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-bluetooth/">Android Bluetooth</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p><a href="http://developer.android.com/intl/ru/guide/topics/connectivity/bluetooth.html" target="_blank">Bluetooth </a>is a way to send or receive data between two different devices. Android platform includes support for the Bluetooth framework that allows a device to wirelessly exchange data with other Bluetooth devices.</p>
<p>Android provides Bluetooth API to perform these different operations.</p>
<ul class="list">
<li>Scan for other Bluetooth devices</li>
<li>Get a list of paired devices</li>
<li>Connect to other devices through service discovery</li>
</ul>
<p>Android provides <strong>BluetoothAdapter</strong> class to communicate with Bluetooth. Create an object of this calling by calling the static method <strong>getDefaultAdapter()</strong>. Its syntax is given below &#8211;</p><pre class="crayon-plain-tag">private BluetoothAdapter bluetoothAdapter;
bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();</pre><p>
In order to enable the Bluetooth of your device, call the intent with the following Bluetooth constant <strong>ACTION_REQUEST_ENABLE</strong>. Its syntax is &#8211;</p><pre class="crayon-plain-tag">Intent intent= new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
startActivityForResult(intent, 111);</pre><p>
Apart from this constant, there are other constants provided the API , that supports different tasks. They are listed below &#8211;</p>

<table id="tablepress-26" class="tablepress tablepress-id-26">
<thead>
<tr class="row-1 odd">
	<th class="column-1">Constant</th><th class="column-2">Description</th>
</tr>
</thead>
<tbody class="row-hover">
<tr class="row-2 even">
	<td class="column-1">ACTION_REQUEST_DISCOVERABLE</td><td class="column-2">This constant is used for turn on discovering of bluetooth.</td>
</tr>
<tr class="row-3 odd">
	<td class="column-1">ACTION_STATE_CHANGED</td><td class="column-2">This constant will notify that Bluetooth state has been changed.</td>
</tr>
<tr class="row-4 even">
	<td class="column-1">ACTION_FOUND</td><td class="column-2">This constant is used for receiving information about each device that is discovered.</td>
</tr>
</tbody>
</table>
<!-- #tablepress-26 from cache -->
<p>Once you enable the Bluetooth , you can get a list of paired devices by calling <strong>getBondedDevices()</strong> method. It returns a set of Bluetooth devices. Its syntax is &#8211;</p><pre class="crayon-plain-tag">private Set&lt;BluetoothDevice&gt; pairedDevices;
pairedDevices = bluetoothAdapter.getBondedDevices();</pre><p>
Apart form the paired Devices , there are other methods in the API that gives more control over Bluetooth. They are listed below &#8211;</p>

<table id="tablepress-27" class="tablepress tablepress-id-27">
<thead>
<tr class="row-1 odd">
	<th class="column-1">Method</th><th class="column-2">Description</th>
</tr>
</thead>
<tbody class="row-hover">
<tr class="row-2 even">
	<td class="column-1">enable()</td><td class="column-2">This method enables the adapter if not enabled.</td>
</tr>
<tr class="row-3 odd">
	<td class="column-1">isEnabled()</td><td class="column-2">This method returns true if adapter is enabled.</td>
</tr>
<tr class="row-4 even">
	<td class="column-1">disable()</td><td class="column-2">This method disables the adapter.</td>
</tr>
<tr class="row-5 odd">
	<td class="column-1">getName()</td><td class="column-2">This method returns the name of the Bluetooth adapter.</td>
</tr>
<tr class="row-6 even">
	<td class="column-1">setName(String name)</td><td class="column-2">This method changes the Bluetooth name.</td>
</tr>
<tr class="row-7 odd">
	<td class="column-1">getState()</td><td class="column-2">This method returns the current state of the Bluetooth Adapter.</td>
</tr>
<tr class="row-8 even">
	<td class="column-1">startDiscovery()</td><td class="column-2">This method starts the discovery process of the Bluetooth for 120 seconds.</td>
</tr>
</tbody>
</table>
<!-- #tablepress-27 from cache -->
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to Enable, Disable, Enable Discovery, search nearby Bluetooth devices and Pair with other Bluetooth devices.</p>
<h3>Video Demo</h3>
<p><iframe  id="_ytid_50846" width="602" height="339" src="https://www.youtube.com/embed/_1_qtQPZzGY?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values. This are some strings that i am going to use in this tutorial.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;Bluetooth Demo&lt;/string&gt;
    &lt;string name="turn_on"&gt;Turn On&lt;/string&gt;
    &lt;string name="turn_off"&gt;Turn Off&lt;/string&gt;
    &lt;string name="make_visible"&gt;Visible&lt;/string&gt;
    &lt;string name="list_paired_devices"&gt;List Paired Devices&lt;/string&gt;
    &lt;string name="search_new_devices"&gt;Search New Devices&lt;/string&gt;
    &lt;string name="cancel"&gt;Cancel&lt;/string&gt;

&lt;/resources&gt;</pre><p>
<b>3</b>. To work on Bluetooth we have to give certain permission in Manifest file and add this line to your manifest.</p><pre class="crayon-plain-tag">&lt;!-- Uses permission required to use bluetooth --&gt;
    &lt;uses-permission android:name="android.permission.BLUETOOTH" /&gt;
    &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN" /&gt;</pre><p>
</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.bluetooth_demo"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="22" /&gt;

    &lt;!-- Uses permission required to use bluetooth --&gt;
    &lt;uses-permission android:name="android.permission.BLUETOOTH" /&gt;
    &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name="com.bluetooth_demo.MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>4</b>. Now, create a xml layout naming <em>activity_main.xml. </em>In this layout i put some buttons to work on Bluetooth and a ListView to show paired and new searched devices.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    android:padding="5dp" &gt;

    &lt;TextView
        android:id="@+id/bluetooth_status"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:padding="10dp"
        android:textColor="#000000"
        android:textSize="17sp" /&gt;

    &lt;LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="5dp"
        android:orientation="horizontal" &gt;

        &lt;Button
            android:id="@+id/turnOn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/turn_on" /&gt;

        &lt;Button
            android:id="@+id/turnOff"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/turn_off" /&gt;

        &lt;Button
            android:id="@+id/make_visible"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/make_visible" /&gt;
    &lt;/LinearLayout&gt;

    &lt;LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dp"
        android:orientation="horizontal" &gt;

        &lt;Button
            android:id="@+id/show_paired_devices"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/list_paired_devices" /&gt;

        &lt;Button
            android:id="@+id/search_new_devices"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/search_new_devices" /&gt;
    &lt;/LinearLayout&gt;

    &lt;ListView
        android:id="@+id/list_devices"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" &gt;
    &lt;/ListView&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>5</b>. We will display Bluetooth device name with device MAC address. So I am using custom listview for that. This is <em>customview.xml i.e</em> custom layout.</p>
<p>If you are new to Custom ListView then refer this <a href="http://androhub.com/android-listview/" target="_blank">tutorial</a>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="4dp"
    android:layout_marginTop="4dp" &gt;

    &lt;TextView
        android:id="@+id/devices_name"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:padding="10dp"
        android:textColor="#000000"
        android:textSize="15sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>6</b>. For pairing two Bluetooth devices I am using this Thread class. This class can be used to pair any bluetooth devices. Here <em>BluetoothSocket </em>is used to pair devices by <em>connect() </em>method. Before connecting we have to unregister all broadcast receivers and bluetooth discovery.</p><pre class="crayon-plain-tag">// This thread will do task for pairing devices
	private class ConnectThread extends Thread {
		private BluetoothSocket mmSocket; // Bluetooth Socket
		private final BluetoothDevice mmDevice;
		private final UUID MY_UUID = UUID
				.fromString("00001101-0000-1000-8000-00805f9b34fb"); // This is
																		// Unique
																		// Id
																		// for
																		// your
																		// device

		public ConnectThread(BluetoothDevice device) {
			BluetoothSocket tmp = null;
			mmDevice = device;
			try {
				// This methods are used to make pairing
				tmp = device.createRfcommSocketToServiceRecord(MY_UUID);

				Method m = device.getClass().getMethod("createRfcommSocket",
						new Class[] { int.class });
				tmp = (BluetoothSocket) m.invoke(device, 1);

			} catch (Exception e) {
				e.printStackTrace();

			}
			mmSocket = tmp;
		}

		public void run() {

			// Cancelling discovery is neccessary
			bluetooth_adapter.cancelDiscovery();// If bluetooth adapter is
												// already discovering then
												// cancel it
			try {

				// Also unregister receiver
				unregisterReceiver(reciever);
			} catch (IllegalArgumentException e) {
				e.printStackTrace();
			}
			try {
				mmSocket.connect();// Pair device
				Log.e(TAG, "Connection Establish"); // Via this Log you can
													// check the connection
													// status

			} catch (IOException connectException) {
				connectException.printStackTrace();
				try {
					mmSocket.close(); // If exception occurs close Socket
					Log.e(TAG, "Connection Failed");
				} catch (IOException closeException) {
					closeException.printStackTrace();
				}
				return;
			}

		}

		// On cancel display Log and close socket
		public void cancel() {
			try {
				Log.e(TAG, "Connection Failed on cancel");
				mmSocket.close();
			} catch (IOException e) {
			}
		}
	}</pre><p>
<b>7</b>. Finally come to your <em>MainActivity.java </em> and add the following code. In this java class i used above discussed methods of Bluetooth to work over Bluetooth and a Thread class to pair devices.</p><pre class="crayon-plain-tag">package com.bluetooth_demo;

import java.io.IOException;
import java.lang.reflect.Method;
import java.util.ArrayList;
import java.util.Set;
import java.util.UUID;

import android.bluetooth.BluetoothAdapter;
import android.bluetooth.BluetoothDevice;
import android.bluetooth.BluetoothSocket;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.Bundle;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity implements OnClickListener,
		OnItemClickListener {
	private static final int Request_enable_Bt = 1; // Varaible for Activtiy
													// result method

	private static Button turn_on, turn_off, paired_devices, search_devices,
			make_visible;
	private static TextView bluetooth_status;
	private static ListView list_devices;
	private static ArrayList&lt;BluetoothDevice&gt; bluetoothDevice_List;
	private static CustomAdapter BtArrayAdapter;

	private static final String TAG = MainActivity.class.getSimpleName();// TAG
																			// for
																			// logs

	// Bluetooth Variables
	private static BluetoothAdapter bluetooth_adapter;
	private static Set&lt;BluetoothDevice&gt; pairedDevices;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		init();
		checkBluetoothAdapter();// Check Bluetooth presence

	}

	// Initialize the views
	private void init() {

		turn_on = (Button) findViewById(R.id.turnOn);
		turn_off = (Button) findViewById(R.id.turnOff);
		paired_devices = (Button) findViewById(R.id.show_paired_devices);
		search_devices = (Button) findViewById(R.id.search_new_devices);
		make_visible = (Button) findViewById(R.id.make_visible);
		list_devices = (ListView) findViewById(R.id.list_devices);
		bluetooth_status = (TextView) findViewById(R.id.bluetooth_status);

	}

	// Check if bluetooth is present or not
	private void checkBluetoothAdapter() {
		bluetooth_adapter = BluetoothAdapter.getDefaultAdapter();
		if (bluetooth_adapter == null) {

			// If bluetooth doesn't present disable all buttons and display a
			// toast
			disableButtons();
			Toast.makeText(getApplicationContext(),
					"Your device does not support Bluetooth.",
					Toast.LENGTH_LONG).show();

		} else {
			// If bluetooth is there then check if it is ON or not for status
			if (bluetooth_adapter.isEnabled()) {
				bluetooth_status.setText("Status: Bluetooth Enabled.");
			} else {
				bluetooth_status.setText("Status: Bluetooth Disabled.");
			}

			setListeners();// Set listeners

		}
	}

	// Disable all buttons
	private void disableButtons() {
		turn_on.setEnabled(false);
		turn_off.setEnabled(false);
		paired_devices.setEnabled(false);
		search_devices.setEnabled(false);
		make_visible.setEnabled(false);
		bluetooth_status.setText("Status: - Bluetooth Not supported");
	}

	// Set click listeners
	private void setListeners() {
		turn_on.setOnClickListener(this);
		turn_off.setOnClickListener(this);
		make_visible.setOnClickListener(this);
		paired_devices.setOnClickListener(this);
		search_devices.setOnClickListener(this);
		list_devices.setOnItemClickListener(this);
	}

	// On button clicks call there representative methods
	@Override
	public void onClick(View v) {
		switch (v.getId()) {
		case R.id.turnOn:
			turnOn();
			break;
		case R.id.turnOff:
			turnOff();
			break;

		case R.id.make_visible:
			makeBluetoothVisible();
			break;

		case R.id.show_paired_devices:
			showPairedDevices();
			break;

		case R.id.search_new_devices:
			searchNewDevices();
			break;

		}

	}

	// Turn bluetooth ON
	private void turnOn() {
		boolean isBluetoothEnabled = isBluetoothEnabled();// Bluetooth enabled
															// or disabled
		if (!isBluetoothEnabled) {
			// If disabled Switch On bluetooth
			Intent in = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
			startActivityForResult(in, Request_enable_Bt);

		} else {

			// If it is already On then display a toast
			Toast.makeText(getApplicationContext(), "Bluetooth is already on",
					Toast.LENGTH_SHORT).show();
		}
	}

	@Override
	protected void onActivityResult(int requestCode, int resultCode, Intent data) {
		// On Activity result check the response code with send code
		if (requestCode == Request_enable_Bt) {

			// If bluetooth enabled/disabled then change status
			if (bluetooth_adapter.isEnabled()) {
				Toast.makeText(getApplicationContext(), "Bluetooth turned on",
						Toast.LENGTH_SHORT).show();
				bluetooth_status.setText("Status: Bluetooth Enabled.");
			} else {
				bluetooth_status.setText("Status: Bluetooth Disabled.");
				Toast.makeText(getApplicationContext(),
						"Bluetooth enabling cancelled.", Toast.LENGTH_SHORT)
						.show();

			}
		}
		super.onActivityResult(requestCode, resultCode, data);
	}

	// Show paired devices
	private void showPairedDevices() {
		boolean isBluetoothEnabled = isBluetoothEnabled();// Before shwoing
															// devices check if
															// bluetooth is on
															// or off
		if (isBluetoothEnabled) {
			pairedDevices = bluetooth_adapter.getBondedDevices();// Get bonded
																	// devices
																	// via this
																	// method
			bluetoothDevice_List = new ArrayList&lt;BluetoothDevice&gt;();
			for (BluetoothDevice device : pairedDevices)
				bluetoothDevice_List.add(device);// Add bonded devices to
													// arrayList

			BtArrayAdapter = new CustomAdapter(MainActivity.this,
					R.layout.customview, bluetoothDevice_List);// set adapter
			list_devices.setAdapter(BtArrayAdapter);// Set adapter over listview
			BtArrayAdapter.notifyDataSetChanged();// notify adapter

		}
	}

	// Search new Bluetooth Devices
	private void searchNewDevices() {
		boolean isBluetoothEnabled = isBluetoothEnabled();// If bluetooth is
															// enabled then
															// proceed further
		if (isBluetoothEnabled) {
			if (bluetooth_adapter.isDiscovering()) {// Check if bluetooth
													// adapter is already
													// discovering or not
				bluetooth_adapter.cancelDiscovery();// If already discovering
													// then cancel discovery
				search_devices.setText(R.string.search_new_devices);// Change
																	// button
																	// text

			} else {
				search_devices.setText(R.string.cancel);// If not discovering
														// then change button
														// text

				bluetooth_adapter.startDiscovery();// and start discovering
													// devices
				registerReceiver(reciever, new IntentFilter(
						BluetoothDevice.ACTION_FOUND));// Register broadcast
														// receiver for New
														// Device found
			}
		}
	}

	// Broadcast Receiver for New Device Found
	final BroadcastReceiver reciever = new BroadcastReceiver() {

		@Override
		public void onReceive(Context context, Intent intent) {

			String action = intent.getAction();// Get Sent Action
			if (BluetoothDevice.ACTION_FOUND.equals(action)) {// Check if sent
																// action is
																// equal to
																// device action
				BluetoothDevice device = intent
						.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);// Get
																			// new
																			// Device

				// add the name and the MAC address of the object to the
				// arrayAdapter
				// If it's already paired, skip it, because it's been listed
				// already
				if (device.getBondState() != BluetoothDevice.BOND_BONDED) {
					bluetoothDevice_List = new ArrayList&lt;BluetoothDevice&gt;();
					bluetoothDevice_List.add(device);

					BtArrayAdapter = new CustomAdapter(MainActivity.this,
							R.layout.customview, bluetoothDevice_List);
					list_devices.setAdapter(BtArrayAdapter);
					BtArrayAdapter.notifyDataSetChanged();
					Toast.makeText(MainActivity.this, "Device found.",
							Toast.LENGTH_SHORT).show();
				} else {
					Toast.makeText(MainActivity.this, "No Devices found.",
							Toast.LENGTH_SHORT).show();
				}

				search_devices.setText(R.string.search_new_devices);// Change
																	// button
																	// text
																	// after
																	// searching
																	// devices

			}
			// Other Actions of Bluetooth devices
			else if (BluetoothDevice.ACTION_ACL_CONNECTED.equals(action)) {

				// Device is now connected
			} else if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED
					.equals(action)) {
				// Done searching

			} else if (BluetoothDevice.ACTION_ACL_DISCONNECT_REQUESTED
					.equals(action)) {
				// Device is about to disconnect

			} else if (BluetoothDevice.ACTION_ACL_DISCONNECTED.equals(action)) {
				// Device has disconnected

			}

		}
	};

	// Make device discoverable
	private void makeBluetoothVisible() {
		boolean isBluetoothEnabled = isBluetoothEnabled();
		if (isBluetoothEnabled) {
			Intent in = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);
			in.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);// Make
																			// device
																			// discoverable
																			// for
																			// 300sec
			startActivity(in);
		}
	}

	private void turnOff() {
		boolean isBluetoothEnabled = isBluetoothEnabled();
		if (isBluetoothEnabled) {
			bluetooth_adapter.disable(); // Switch off bluetooth
			bluetooth_status.setText("Status: Bluetooth Disabled."); // Change
																		// status
																		// text
			Toast.makeText(getApplicationContext(), "Bluetooth turned off",
					Toast.LENGTH_SHORT).show();
		}
	}

	// Method that return boolean value about device enabled or disabled
	private boolean isBluetoothEnabled() {
		if (!bluetooth_adapter.isEnabled()) {
			Toast.makeText(MainActivity.this,
					"Bluetooth is disabled. Please turn on first.",
					Toast.LENGTH_SHORT).show();
			return false; // if device is disabled
		}
		return true;// If device is enabled
	}

	// On listview item clicked
	@Override
	public void onItemClick(AdapterView&lt;&gt; parent, View view, int position,
			long id) {
		boolean isBluetoothEnabled = isBluetoothEnabled();// Before doing
															// anything check if
															// bluetooth is on
															// or off
		if (isBluetoothEnabled) {// If bluetooth ON
			// then check if selected device is already paired or not
			if (bluetoothDevice_List.get(position).getBondState() != BluetoothDevice.BOND_BONDED) {

				// If device not paired then start the thread to pair devices
				ConnectThread mConnectedThread = new ConnectThread(
						bluetoothDevice_List.get(position));
				mConnectedThread.start();
			} else {

				// else show a toast
				Toast.makeText(getApplicationContext(), "Already paired.",
						Toast.LENGTH_SHORT).show();
			}
		}

	}

	// This thread will do task for pairing devices
	private class ConnectThread extends Thread {
		private BluetoothSocket mmSocket; // Bluetooth Socket
		private final BluetoothDevice mmDevice;
		private final UUID MY_UUID = UUID
				.fromString("00001101-0000-1000-8000-00805f9b34fb"); // This is
																		// Unique
																		// Id
																		// for
																		// your
																		// device

		public ConnectThread(BluetoothDevice device) {
			BluetoothSocket tmp = null;
			mmDevice = device;
			try {
				// This methods are used to make pairing
				tmp = device.createRfcommSocketToServiceRecord(MY_UUID);

				Method m = device.getClass().getMethod("createRfcommSocket",
						new Class[] { int.class });
				tmp = (BluetoothSocket) m.invoke(device, 1);

			} catch (Exception e) {
				e.printStackTrace();

			}
			mmSocket = tmp;
		}

		public void run() {

			// Cancelling discovery is neccessary
			bluetooth_adapter.cancelDiscovery();// If bluetooth adapter is
												// already discovering then
												// cancel it
			try {

				// Also unregister receiver
				unregisterReceiver(reciever);
			} catch (IllegalArgumentException e) {
				e.printStackTrace();
			}
			try {
				mmSocket.connect();// Pair device
				Log.e(TAG, "Connection Establish"); // Via this Log you can
													// check the connection
													// status

			} catch (IOException connectException) {
				connectException.printStackTrace();
				try {
					mmSocket.close(); // If exception occurs close Socket
					Log.e(TAG, "Connection Failed");
				} catch (IOException closeException) {
					closeException.printStackTrace();
				}
				return;
			}

		}

		// On cancel display Log and close socket
		public void cancel() {
			try {
				Log.e(TAG, "Connection Failed on cancel");
				mmSocket.close();
			} catch (IOException e) {
			}
		}
	}

	// On destroy unregister receiver
	@Override
	protected void onDestroy() {

		super.onDestroy();

		// Try catch block is used because receiver can throw exception if
		// receiver not registered
		try {
			unregisterReceiver(reciever);
		} catch (IllegalArgumentException e) {
			e.printStackTrace();
		}
	}

	// Custom Adapter class for Custom ListView Items
	private class CustomAdapter extends ArrayAdapter&lt;BluetoothDevice&gt; {
		private Context context;
		private int resource;
		private ArrayList&lt;BluetoothDevice&gt; deviceName;

		public CustomAdapter(Context context, int resource,
				ArrayList&lt;BluetoothDevice&gt; deviceName) {
			super(context, resource);
			this.context = context;
			this.resource = resource;
			this.deviceName = deviceName;

		}

		@Override
		public int getCount() {
			return deviceName.size();// Array List size
		}

		@Override
		public View getView(int position, View convertView, ViewGroup parent) {
			LayoutInflater inflater = (LayoutInflater) context
					.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
			if (convertView == null) {
				convertView = inflater.inflate(resource, parent, false); // Inflate
																			// layout
				TextView deviceName = (TextView) convertView
						.findViewById(R.id.devices_name);// Find textView id

				// Set device name and device address over textview
				deviceName.setText(this.deviceName.get(position).getName()
						+ "n" + this.deviceName.get(position).getAddress());
			}
			return convertView;
		}
	}

}</pre><p>
<b>8</b>. Now, you are all done, run your app and you will get the output as shown in video.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/Bluetooth_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-bluetooth/">Android Bluetooth</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-bluetooth/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">513</post-id>	</item>
		<item>
		<title>Android RecyclerView</title>
		<link>http://www.androhub.com/android-recyclerview/</link>
		<comments>http://www.androhub.com/android-recyclerview/#comments</comments>
		<pubDate>Mon, 20 Jul 2015 05:56:55 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[android recyclerview]]></category>
		<category><![CDATA[android viewpager]]></category>
		<category><![CDATA[grid]]></category>
		<category><![CDATA[gridview]]></category>
		<category><![CDATA[list]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[view pager]]></category>
		<category><![CDATA[viewholder]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=495</guid>
		<description><![CDATA[<p>What is RecyclerView? Google’s upcoming operating system named Android L looks very promising. It is highly focused on rich user experience and what they called it as material design. In this example we will take a look at the new UI widget called RecyclerView. RecyclerView is more advanced and flexible and efficient version of ListView. RecyclerView [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-recyclerview/">Android RecyclerView</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<h2>What is RecyclerView?</h2>
<p>Google’s upcoming operating system named <strong>Android L</strong> looks very promising. It is highly focused on rich user experience and what they called it as material design. In this example we will take a look at the new UI widget called <strong><code><a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.html" target="_blank">RecyclerView</a></code></strong>.</p>
<p><code>RecyclerView</code> is more advanced and flexible and efficient version of ListView. RecyclerView ViewGroup is an container for larger data set of views that can be recycled and scrolled very efficiently. RecyclerView can be used for larger datasets to be rendered on the UI like a list. RecyclerView provides maximum flexibility to design different kind of views.</p>
<p>Just like <em>ListView</em>, <em>RecyclerView </em>is used to display a large amount of similar items on screen. But since the Android team was building an enhancement, they added a bunch of new features to <em>RecyclerView</em>. Each one of these new features, give a platform to developers for implementing a highly custom made RecyclerView. One of the custom implementations of RecyclerView is the new Gmail app on Android.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to use RecyclerView to show items in List RecyclerView and Grid RecyclerView.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_30613" width="602" height="339" src="https://www.youtube.com/embed/4alK7BKYUzw?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Android SDK doesn’t includes the <code>RecyclerView</code> class, and hence for using RecyclerView in your project you first need to add the recycler view support library to your project. You can download recyclerview library from <a href="http://androhub.com/downloads/recyclerview.zip" target="_blank">here</a>.</p>
<p><b>3</b>. Firstly create a layout naming <em>recycler_view.xml </em>for using this layout in this tutorial as we had done in <a href="http://androhub.com/android-toolbar/" target="_blank">Toolbar tutorial</a>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- Recycler view --&gt;
&lt;android.support.v7.widget.RecyclerView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:overScrollMode="never"
    android:scrollbars="none" /&gt;</pre><p>
<b>4</b>. As you had seen in above video i am using tabs for displaying list and grid items. So i am using viewpager for this in <em>activity_main.xml</em>. If you are not aware of the ViewPager then you can refer to my <a href="http://androhub.com/android-tab-with-swipeable-views-using-viewpager/" target="_blank">ViewPager tutorial</a>.</p><pre class="crayon-plain-tag">&lt;!-- ViewPager for tabs --&gt;
&lt;android.support.v4.view.ViewPager xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/pager"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /&gt;</pre><p>
<b>5</b>. Now, we need to create two more layout for List and Grid items. This layouts will be used in fragments for tabs. If you are not aware of fragments then you can refer to <a href="http://androhub.com/android-fragments/" target="_blank">Fragments tutorial</a>.</p>
<p>In both layouts i am including recyclerview layout that i had created above. You can use single layout for both fragments.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" &gt;

    &lt;!-- include recyclerview layout --&gt;

    &lt;include
        android:id="@+id/linear_recyclerview"
        layout="@layout/recycler_view" /&gt;

&lt;/LinearLayout&gt;</pre><p>
</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" &gt;

    &lt;!-- include recyclerview layout --&gt;

    &lt;include
        android:id="@+id/grid_recyclerview"
        layout="@layout/recycler_view" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>6</b>. Now, we have to create another two more layouts for both List and Grid custom layouts. This layouts are going to be used in recyclerview adapter for inflating over recycler view.</p>
<p>Since, both List and Grid are different in layout so they will need different custom layout.</p>
<p>List Custom View xml Layout.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/list_layout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="#ffffff"
    android:padding="10dp" &gt;

    &lt;ImageView
        android:id="@+id/list_imageview"
        android:layout_width="100dp"
        android:layout_height="120dp"
        android:adjustViewBounds="true"
        android:contentDescription="@string/imageview"
        android:scaleType="centerCrop" /&gt;

    &lt;ImageView
        android:id="@+id/list_delete"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignTop="@+id/list_item_holder"
        android:contentDescription="@string/delete_image"
        android:src="@drawable/ic_delete" /&gt;

    &lt;LinearLayout
        android:id="@+id/list_item_holder"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:layout_toRightOf="@+id/list_imageview"
        android:orientation="vertical" &gt;

        &lt;TextView
            android:id="@+id/list_title"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="3dp"
            android:paddingLeft="10dp"
            android:textColor="#000000"
            android:textSize="17sp" /&gt;

        &lt;TextView
            android:id="@+id/list_location"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="3dp"
            android:paddingLeft="10dp"
            android:textColor="#757575"
            android:textSize="14sp" /&gt;

        &lt;TextView
            android:id="@+id/list_dateconstructed"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:paddingLeft="10dp"
            android:textColor="#757575"
            android:textSize="14sp"
            android:textStyle="bold" /&gt;
    &lt;/LinearLayout&gt;

&lt;/RelativeLayout&gt;</pre><p>
Grid Custom View xml Layout.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/grid_layout"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="#ffffff"
    android:padding="10dp" &gt;

    &lt;ImageView
        android:id="@+id/grid_imageview"
        android:layout_width="100dp"
        android:layout_height="120dp"
        android:layout_gravity="center"
        android:adjustViewBounds="true"
        android:layout_centerHorizontal="true"
        android:contentDescription="@string/imageview"
        android:scaleType="centerCrop" /&gt;

    &lt;TextView
        android:id="@+id/grid_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/grid_imageview"
        android:gravity="center"
        android:paddingBottom="3dp"
        android:paddingLeft="10dp"
        android:layout_centerHorizontal="true"
        android:singleLine="true"
        android:textColor="#000000"
        android:textSize="15sp" /&gt;

    &lt;ImageView
        android:id="@+id/grid_delete"
        android:layout_width="20dp"
        android:layout_height="20dp"
        android:layout_alignRight="@+id/grid_imageview"
        android:layout_alignTop="@+id/grid_imageview"
        android:layout_marginLeft="5dp"
        android:contentDescription="@string/delete_image"
        android:src="@drawable/ic_delete" /&gt;

    &lt;LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/grid_title"
        android:gravity="center_horizontal"
        android:orientation="horizontal" &gt;

        &lt;TextView
            android:id="@+id/grid_location"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="start"
            android:paddingBottom="3dp"
            android:paddingLeft="5dp"
            android:textColor="#757575"
            android:textSize="14sp" /&gt;

        &lt;TextView
            android:id="@+id/grid_dateconstructed"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="end"
            android:paddingLeft="5dp"
            android:paddingRight="5dp"
            android:textColor="#757575"
            android:textSize="14sp"
            android:textStyle="bold" /&gt;
    &lt;/LinearLayout&gt;

&lt;/RelativeLayout&gt;</pre><p>
<b>7</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values. This are some strings that i am going to use in this tutorial and there are String Array also that is for items data.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;RecyclerView Demo&lt;/string&gt;
    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="add"&gt;Add&lt;/string&gt;
    &lt;string name="remove"&gt;Remove&lt;/string&gt;
    &lt;string name="imageview"&gt;ImageView&lt;/string&gt;
    &lt;string name="delete_image"&gt;Delete ImageView&lt;/string&gt;

    &lt;!-- Title string array --&gt;
    &lt;string-array name="title"&gt;
        &lt;item&gt;Taj Mahal&lt;/item&gt;
        &lt;item&gt;Hawa Mahal&lt;/item&gt;
        &lt;item&gt;Golden Temple&lt;/item&gt;
        &lt;item&gt;Shore Temple&lt;/item&gt;
        &lt;item&gt;Chhatrapati Shivaji Terminus&lt;/item&gt;
        &lt;item&gt;Lotus Temple&lt;/item&gt;
        &lt;item&gt;Victoria Memorial Hall&lt;/item&gt;
        &lt;item&gt;Brihadeeswarar Temple&lt;/item&gt;
        &lt;item&gt;Mahabodhi Temple&lt;/item&gt;
    &lt;/string-array&gt;

    &lt;!-- Location string array --&gt;
    &lt;string-array name="location"&gt;
        &lt;item&gt;Agra&lt;/item&gt;
        &lt;item&gt;Jaipur&lt;/item&gt;
        &lt;item&gt;Amritsar&lt;/item&gt;
        &lt;item&gt;Bay of Bengal&lt;/item&gt;
        &lt;item&gt;Mumbai&lt;/item&gt;
        &lt;item&gt;New Delhi&lt;/item&gt;
        &lt;item&gt;Kolkata&lt;/item&gt;
        &lt;item&gt;Tamil Nadu&lt;/item&gt;
        &lt;item&gt;Patna&lt;/item&gt;
    &lt;/string-array&gt;

    &lt;!-- Year string array --&gt;
    &lt;string-array name="constructed_year"&gt;
        &lt;item&gt;1632&lt;/item&gt;
        &lt;item&gt;1799 AD&lt;/item&gt;
        &lt;item&gt;1577&lt;/item&gt;
        &lt;item&gt;700–728 AD&lt;/item&gt;
        &lt;item&gt;May 1888&lt;/item&gt;
        &lt;item&gt;1987&lt;/item&gt;
        &lt;item&gt;1906&lt;/item&gt;
        &lt;item&gt;1010 CE&lt;/item&gt;
        &lt;item&gt;250 BCE&lt;/item&gt;
    &lt;/string-array&gt;

&lt;/resources&gt;</pre><p>
<b>8</b>. Before moving further, we have to create a <em>ViewHolder </em>for both List and Grid recyclerview. For this we have to two new java classes. In this classes we have to extend the class with <em>RecyclerView.ViewHolder.  </em>In this classes i had used click listener for implementing click listener over recycler view items. We have to setClickListener for all views which we want to do something on click.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo.holders;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.TextView;

import com.erecyclerview_demo.R;

public class ListView_Holder extends RecyclerView.ViewHolder implements
		OnClickListener {
	// View holder for list recycler view as we used in listview
	public TextView list_title, list_location, list_date;
	public ImageView list_imageView, list_delete;
	public RelativeLayout listLayout;

	private RecyclerView_OnClickListener.OnClickListener onClickListener;

	public ListView_Holder(View view) {
		super(view);

		// Find all views ids
		this.list_title = (TextView) view.findViewById(R.id.list_title);
		this.list_location = (TextView) view.findViewById(R.id.list_location);
		this.list_date = (TextView) view
				.findViewById(R.id.list_dateconstructed);
		this.list_imageView = (ImageView) view
				.findViewById(R.id.list_imageview);
		this.list_delete = (ImageView) view.findViewById(R.id.list_delete);
		this.listLayout = (RelativeLayout) view.findViewById(R.id.list_layout);

		// Implement click listener over views that we need
		this.list_delete.setOnClickListener(this);
		this.listLayout.setOnClickListener(this);

	}

	@Override
	public void onClick(View v) {

		// setting custom listener
		if (onClickListener != null) {
			onClickListener.OnItemClick(v, getAdapterPosition());

		}

	}

	// Setter for listener
	public void setClickListener(
			RecyclerView_OnClickListener.OnClickListener onClickListener) {
		this.onClickListener = onClickListener;
	}

}</pre><p>
</p><pre class="crayon-plain-tag">package com.erecyclerview_demo.holders;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.RelativeLayout;
import android.widget.TextView;

import com.erecyclerview_demo.R;

public class GridView_Holder extends RecyclerView.ViewHolder implements
		OnClickListener {
	// View holder for gridview recycler view as we used in listview
	public TextView grid_title, grid_location, grid_date;
	public ImageView grid_imageView, grid_delete;
	public RelativeLayout gridLayout;

	private RecyclerView_OnClickListener.OnClickListener onClickListener;

	public GridView_Holder(View view) {
		super(view);
		// Find all views ids
		this.grid_title = (TextView) view.findViewById(R.id.grid_title);
		this.grid_location = (TextView) view.findViewById(R.id.grid_location);
		this.grid_date = (TextView) view
				.findViewById(R.id.grid_dateconstructed);
		this.grid_imageView = (ImageView) view
				.findViewById(R.id.grid_imageview);
		this.grid_delete = (ImageView) view.findViewById(R.id.grid_delete);
		this.gridLayout = (RelativeLayout) view.findViewById(R.id.grid_layout);

		// Implement click listener over views that we want
		this.gridLayout.setOnClickListener(this);
		this.grid_delete.setOnClickListener(this);

	}

	@Override
	public void onClick(View v) {

		// set custom listener
		if (onClickListener != null) {
			onClickListener.OnItemClick(v, getAdapterPosition());

		}

	}

	// Setter for listener
	public void setClickListener(
			RecyclerView_OnClickListener.OnClickListener onClickListener) {
		this.onClickListener = onClickListener;
	}

}</pre><p>
<b>9</b>. Now, create a getter and setter class for recyclerView. As we use to create in ListView and GridView.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo;

public class Data_Model {

	// Getter and Setter model for recycler view items
	private String title, location, year;
	private int image;

	public Data_Model(String title, String location, String year, int image) {
		this.year = year;
		this.title = title;
		this.location = location;
		this.image = image;
	}

	public String getTitle() {
		return title;
	}

	public String getLocation() {
		return location;
	}

	public String getYear() {
		return year;
	}

	public int getImage() {
		return image;
	}
}</pre><p>
<b>10</b>. Android <em>RecyclerView</em> included special kind of adapter which works pretty much same as traditional Android adapters but with additional functionalities. The additional functionalities inclued :</p>
<ul>
<li>It adds two new methods like <strong><code>onCreateViewHolder()</code></strong> and <strong><code>onBindViewHolder()</code></strong> to organize the code. You must override these two methods for inflate the view and to bind data to the view</li>
<li>Implements a ViewHolder by default. Conceptually <strong><code>RecyclerView.ViewHolder</code></strong> works same as the ViewHolder design pattern which we have been using with other Adapters.</li>
<li>Takes care of the overhead of recycling and gives better performance and scrolling.</li>
</ul>
<p>This is onCreateViewHolder method for List RecyclerView</p><pre class="crayon-plain-tag">@Override
	public ListView_Holder onCreateViewHolder(ViewGroup viewGroup, int viewType) {

		// This method will inflate the custom layout and return as viewholder
		LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

		ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
				R.layout.list_customview, viewGroup, false);
		ListView_Holder listHolder = new ListView_Holder(mainGroup);
		return listHolder;

	}</pre><p>
This is onBindViewHolde method for List RecyclerView in this method we have to set items over views.</p><pre class="crayon-plain-tag">@Override
	public void onBindViewHolder(ListView_Holder holder, int position) {
		final Data_Model model = arrayList.get(position);

		ListView_Holder mainHolder = (ListView_Holder) holder;// holder

		Bitmap image = BitmapFactory.decodeResource(context.getResources(),
				model.getImage());// This will convert drawbale image into
									// bitmap

		// setting data over views
		mainHolder.list_title.setText(model.getTitle());
		mainHolder.list_location.setText(model.getLocation());
		mainHolder.list_date.setText(model.getYear());
		mainHolder.list_imageView.setImageBitmap(image);


	}</pre><p>
ListRecycelrView Adapter Class.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo.adapter;

import java.util.ArrayList;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Toast;

import com.erecyclerview_demo.Data_Model;
import com.erecyclerview_demo.R;
import com.erecyclerview_demo.holders.ListView_Holder;
import com.erecyclerview_demo.holders.RecyclerView_OnClickListener.OnClickListener;

public class ListView_Recycler_Adapter extends
		RecyclerView.Adapter&lt;ListView_Holder&gt; {// Recyclerview will extend to
												// recyclerview adapter
	private ArrayList&lt;Data_Model&gt; arrayList;
	private Context context;

	public ListView_Recycler_Adapter(Context context,
			ArrayList&lt;Data_Model&gt; arrayList) {
		this.context = context;
		this.arrayList = arrayList;

	}

	@Override
	public int getItemCount() {
		return (null != arrayList ? arrayList.size() : 0);

	}

	@Override
	public void onBindViewHolder(ListView_Holder holder, int position) {
		final Data_Model model = arrayList.get(position);

		ListView_Holder mainHolder = (ListView_Holder) holder;// holder

		Bitmap image = BitmapFactory.decodeResource(context.getResources(),
				model.getImage());// This will convert drawbale image into
									// bitmap

		// setting data over views
		mainHolder.list_title.setText(model.getTitle());
		mainHolder.list_location.setText(model.getLocation());
		mainHolder.list_date.setText(model.getYear());
		mainHolder.list_imageView.setImageBitmap(image);

		// Implement click listener over layout
		mainHolder.setClickListener(new OnClickListener() {

			@Override
			public void OnItemClick(View view, int position) {
				switch (view.getId()) {
				case R.id.list_layout:

					// Show a toast on clicking layout
					Toast.makeText(context,
							"You have clicked " + model.getTitle(),
							Toast.LENGTH_LONG).show();
					break;

				case R.id.list_delete:
					// remove selected item
					arrayList.remove(position);
					notifyItemRemoved(position);
					break;

				}
			}

		});

	}

	@Override
	public ListView_Holder onCreateViewHolder(ViewGroup viewGroup, int viewType) {

		// This method will inflate the custom layout and return as viewholder
		LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

		ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
				R.layout.list_customview, viewGroup, false);
		ListView_Holder listHolder = new ListView_Holder(mainGroup);
		return listHolder;

	}

}</pre><p>
GridRecyclerView Adapter Class.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo.adapter;

import java.util.ArrayList;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Toast;

import com.erecyclerview_demo.Data_Model;
import com.erecyclerview_demo.R;
import com.erecyclerview_demo.holders.GridView_Holder;
import com.erecyclerview_demo.holders.RecyclerView_OnClickListener.OnClickListener;

public class GridView_Recycler_Adapter extends
		RecyclerView.Adapter&lt;GridView_Holder&gt; { // Recyclerview will always
												// extend to recyclerview
												// adapter
	private ArrayList&lt;Data_Model&gt; arrayList;
	private Context context;

	public GridView_Recycler_Adapter(Context context,
			ArrayList&lt;Data_Model&gt; arrayList) {
		this.context = context;
		this.arrayList = arrayList;

	}

	@Override
	public int getItemCount() {
		return (null != arrayList ? arrayList.size() : 0);

	}

	@Override
	public void onBindViewHolder(GridView_Holder holder, int position) {

		// Now in this method the items will set and click listener will occur
		final Data_Model model = arrayList.get(position);

		GridView_Holder gridHolder = (GridView_Holder) holder;// Holder

		Bitmap image = BitmapFactory.decodeResource(context.getResources(),
				model.getImage());// Converting drawable into bitmap

		// setting data over views
		gridHolder.grid_title.setText(model.getTitle());
		gridHolder.grid_location.setText(model.getLocation());
		gridHolder.grid_date.setText(model.getYear());
		gridHolder.grid_imageView.setImageBitmap(image);

		// Implementing click listener
		gridHolder.setClickListener(new OnClickListener() {

			@Override
			public void OnItemClick(View view, int position) {
				switch (view.getId()) {

				case R.id.grid_layout:

					// Toast will shown when layout is clicked
					Toast.makeText(context,
							"You have clicked " + model.getTitle(),
							Toast.LENGTH_LONG).show();
					break;

				case R.id.grid_delete:

					// Item will deleted when delete image clicked
					arrayList.remove(position);
					notifyItemRemoved(position);// Notify adapter of removed
												// position
					break;
				}

			}

		});

	}

	@Override
	public GridView_Holder onCreateViewHolder(ViewGroup viewGroup, int viewType) {

		// This method will inflate the layout and return as viewholder
		LayoutInflater mInflater = LayoutInflater.from(viewGroup.getContext());

		ViewGroup mainGroup = (ViewGroup) mInflater.inflate(
				R.layout.grid_customview, viewGroup, false);
		GridView_Holder gridHolder = new GridView_Holder(mainGroup);
		return gridHolder;

	}

}</pre><p>
<b>12</b>. Handling click event on RecyclerView is not as sweet as handling click listener in ListView or GridView. Android RecyclerView doesn’t provide any built in listeners or handy way of handling click events.</p>
<p>For this I created an <em>interface </em>class for onClickListener you can implement this interface in all ViewHolder and implement clickListener.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo.holders;

import android.view.View;

public class RecyclerView_OnClickListener {
	/** Interface for Item Click over Recycler View Items **/
	public interface OnClickListener {
		public void OnItemClick(View view, int position);
	}
}</pre><p>
Now we can use this interface to handle click event explicitly by adding the following code in <code>onBindViewHolder()</code> method. As we had done in above adapter classes.</p>
<p><b>13</b>. RecyclerView having two LayoutManagers for showing data. LinearLayoutManager for List items and GridLayoutManager for Grid items. The below code is for List items using LinearLayoutManager and LayoutManager is neccessary in RecyclerView.</p><pre class="crayon-plain-tag">listRecyclerView = (RecyclerView) view
				.findViewById(R.id.linear_recyclerview);
		listRecyclerView.setHasFixedSize(true);
		listRecyclerView
				.setLayoutManager(new LinearLayoutManager(getActivity()));/</pre><p>
Full Code of List RecyclerView fragment.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo;

import java.util.ArrayList;
import java.util.Random;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.MenuItem.OnMenuItemClickListener;
import android.view.View;
import android.view.ViewGroup;

import com.erecyclerview_demo.adapter.ListView_Recycler_Adapter;

public class LinearLayout_Fragment extends Fragment {
	private static View view;
	private static RecyclerView listRecyclerView;
	private static ArrayList&lt;Data_Model&gt; listArrayList;
	private static ListView_Recycler_Adapter adapter;

	// Images array for images
	private static final int[] images = { R.drawable.tajmahal,
			R.drawable.hawamahal, R.drawable.golden, R.drawable.shore,
			R.drawable.shivaji, R.drawable.lotus, R.drawable.victoria,
			R.drawable.brihadishwara, R.drawable.mahabodhi };

	// String array for title, location, year
	String[] getTitle, getLocation, getYear;

	public LinearLayout_Fragment() {

	}

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		view = inflater.inflate(R.layout.linearlayout_fragment, container,
				false);
		init();
		populatRecyclerView();
		setHasOptionsMenu(true);// this method used to set option menu on
								// fragment
		return view;
	}

	// Initialize the view
	private void init() {

		// Getting the string array from strings.xml
		getTitle = getActivity().getResources().getStringArray(R.array.title);
		getLocation = getActivity().getResources().getStringArray(
				R.array.location);
		getYear = getActivity().getResources().getStringArray(
				R.array.constructed_year);
		listArrayList = new ArrayList&lt;Data_Model&gt;();

		listRecyclerView = (RecyclerView) view
				.findViewById(R.id.linear_recyclerview);
		listRecyclerView.setHasFixedSize(true);
		listRecyclerView
				.setLayoutManager(new LinearLayoutManager(getActivity()));// for
																			// linear
																			// data
																			// display
																			// we
																			// use
																			// linear
																			// layoutmanager

	}

	// populate the list view by adding data to arraylist
	private void populatRecyclerView() {

		for (int i = 0; i &lt; getTitle.length; i++) {
			listArrayList.add(new Data_Model(getTitle[i], getLocation[i],
					getYear[i], images[i]));
		}
		adapter = new ListView_Recycler_Adapter(getActivity(), listArrayList);
		listRecyclerView.setAdapter(adapter);// set adapter on recyclerview
		adapter.notifyDataSetChanged();// Notify the adapter

	}

	// random generator method for generating data in int nos.
	private int RandomGenerator() {
		Random random = new Random();
		int randomNum = random.nextInt(9);

		return randomNum;
	}

	@Override
	public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
		getActivity().getMenuInflater().inflate(R.menu.main, menu);
		MenuItem add = menu.findItem(R.id.add);

		add.setOnMenuItemClickListener(new OnMenuItemClickListener() {

			@Override
			public boolean onMenuItemClick(MenuItem arg0) {
				int value = RandomGenerator();// get random value from random
												// method

				// add random data to arraylist
				listArrayList.add(new Data_Model(getTitle[value],
						getLocation[value], getYear[value], images[value]));
				adapter.notifyDataSetChanged();// finally notify adapter
				return false;
			}
		});

		super.onCreateOptionsMenu(menu, inflater);
	}
}</pre><p>
Full Code of Grid RecyclerView fragment.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo;

import java.util.ArrayList;
import java.util.Random;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v7.widget.GridLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.MenuItem.OnMenuItemClickListener;
import android.view.View;
import android.view.ViewGroup;

import com.erecyclerview_demo.adapter.GridView_Recycler_Adapter;

public class GridLayout_Fragment extends Fragment {
	private static View view;
	private static RecyclerView gridRecyclerView;
	private static GridView_Recycler_Adapter adapter;
	private static ArrayList&lt;Data_Model&gt; gridArrayList;

	// Images int array from drawable folders
	private static final int[] images = { R.drawable.tajmahal,
			R.drawable.hawamahal, R.drawable.golden, R.drawable.shore,
			R.drawable.shivaji, R.drawable.lotus, R.drawable.victoria,
			R.drawable.brihadishwara, R.drawable.mahabodhi };

	// String array for title, location,year
	String[] getTitle, getLocation, getYear;

	public GridLayout_Fragment() {
		// Empty constructor is neccessary
	}

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		view = inflater.inflate(R.layout.gridlayout_fragment, container, false);
		init();
		populatRecyclerView();
		setHasOptionsMenu(true);// This will set option menu on fragment
		return view;
	}

	// Initialize all variables and views
	private void init() {

		// Get the title , location and year from string.xml in array form
		getTitle = getActivity().getResources().getStringArray(R.array.title);
		getLocation = getActivity().getResources().getStringArray(
				R.array.location);
		getYear = getActivity().getResources().getStringArray(
				R.array.constructed_year);

		gridArrayList = new ArrayList&lt;Data_Model&gt;();

		// Find the id of recycler view
		gridRecyclerView = (RecyclerView) view
				.findViewById(R.id.grid_recyclerview);
		gridRecyclerView.setHasFixedSize(true);// set it fixed size
		// Set layout manager, we need grid layout manager here for gridview
		gridRecyclerView.setLayoutManager(new GridLayoutManager(getActivity(),
				2));// "2" denotes the no. of spancount i.e. no. of items in a
					// row and setting layout manager is neccessary
	}

	// Populate the listview with data
	private void populatRecyclerView() {

		for (int i = 0; i &lt; getTitle.length; i++) {
			// add the items one by one in arraylist
			gridArrayList.add(new Data_Model(getTitle[i], getLocation[i],
					getYear[i], images[i]));
		}
		adapter = new GridView_Recycler_Adapter(getActivity(), gridArrayList);

		// set adapter over recyclerview
		gridRecyclerView.setAdapter(adapter);
		adapter.notifyDataSetChanged();

	}

	// Random generator method this will generate int nos.
	private int RandomGenerator() {
		Random random = new Random();
		int randomNum = random.nextInt(9);

		return randomNum;
	}

	@Override
	public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
		getActivity().getMenuInflater().inflate(R.menu.main, menu);// Inflate
																	// option
																	// menu

		// Find the id of menu
		MenuItem add = menu.findItem(R.id.add);

		// Implement click listener on menu item
		add.setOnMenuItemClickListener(new OnMenuItemClickListener() {

			@Override
			public boolean onMenuItemClick(MenuItem arg0) {
				int value = RandomGenerator();// Get int value from random
												// generaor method

				// Now add the data to arraylist by random value
				gridArrayList.add(new Data_Model(getTitle[value],
						getLocation[value], getYear[value], images[value]));
				adapter.notifyDataSetChanged();// finally notify adapter
				return false;
			}
		});

		super.onCreateOptionsMenu(menu, inflater);
	}
}</pre><p>
In above both fragment classes i am adding items dynamically by using a RandomGenerator method.</p>
<p><b>14</b>. Finally, come to <em>MainActivity.java </em>and add the following code to set tab fragment over ViewPager.</p><pre class="crayon-plain-tag">package com.erecyclerview_demo;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;
import android.support.v4.app.FragmentTransaction;
import android.support.v4.view.ViewPager;
import android.support.v7.app.ActionBar;
import android.support.v7.app.ActionBar.Tab;
import android.support.v7.app.ActionBar.TabListener;
import android.support.v7.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity implements TabListener {
	private static ViewPager viewPager;//View Pager for setting tabs
	private static ActionBar actionBar;
	private static FragmentManager fragmentManager;//fragment manager to work on fragments

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		init();
		setTabs();
	}

	
	//initialize the view pager 
	private void init() {
		viewPager = (ViewPager) findViewById(R.id.pager);
		fragmentManager = getSupportFragmentManager();

		// Setting adapter over view pager
		viewPager.setAdapter(new MyAdapter(fragmentManager));

		// Implementing view pager pagechangelistener to navigate between tabs
		viewPager.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {

			@Override
			public void onPageSelected(int pos) {

				// Setting navigation of tabs to actionbar
				actionBar.setSelectedNavigationItem(pos);
			}

			@Override
			public void onPageScrolled(int arg0, float arg1, int arg2) {

			}

			@Override
			public void onPageScrollStateChanged(int arg0) {

			}
		});

	}

	private void setTabs() {
		// Getting actionbar
		actionBar = getSupportActionBar();

		// Setting navigation mode to actionbar
		actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

		// Now adding a new tab to action bar and setting title, icon and
		// implementing listener
		android.support.v7.app.ActionBar.Tab tab1 = actionBar.newTab();
		tab1.setText("ListView");
		// tab1.setIcon(R.drawable.ic_launcher);
		tab1.setTabListener(this);

		android.support.v7.app.ActionBar.Tab tab2 = actionBar.newTab();
		tab2.setText("GridView");
		tab2.setTabListener(this);

		// Now finally adding all tabs to actionbar
		actionBar.addTab(tab1);
		actionBar.addTab(tab2);

	}

	@Override
	public void onTabReselected(Tab arg0, FragmentTransaction arg1) {
		
	}

	@Override
	public void onTabSelected(Tab tab, FragmentTransaction arg1) {
		// Setting current position of tab to view pager
		viewPager.setCurrentItem(tab.getPosition());

	}

	@Override
	public void onTabUnselected(Tab arg0, FragmentTransaction arg1) {
		

	}

	// My adapter i.e. custom adapter for displaying fragments over view pager
	private class MyAdapter extends FragmentPagerAdapter {
		public MyAdapter(FragmentManager fm) {
			super(fm);

		}

		@Override
		public Fragment getItem(int i) {

			// Getting fragments according to selected position
			Fragment fragment = null;
			if (i == 0) {
				fragment = new LinearLayout_Fragment();
			}
			if (i == 1) {
				fragment = new GridLayout_Fragment();
			}

			// and finally returning fragments
			return fragment;
		}

		@Override
		public int getCount() {

			// Returning no. of counts of fragments
			return 2;
		}
	}

}</pre><p>
<b>15</b>. Now, you are all done, run your app and you will get the output as shown in video.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/RecyclerView_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-recyclerview/">Android RecyclerView</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-recyclerview/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">495</post-id>	</item>
		<item>
		<title>Android ListView</title>
		<link>http://www.androhub.com/android-listview/</link>
		<comments>http://www.androhub.com/android-listview/#respond</comments>
		<pubDate>Thu, 16 Apr 2015 06:47:58 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[android listview]]></category>
		<category><![CDATA[custom listview]]></category>
		<category><![CDATA[images listview]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[listview listener]]></category>
		<category><![CDATA[listview with images]]></category>
		<category><![CDATA[listview with texts]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=202</guid>
		<description><![CDATA[<p>What is ListView? Android ListView is a view which groups several items and display them in vertical scrollable list. The list items are automatically inserted to the list using an Adapter that pulls content from a source such as an array or database. An adapter actually bridges between UI components and the data source that [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview/">Android ListView</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<h1>What is ListView?</h1>
<p>Android <b>ListView</b> is a view which groups several items and display them in vertical scrollable list. The list items are automatically inserted to the list using an <b>Adapter</b> that pulls content from a source such as an array or database.</p>
<p>An adapter actually bridges between UI components and the data source that fill data into UI Component. Adapter can be used to supply the data to like spinner, list view, grid view etc.</p>
<h2>Example</h2>
<p>In this example i will be demonstrating how to build simple android ListView and Custom ListView. This article is about creating simple ListView with textViews and CustomListView with textViews and Images.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_64982" width="602" height="339" src="https://www.youtube.com/embed/eRdgV6wftRY?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p>Let’s get start by creating a project in Eclipse IDE.</p>
<h3>Simple ListView</h3>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. (I kept my main activity name as <em>MainActivity.java</em>)</p>
<p><b>2</b>. Open your your <em>AndroidManifest.xml</em> file and make your “MainActivity” as Launcher activity.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.listview_demo"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="22" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name=".MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>3</b>. Create a layout file for <em>MainActivtiy.java</em> under <em>res ⇒ layout</em> folder. I named the layout file as <em>activity_main.xml</em>. This will be your first launching activity layout.</p><pre class="crayon-plain-tag">&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" &gt;

    &lt;ListView
        android:id="@+id/listView1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:divider="#ff00"
        android:dividerHeight="2dp" &gt;
    &lt;/ListView&gt;

&lt;/RelativeLayout&gt;</pre><p>
<b>4</b>. Add the following code in <em>MainActivity.java</em> activity. In this following code we make a <em>ArrayList </em>and use <em>Adapter </em>for manages the data model and adapts it to the individual entries in the widget.</p><pre class="crayon-plain-tag">package com.listview_demo;

import java.util.ArrayList;

import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

public class MainActivity extends ActionBarActivity {

	ListView list;
	ArrayList&lt;String&gt; array;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		list = (ListView) findViewById(R.id.listView1);

		// initialize array list
		array = new ArrayList&lt;String&gt;();

		// adding items into listview
		for (int i = 0; i &lt; 6; i++) {
			array.add("Item" + i);
		}

		// array adapter to hold the list items
		ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(
				MainActivity.this, android.R.layout.simple_list_item_1, array);

		// setting array adapter over list view
		list.setAdapter(adapter);

		// Notifying adapter for data changed
		adapter.notifyDataSetChanged();

		list.setOnItemClickListener(new OnItemClickListener() {

			@Override
			public void onItemClick(AdapterView&lt;&gt; arg0, View arg1,
					int position, long arg3) {

				// Showing a toast on item click
				Toast.makeText(MainActivity.this,
						"You had clicked over item :" + position,
						Toast.LENGTH_SHORT).show();

			}
		});

	}

}</pre><p>
<b>5</b>. Run the application and you will get the output as shown in video.</p>
<h3>Custom ListView</h3>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. (I kept my main activity name as <em>MainActivity.java</em>)</p>
<p><b>2</b>. Open your your <em>AndroidManifest.xml</em> file and make your  <em>MainActivity</em> as Launcher activity.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.customlistview"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="22" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name=".MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>3</b>. Create a layout file for <em>MainActivtiy.java</em> under <em>res ⇒ layout</em> folder. I named the layout file as activity_main<em>.xml</em>. This will be your first launching activity layout.</p><pre class="crayon-plain-tag">&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" &gt;

    &lt;ListView
        android:id="@+id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" &gt;
    &lt;/ListView&gt;

&lt;/RelativeLayout&gt;</pre><p>
<b>4</b>. Create a layout file for custom views for listview under <em>res ⇒ layout</em> folder. I named the layout file as <em>custom.xml</em>. This will be your custom layout for listview.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="5dp" &gt;

    &lt;ImageView
        android:id="@+id/image"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dp" /&gt;

    &lt;TextView
        android:id="@+id/text"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center_vertical"
        android:padding="5dp"
        android:text="TextView" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>5</b>. Create a <em>Items.java </em>class for setting and getting listview items from it. This class works as getter and setter for listview items.</p><pre class="crayon-plain-tag">package com.customlistview;

public class Items {

	String title;
	Integer image;

	public Items(String title, Integer image) {

		// Setter
		this.image = image;
		this.title = title;

	}

	// Getter
	public String getTitle() {
		return title;

	}

	public Integer getImage() {
		return image;
	}

}</pre><p>
<b>6</b>. Create a <i>CustomAdapter.java </i>class for custom listview adapter for inflating custom view over listView.</p><pre class="crayon-plain-tag">package com.customlistview;

import java.util.ArrayList;

import android.content.Context;
import android.media.Image;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class CustomAdapter extends BaseAdapter {

	Context context;
	ArrayList&lt;Items&gt; arraylist;

	public CustomAdapter(Context context, ArrayList&lt;Items&gt; arraylist) {
		this.context = context;
		this.arraylist = arraylist;
	}

	@Override
	public int getCount() {
		// array list size
		return arraylist.size();
	}

	@Override
	public Object getItem(int arg0) {
		// array list items
		return arraylist.get(arg0);
	}

	@Override
	public long getItemId(int pos) {
		// item id
		return pos;
	}

	@Override
	public View getView(int position, View view, ViewGroup parent) {
		
		ViewHolder holder = null;
		
		//Layout Inflater for inflating a layout over listview
		LayoutInflater inflater = (LayoutInflater) context
				.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
		if (view == null) {
			view = inflater.inflate(R.layout.custom, parent, false);

			holder = new ViewHolder();

			holder.text = (TextView) view.findViewById(R.id.text);
			holder.iamge = (ImageView) view.findViewById(R.id.image);

			view.setTag(holder);

		} else {
			holder = (ViewHolder) view.getTag();
		}
		
		//Getting title and imageview from ITEMS class
		String title = arraylist.get(position).getTitle();
		Integer image_ = arraylist.get(position).getImage();

		
		//Setting title and image on textView and imageview
		holder.text.setText(title);

		holder.iamge.setBackgroundResource(image_);

		return view;
	}

	
	//view Holder class for holding views
	public class ViewHolder {
		TextView text;
		ImageView iamge;

	}

}</pre><p>
<b>7</b>. Add the following code in <em>MainActivity.java</em> activity. In this following code we learn how to use custom adapter in listview and set custom listview over adapter.</p><pre class="crayon-plain-tag">package com.customlistview;

import java.util.ArrayList;

import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListView;
import android.widget.Toast;

public class MainActivity extends ActionBarActivity {

	ListView list;
	Items items;
	CustomAdapter adapter;

	ArrayList&lt;Items&gt; arraylist;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);

		list = (ListView) findViewById(R.id.list);

		// initialize the aarray list
		arraylist = new ArrayList&lt;Items&gt;();

		// adding items to array list
		arraylist.add(new Items("Cupcake", R.drawable.cupcake));
		arraylist.add(new Items("Donut", R.drawable.donut));
		arraylist.add(new Items("Eclair", R.drawable.eclair));
		arraylist.add(new Items("Froyo", R.drawable.froyo));
		arraylist.add(new Items("Gingerbread", R.drawable.gingerbread));
		arraylist.add(new Items("Honeycomb", R.drawable.honeycomb));
		arraylist.add(new Items("Icecreamsandwich", R.drawable.icecream));

		adapter = new CustomAdapter(MainActivity.this, arraylist);

		list.setAdapter(adapter);

		adapter.notifyDataSetChanged();

		list.setOnItemClickListener(new OnItemClickListener() {

			@Override
			public void onItemClick(AdapterView&lt;&gt; arg0, View arg1,
					int position, long arg3) {

				// Showing clicked items title
				Toast.makeText(MainActivity.this,
						arraylist.get(position).getTitle(), Toast.LENGTH_SHORT)
						.show();

			}
		});

	}

}</pre><p>
<strong>8</strong>. Run the application and you will get the output as shown in video and you are done.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><strong><a title="Android ListView" href="http://androhub.com/downloads/Android_ListView.zip" target="_blank">Download Source Code for both Projects &#8211; &gt;</a></strong></p>
<div id="crayon-552f4bc33354f763764509" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview/">Android ListView</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-listview/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">202</post-id>	</item>
	</channel>
</rss>
