<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Android Basics &#8211; Androhub</title>
	<atom:link href="http://www.androhub.com/category/android-basics/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.androhub.com</link>
	<description>Meet Professor Dro!d !!</description>
	<lastBuildDate>Thu, 21 Dec 2017 20:24:53 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.5.12</generator>
<site xmlns="com-wordpress:feed-additions:1">113004364</site>	<item>
		<title>Android Home Screen Widgets</title>
		<link>http://www.androhub.com/android-home-screen-widgets/</link>
		<comments>http://www.androhub.com/android-home-screen-widgets/#respond</comments>
		<pubDate>Tue, 11 Apr 2017 16:13:09 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[app widgets]]></category>
		<category><![CDATA[appwidget provider]]></category>
		<category><![CDATA[home screen widgets]]></category>
		<category><![CDATA[meta data]]></category>
		<category><![CDATA[update widget]]></category>
		<category><![CDATA[widget types]]></category>
		<category><![CDATA[widgets]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1254</guid>
		<description><![CDATA[<p>App widgets can be thought of as a small window or controller for an Android app that can be embedded in another application (like the home screen). They can be very useful, allowing users to view or control an app without actually launching it. The great thing about widgets is that they can be updated [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-home-screen-widgets/">Android Home Screen Widgets</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p><a href="https://developer.android.com/guide/topics/appwidgets/index.html" target="_blank">App widgets</a> can be thought of as a small window or controller for an Android app that can be embedded in another application (like the home screen). They can be very useful, allowing users to view or control an app without actually launching it. The great thing about widgets is that they can be updated automatically (after a time period), or in response to user action. These views are referred to as Widgets in the user interface, and you can publish one with an App Widget provider. An application component that is able to hold other App Widgets is called an App Widget host.</p>
<h2>The Basics</h2>
<p>To create an App Widget, you need the following:</p>
<ol>
<li><strong><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html" target="_blank">AppWidgetProviderInfo</a></code> object</strong> :Â Describes the metadata for an App Widget, such as the App Widget&#8217;s layout, update frequency, and the AppWidgetProvider class. This should be defined in XML.</li>
<li><strong><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html" target="_blank">AppWidgetProvider</a></code> class implementatio</strong>n :Â Defines the basic methods that allow you to programmatically interface with the App Widget, based on broadcast events. Through it, you will receive broadcasts when the App Widget is updated, enabled, disabled and deleted.</li>
<li><strong>View layout</strong> :Â Defines the initial layout for the App Widget, defined in XML.</li>
</ol>
<h2>Widget Size</h2>
<p>Before Android 3.1 a widget always took a fixed amount of cells on the home screen. A cell is usually used to display the icon of one application. As a calculation rule you should define the size of the widget with the formula: <strong>((Number of columns / rows) * 74) &#8211; 2</strong>. These are device independent pixels and the -2 is used to avoid rounding errors.</p>
<p>As of Android 3.1 a widget can be flexible in size, e.g., the user can make it larger or smaller. To enable this for widget, you can use the <strong>android:resizeMode=&#8221;horizontal|vertical&#8221;</strong> attribute in the XML configuration file for the widget.</p>
<h2>Available View and Layouts</h2>
<p>A widget is restricted in the View classes it can use. As layouts you can use the <strong>FrameLayout</strong>, <strong>LinearLayout</strong> and <strong>RelativeLayout</strong> classes. As views you can use <strong>AnalogClock</strong>, <strong>Button</strong>, <strong>Chronometer</strong>, <strong>ImageButton</strong>, <strong>ImageView</strong>, <strong>ProgressBar</strong> and <strong>TextView</strong>.</p>
<p>As of Android 3.0 more views are available: <strong>GridView</strong>, <strong>ListView</strong>, <strong>StackView</strong>, <strong>ViewFlipper</strong> and <strong>AdapterViewFlipper</strong>. These adapter views require that you define a collection view widget which is described later in this {<strong>textselfreference</strong>}.</p>
<p>The only interaction that is possible with the views of a widget is via an <strong>OnClickListener</strong> event. This OnClickListener can be registered on a widget and is triggered by the user.</p>
<h2>AppWidgetProvider</h2>
<p>Your BroadcastReceiver implementation typically extends the AppWidgetProvider class.</p>
<p>The AppWidgetProvider class implements the <strong>onReceive()</strong> method, extracts the required information and calls the following widget life cycle methods.</p>
<p>As you can add several instances of a widget to the home screen, you have life cycle methods which are called only for the first instance added / removed to the home screen and others which are called for every instance of your widget. Below is the table describing all methods :</p>

<table id="tablepress-39" class="tablepress tablepress-id-39">
<thead>
<tr class="row-1 odd">
	<th class="column-1">Method</th><th class="column-2">Description</th>
</tr>
</thead>
<tbody class="row-hover">
<tr class="row-2 even">
	<td class="column-1">onEnabled()</td><td class="column-2">Called the first time an instance of your widget is added to the home screen.</td>
</tr>
<tr class="row-3 odd">
	<td class="column-1">onDisabled()</td><td class="column-2">Called once the last instance of your widget is removed from the home screen.</td>
</tr>
<tr class="row-4 even">
	<td class="column-1">onUpdate()</td><td class="column-2">Called for every update of the widget. Contains the ids of appWidgetIds for which an update is needed. Note that this may be all of the AppWidget instances for this provider, or just a subset of them, as stated in the methodâ€™s JavaDoc. For example, if more than one widget is added to the home screen, only the last one changes (until reinstall).</td>
</tr>
<tr class="row-5 odd">
	<td class="column-1">onDeleted()</td><td class="column-2">Widget instance is removed from the home screen.</td>
</tr>
</tbody>
</table>
<!-- #tablepress-39 from cache -->
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to create a simple Android widget, that updates automatically every 30 minutes, or in response to the user tapping the update button on the widget. Our widget generates and displays a random textÂ on every update.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_56946" width="602" height="339" src="https://www.youtube.com/embed/iJeh3x09Ya8?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res â‡’ values â‡’ strings.xml</strong> and add below string values. These are some strings that we are going to use in our project.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Widget Demo&lt;/string&gt;
    &lt;string name="widget_provider_app"&gt;Widget Provider App&lt;/string&gt;
    &lt;string name="refreshed_data"&gt;Refreshed Data.&lt;/string&gt;
    &lt;string name="refresh"&gt;Refresh&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>3</b>.Â Let&#8217;s create a layout for our widget naming <em>app_widget_layout.xmlÂ </em>and add place the below code into it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@android:color/darker_gray"
    android:paddingLeft="5dp"
    tools:context="com.widget_demo.MainActivity"&gt;

    &lt;ImageView
        android:id="@+id/app_widget_imageView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:src="@mipmap/ic_launcher_round" /&gt;

    &lt;TextView
        android:id="@+id/app_widget_textView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:gravity="center"
        android:padding="10dp"
        android:text="@string/refreshed_data"
        android:textSize="13sp"
        android:textStyle="bold" /&gt;

    &lt;Button
        android:id="@+id/app_widget_actionButton"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:background="@color/colorPrimary"
        android:paddingLeft="5dp"
        android:paddingRight="5dp"
        android:text="@string/refresh"
        android:textSize="11sp" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>4</b>. Now create new java class naming <em>MyWidgetProvider.java</em> thatÂ  extend <strong>AppWidgetProvider</strong>. AppWidgetProvider has methods that are called when the app widget is updated, deleted, enabled and disabled among others. For our implementation, we only override <strong>onUpdate()</strong>, because it is the method called whenever the widget is added to a host.</p><pre class="crayon-plain-tag">package com.widget_demo;

import android.app.PendingIntent;
import android.appwidget.AppWidgetManager;
import android.appwidget.AppWidgetProvider;
import android.content.Context;
import android.content.Intent;
import android.widget.RemoteViews;

import java.util.Random;

/**
 * Created by sonu on 10/04/17.
 */

public class MyWidgetProvider extends AppWidgetProvider {
    // String array to show text at textview on refresh
    private static final String[] refreshStrings = {"Refreshed successfully.", "Data Loaded.", "Done loading.", "Refreshed.", "Great Job."};

    @Override
    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {

        // Perform this loop procedure for each App Widget that belongs to this provider
        for (int widgetId : appWidgetIds) {
            //get random text from refreshStrings
            String stringText = refreshStrings[new Random().nextInt(refreshStrings.length)];

            // Create an Intent to launch MainActivity
            Intent intent = new Intent(context, MainActivity.class);
            PendingIntent pendingIntent = PendingIntent.getActivity(context,
                    0, intent, 0);

            // Create an Intent to Refresh MyWidgetProvider
            Intent intent1 = new Intent(context, MyWidgetProvider.class);
            intent1.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);
            intent1.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, appWidgetIds);
            PendingIntent pendingIntent1 = PendingIntent.getBroadcast(context,
                    0, intent1, 0);

            // Get the layout for the App Widget and attach an on-click listener
            // to the button and imageview
            RemoteViews remoteViews = new RemoteViews(context.getPackageName(),
                    R.layout.app_widget_layout);

            //set the random text
            remoteViews.setTextViewText(R.id.app_widget_textView, stringText);

            //set pending intent1 to action button to refresh Widget
            remoteViews.setOnClickPendingIntent(R.id.app_widget_actionButton, pendingIntent1);

            //set the pending intent to open MainActivity
            remoteViews.setOnClickPendingIntent(R.id.app_widget_imageView, pendingIntent);

            // Tell the AppWidgetManager to perform an update on the current app widget
            appWidgetManager.updateAppWidget(widgetId, remoteViews);
        }
    }

}</pre><p>
<div id="attachment_1258" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1258 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/default_widget.jpg?resize=576%2C1024" alt="Home Screen Widget" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/default_widget.jpg?resize=576%2C1024 576w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/default_widget.jpg?resize=169%2C300 169w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/default_widget.jpg?resize=768%2C1365 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/default_widget.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Home Screen Widget</p></div>
<div id="attachment_1260" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1260 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/resize_widget.jpg?resize=576%2C1024" alt="Resize Widget" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/resize_widget.jpg?resize=576%2C1024 576w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/resize_widget.jpg?resize=169%2C300 169w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/resize_widget.jpg?resize=768%2C1365 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/resize_widget.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Resize Widget</p></div>
<p><b>5</b>.Â Now to provideÂ <strong>AppWidgetProviderInfo</strong> metadata we need to createÂ xml file that defines additional information, features and data related to the widget. Data such as minimum layout dimensions (width and height), if the widget should be available on the lock screen (Android 4.2 and above), how frequently the widget should be updated, among many others. We define an xml file, called <em>app_widget_provider_info.xml</em> under Â res/xml folder.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:initialLayout="@layout/app_widget_layout"
    android:minHeight="50dp"
    android:minWidth="200dp"
    android:previewImage="@mipmap/ic_launcher_round"
    android:resizeMode="horizontal|vertical"
    android:updatePeriodMillis="1800000"
    android:widgetCategory="home_screen|keyguard" /&gt;</pre><p>
<div id="attachment_1259" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1259 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/find_widget.jpg?resize=576%2C1024" alt="Find Widget" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/find_widget.jpg?resize=576%2C1024 576w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/find_widget.jpg?resize=169%2C300 169w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/find_widget.jpg?resize=768%2C1365 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/find_widget.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Find Widget</p></div>
<p><b>6</b>.Â The final step is to add the app widget to the <em>AndroidManifest.xmlÂ </em>file. Within the <strong>&lt;application&gt; &lt;/application&gt;</strong> element tags, place the below lines.</p><pre class="crayon-plain-tag">&lt;!--  Declare WidgetProvider  --&gt;
        &lt;receiver android:name=".MyWidgetProvider"&gt;

            &lt;!--  Add  APPWIDGET_UPDATE intent filter here to receiver Widget Update   --&gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.appwidget.action.APPWIDGET_UPDATE" /&gt;
            &lt;/intent-filter&gt;

            &lt;!--  Add app widget provider info xml in meta data --&gt;
            &lt;meta-data
                android:name="android.appwidget.provider"
                android:resource="@xml/app_widget_provider_info" /&gt;
        &lt;/receiver&gt;</pre><p>
<b>7</b>. Finally all done, now you can also make appsÂ with Widgets.</p>
<p class="graf graf--p graf-after--figure">Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/Widget_Demo.zip" target="_blank">Download Source Code â€“ &gt;</a></strong></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-home-screen-widgets/">Android Home Screen Widgets</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-home-screen-widgets/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1254</post-id>	</item>
		<item>
		<title>Android AlarmManager</title>
		<link>http://www.androhub.com/android-alarmmanager/</link>
		<comments>http://www.androhub.com/android-alarmmanager/#comments</comments>
		<pubDate>Mon, 10 Apr 2017 16:21:02 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[alarm manager]]></category>
		<category><![CDATA[broadcast receiver]]></category>
		<category><![CDATA[intent service]]></category>
		<category><![CDATA[media player]]></category>
		<category><![CDATA[notification]]></category>
		<category><![CDATA[radio button]]></category>
		<category><![CDATA[service]]></category>
		<category><![CDATA[stop alarm]]></category>
		<category><![CDATA[trigger alarm]]></category>
		<category><![CDATA[wake lock]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1245</guid>
		<description><![CDATA[<p>Daily we used to set Alarms in our phone to wake up in morning or for some meetings, etc. I used to set lot of alarms for morning but unfortunately i used to wake up late only. ðŸ˜› Â So today we are going to learn about Alarms.Â Alarms (based on the AlarmManager class) give you a [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-alarmmanager/">Android AlarmManager</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Daily we used to set Alarms in our phone to wake up in morning or for some meetings, etc. I used to set lot of alarms for morning but unfortunately i used to wake up late only. <img src="https://s.w.org/images/core/emoji/72x72/1f61b.png" alt="ðŸ˜›" class="wp-smiley" style="height: 1em; max-height: 1em;" /> Â So today we are going to learn about Alarms.Â <a href="https://developer.android.com/training/scheduling/alarms.html" target="_blank">Alarms</a> (based on the <a href="https://developer.android.com/reference/android/app/AlarmManager.html" target="_blank">AlarmManager</a> class) give you a way to perform time-based operations outside the lifetime of your application. For example, you could use an alarm to initiate a long-running operation, such as starting a service once a day to download a weather forecast. You can schedule your application to run at a specific time in the future. It works whether your phone is running or not.</p>
<p>AlarmManager is having different characteristics mentioned below:</p>
<ul>
<li>AlarmManager runs outside the lifetime of your application. Once an alarm is scheduled, it will invoke even when your application is not running or in sleep mode.</li>
<li>An scheduled alarm will execute unless it is stopped explicitly by calling <strong>cancel()</strong> method, or until device reboots.</li>
<li>All scheduled alarms will be stopped when device reboots. This means, you need to re-schedule them explicitly when device boot completes.</li>
<li>AlarmManger fires an Intent at given intervals. This can be used along with broadcast receivers to start a service to perform network operations.</li>
<li>AlarmManager is different form java <strong>Timer</strong> and <strong>TimerTask</strong>.</li>
</ul>
<p>Android supports two clock types for alarm service; <strong>E</strong><strong>lapsed real time</strong> and <strong>real time clock (RTC)</strong>. Elapsed real time uses the time since device last booted. Real time clock (RTC) uses UTC time for alarm service clock. RTC is most commonly used for setting alarm service in android. The following example, using RTC to schedule alarm.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-radiobutton/" target="_blank">Radio Button.</a></li>
<li><a href="http://www.androhub.com/android-notification-bar/" target="_blank">Notification Manager.</a></li>
<li><a href="http://www.androhub.com/android-services/" target="_blank">Services</a>.</li>
<li><a href="http://www.androhub.com/android-detect-internet-connection-using-broadcast-receiver/" target="_blank">Broadcast Receiver.</a></li>
</ol>
<h2>Example</h2>
<p>In this tutorial, we will learn how to use AlarmManager that runs after a specific time provided by user.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_91766" width="602" height="339" src="https://www.youtube.com/embed/ACdfHopj58E?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res â‡’ values â‡’ strings.xml</strong> and add below string values. These are some strings that we are going to use in our project.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Alarm Manager Demo&lt;/string&gt;
    &lt;string name="stop_alarm"&gt;Stop Alarm&lt;/string&gt;
    &lt;string name="start_alarm"&gt;Start Alarm&lt;/string&gt;
    &lt;string name="edit_text_hint"&gt;Input your Alarm time&lt;/string&gt;
    &lt;string name="hours"&gt;Hours&lt;/string&gt;
    &lt;string name="minutes"&gt;Minutes&lt;/string&gt;
    &lt;string name="seconds"&gt;Seconds&lt;/string&gt;
    &lt;string name="label"&gt;Select your Alarm input type from below:&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>3</b>.Â Open your <em>activity_main.xml</em> layout and place the below code to it. The layout containsÂ some RadioButton, Edit Text and Button.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="10dp"
    tools:context="com.alarmmanager_demo.MainActivity"&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/label"
        android:textColor="@android:color/white"
        android:textSize="13sp" /&gt;

    &lt;RadioGroup
        android:id="@+id/time_type_selection_radio_group"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:orientation="horizontal"
        android:padding="5dp"&gt;

        &lt;RadioButton
            android:id="@+id/seconds_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:checked="true"
            android:gravity="center_vertical"
            android:text="@string/seconds"
            android:textColor="@android:color/white" /&gt;

        &lt;RadioButton
            android:id="@+id/minutes_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:text="@string/minutes"
            android:textColor="@android:color/white" /&gt;

        &lt;RadioButton
            android:id="@+id/hours_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:text="@string/hours"
            android:textColor="@android:color/white" /&gt;
    &lt;/RadioGroup&gt;

    &lt;EditText
        android:id="@+id/input_interval_time"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="@string/edit_text_hint"
        android:inputType="number"
        android:padding="10dp"
        android:textColor="@android:color/white"
        android:textColorHint="@android:color/darker_gray"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/start_alarm_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dp"
        android:background="@color/colorPrimary"
        android:text="@string/start_alarm"
        android:textColor="@android:color/white"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/stop_alarm_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dp"
        android:background="@color/colorPrimary"
        android:text="@string/stop_alarm"
        android:textColor="@android:color/white"
        android:textSize="14sp" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>4</b>.Â Now create Broadcast Receiver java class naming <em>AlarmReceiver.java</em> whichÂ will invoke by <strong>AlarmManger</strong>.Â Here you can do your task like I am running AlarmSound by starting a service and also displaying a Notification.</p><pre class="crayon-plain-tag">package com.alarmmanager_demo;

import android.content.BroadcastReceiver;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.widget.Toast;

import static android.support.v4.content.WakefulBroadcastReceiver.startWakefulService;

/**
 * Created by sonu on 09/04/17.
 */

public class AlarmReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        Toast.makeText(context, "ALARM!! ALARM!!", Toast.LENGTH_SHORT).show();

        //Stop sound service to play sound for alarm
        context.startService(new Intent(context, AlarmSoundService.class));

        //This will send a notification message and show notification in notification tray
        ComponentName comp = new ComponentName(context.getPackageName(),
                AlarmNotificationService.class.getName());
        startWakefulService(context, (intent.setComponent(comp)));

    }


}</pre><p>
<div id="attachment_1248" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1248 size-large" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_triggered.jpg?resize=576%2C1024" alt="Alarm Triggered" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_triggered.jpg?resize=576%2C1024 576w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_triggered.jpg?resize=169%2C300 169w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_triggered.jpg?resize=768%2C1365 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_triggered.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Alarm Triggered</p></div>
<p><b>5</b>.Â Let us have a look into <em>MainActivity.java</em> file. In this class, we have defined twoÂ simple methods <em>triggerAlarmManager(int alarmTriggerTime)</em> and <em>stopAlarmManager().</em></p>
<ul>
<li><strong>Retrieve PendingIntent</strong> : These two lines of use to get the PendingIntent of <em>AlarmReceiver</em> broadcast receiver.</li>
</ul>
<pre class="crayon-plain-tag">/* Retrieve a PendingIntent that will perform a broadcast */
        Intent alarmIntent = new Intent(MainActivity.this, AlarmReceiver.class);
        pendingIntent = PendingIntent.getBroadcast(MainActivity.this, ALARM_REQUEST_CODE, alarmIntent, 0);</pre>
<ul>
<li><strong>Trigger AlarmManager</strong> :<em>triggerAlarmManager(int alarmTriggerTime)</em> method use to set the AlarmManager at particular time that we pass in parameter.</li>
</ul>
<pre class="crayon-plain-tag">//Trigger alarm manager with entered time interval
    public void triggerAlarmManager(int alarmTriggerTime) {
        // get a Calendar object with current time
        Calendar cal = Calendar.getInstance();
        // add alarmTriggerTime seconds to the calendar object
        cal.add(Calendar.SECOND, alarmTriggerTime);

        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);//get instance of alarm manager
        manager.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pendingIntent);//set alarm manager with entered timer by converting into milliseconds

        Toast.makeText(this, "Alarm Set for " + alarmTriggerTime + " seconds.", Toast.LENGTH_SHORT).show();
    }</pre>
<div id="attachment_1249" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1249 size-large" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/04/set_alarm.jpg?resize=576%2C1024" alt="Set AlarmManager" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/04/set_alarm.jpg?resize=576%2C1024 576w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/04/set_alarm.jpg?resize=169%2C300 169w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/04/set_alarm.jpg?resize=768%2C1365 768w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2017/04/set_alarm.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Set AlarmManager</p></div>
<ul>
<li><strong>Stop AlarmManager</strong> :<em>stopAlarmManager()</em> method use to stop any running alarm. As I am playing sound and displaying notification as well so i am stopping the sound and cancelling the notification respectively.</li>
</ul>
<pre class="crayon-plain-tag">//Stop/Cancel alarm manager
    public void stopAlarmManager() {

        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
        manager.cancel(pendingIntent);//cancel the alarm manager of the pending intent


        //Stop the Media Player Service to stop sound
        stopService(new Intent(MainActivity.this, AlarmSoundService.class));

        //remove the notification from notification tray
        NotificationManager notificationManager = (NotificationManager) this
                .getSystemService(Context.NOTIFICATION_SERVICE);
        notificationManager.cancel(AlarmNotificationService.NOTIFICATION_ID);

        Toast.makeText(this, "Alarm Canceled/Stop by User.", Toast.LENGTH_SHORT).show();
    }</pre>
<span style="text-decoration: underline;"><strong>Final Source Code</strong></span><br />
<pre class="crayon-plain-tag">package com.alarmmanager_demo;

import android.app.AlarmManager;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.EditText;
import android.widget.RadioButton;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    //Pending intent instance
    private PendingIntent pendingIntent;

    private RadioButton secondsRadioButton, minutesRadioButton, hoursRadioButton;

    //Alarm Request Code
    private static final int ALARM_REQUEST_CODE = 133;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //Find id of all radio buttons
        secondsRadioButton = (RadioButton) findViewById(R.id.seconds_radio_button);
        minutesRadioButton = (RadioButton) findViewById(R.id.minutes_radio_button);
        hoursRadioButton = (RadioButton) findViewById(R.id.hours_radio_button);

        /* Retrieve a PendingIntent that will perform a broadcast */
        Intent alarmIntent = new Intent(MainActivity.this, AlarmReceiver.class);
        pendingIntent = PendingIntent.getBroadcast(MainActivity.this, ALARM_REQUEST_CODE, alarmIntent, 0);

        //Find id of Edit Text
        final EditText editText = (EditText) findViewById(R.id.input_interval_time);

        //Set On CLick over start alarm button
        findViewById(R.id.start_alarm_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String getInterval = editText.getText().toString().trim();//get interval from edittext

                //check interval should not be empty and 0
                if (!getInterval.equals("") &amp;&amp; !getInterval.equals("0"))
                    //finally trigger alarm manager
                    triggerAlarmManager(getTimeInterval(getInterval));

            }
        });

        //set on click over stop alarm button
        findViewById(R.id.stop_alarm_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                //Stop alarm manager
                stopAlarmManager();
            }
        });

    }

    //get time interval to trigger alarm manager
    private int getTimeInterval(String getInterval) {
        int interval = Integer.parseInt(getInterval);//convert string interval into integer

        //Return interval on basis of radio button selection
        if (secondsRadioButton.isChecked())
            return interval;
        if (minutesRadioButton.isChecked())
            return interval * 60;//convert minute into seconds
        if (hoursRadioButton.isChecked()) return interval * 60 * 60;//convert hours into seconds

        //else return 0
        return 0;
    }


    //Trigger alarm manager with entered time interval
    public void triggerAlarmManager(int alarmTriggerTime) {
        // get a Calendar object with current time
        Calendar cal = Calendar.getInstance();
        // add alarmTriggerTime seconds to the calendar object
        cal.add(Calendar.SECOND, alarmTriggerTime);

        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);//get instance of alarm manager
        manager.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pendingIntent);//set alarm manager with entered timer by converting into milliseconds

        Toast.makeText(this, "Alarm Set for " + alarmTriggerTime + " seconds.", Toast.LENGTH_SHORT).show();
    }

    //Stop/Cancel alarm manager
    public void stopAlarmManager() {

        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
        manager.cancel(pendingIntent);//cancel the alarm manager of the pending intent


        //Stop the Media Player Service to stop sound
        stopService(new Intent(MainActivity.this, AlarmSoundService.class));

        //remove the notification from notification tray
        NotificationManager notificationManager = (NotificationManager) this
                .getSystemService(Context.NOTIFICATION_SERVICE);
        notificationManager.cancel(AlarmNotificationService.NOTIFICATION_ID);

        Toast.makeText(this, "Alarm Canceled/Stop by User.", Toast.LENGTH_SHORT).show();
    }
}</pre>
<b>6</b>.Â As we started sound service in<em> AlarmReceiver.java</em> class, so now create a <em>AlarmSoundService.java</em> class extending with Service. This class will use to play the alarm sound in <strong>onCreate()</strong> and stop the sound in <strong>onDestroy()</strong> when user stops the Alarm.</p>
<p>You can download the Alarm Sound mp3 file from this <a href="http://www.orangefreesounds.com/" target="_blank">link</a>. Its a good website for Alarm Sounds.</p><pre class="crayon-plain-tag">package com.alarmmanager_demo;

import android.app.Service;
import android.content.Intent;
import android.media.MediaPlayer;
import android.os.IBinder;
import android.support.annotation.Nullable;

/**
 * Created by sonu on 10/04/17.
 */

public class AlarmSoundService extends Service {
    private MediaPlayer mediaPlayer;

    @Nullable
    @Override
    public IBinder onBind(Intent intent) {
        return null;
    }

    @Override
    public void onCreate() {
        super.onCreate();

        //Start media player
        mediaPlayer = MediaPlayer.create(this, R.raw.alarm_sound);
        mediaPlayer.start();
        mediaPlayer.setLooping(true);//set looping true to run it infinitely
    }

    @Override
    public void onDestroy() {
        super.onDestroy();

        //On destory stop and release the media player
        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {
            mediaPlayer.stop();
            mediaPlayer.reset();
            mediaPlayer.release();
        }
    }
}</pre><p>
<b>7</b>.Â Also we are displaying Notification when Alarm starts so lets create new java class naming <em>AlarmNotificationService.java</em> and extend it with <a href="https://developer.android.com/reference/android/app/IntentService.html" target="_blank">IntentService</a>. This class used to show notification.</p><pre class="crayon-plain-tag">package com.alarmmanager_demo;

import android.app.IntentService;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.support.v4.app.NotificationCompat;

/**
 * Created by sonu on 10/04/17.
 */

public class AlarmNotificationService extends IntentService {
    private NotificationManager alarmNotificationManager;

    //Notification ID for Alarm
    public static final int NOTIFICATION_ID = 1;

    public AlarmNotificationService() {
        super("AlarmNotificationService");
    }

    @Override
    public void onHandleIntent(Intent intent) {

        //Send notification
        sendNotification("Wake Up! Wake Up! Alarm started!!");
    }

    //handle notification
    private void sendNotification(String msg) {
        alarmNotificationManager = (NotificationManager) this
                .getSystemService(Context.NOTIFICATION_SERVICE);

        //get pending intent
        PendingIntent contentIntent = PendingIntent.getActivity(this, 0,
                new Intent(this, MainActivity.class), PendingIntent.FLAG_UPDATE_CURRENT);

        //Create notification
        NotificationCompat.Builder alamNotificationBuilder = new NotificationCompat.Builder(
                this).setContentTitle("Alarm").setSmallIcon(R.mipmap.ic_launcher)
                .setStyle(new NotificationCompat.BigTextStyle().bigText(msg))
                .setContentText(msg).setAutoCancel(true);
        alamNotificationBuilder.setContentIntent(contentIntent);

        //notiy notification manager about new notification
        alarmNotificationManager.notify(NOTIFICATION_ID, alamNotificationBuilder.build());
    }


}</pre><p>
<div id="attachment_1247" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1247 size-large" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_notification.jpg?resize=576%2C1024" alt="Alarm Notification" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_notification.jpg?resize=576%2C1024 576w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_notification.jpg?resize=169%2C300 169w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_notification.jpg?resize=768%2C1365 768w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2017/04/alarm_notification.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Alarm Notification</p></div>
<p><b>8</b>.Â AlsoÂ don&#8217;t forget to declare BroadCastReceiver, Service and IntentService in Manifest file and as we are showing notification with WAKE_LOCK so use the <strong>android.permission.WAKE_LOCK</strong> permission. Your <em>AndroidManifest.xml</em> will look like as below.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.alarmmanager_demo"&gt;

    &lt;!--  Permission required to Waking Lock if device screen is off  --&gt;
    &lt;uses-permission android:name="android.permission.WAKE_LOCK" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme"&gt;
        &lt;activity android:name=".MainActivity"&gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;

        &lt;!--  Declare  Alarm Broadcast receiver here  --&gt;
        &lt;receiver android:name=".AlarmReceiver" /&gt;

        &lt;!--  Declare  Alarm Notification Service here  --&gt;
        &lt;service android:name=".AlarmNotificationService" /&gt;

        &lt;!--  Declare  Alarm Sound Service here  --&gt;
        &lt;service android:name=".AlarmSoundService" /&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</pre><p>
<b>9</b>. Finally all done, now you can also make apps with AlarmManager.</p>
<p class="graf graf--p graf-after--figure">Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/AlarmManager_Demo.zip" target="_blank">Download Source Code â€“ &gt;</a></strong></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-alarmmanager/">Android AlarmManager</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-alarmmanager/feed/</wfw:commentRss>
		<slash:comments>19</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1245</post-id>	</item>
		<item>
		<title>Android Drag and Drop</title>
		<link>http://www.androhub.com/android-drag-and-drop/</link>
		<comments>http://www.androhub.com/android-drag-and-drop/#comments</comments>
		<pubDate>Thu, 06 Apr 2017 05:29:55 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[clip data]]></category>
		<category><![CDATA[drag]]></category>
		<category><![CDATA[drag and drop]]></category>
		<category><![CDATA[drag events]]></category>
		<category><![CDATA[drop]]></category>
		<category><![CDATA[on long click]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1229</guid>
		<description><![CDATA[<p>Android drag/drop framework allows your users to move data from one View to another View in the current layout using a graphical drag and drop gesture. Although the framework is primarily designed for data movement, you can use it for other UI actions. For example, you could create an app that mixes colors when the [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-drag-and-drop/">Android Drag and Drop</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Android <a href="https://developer.android.com/guide/topics/ui/drag-drop.html" target="_blank">drag/drop</a> framework allows your users to move data from one View to another View in the current layout using a graphical drag and drop gesture.</p>
<p>Although the framework is primarily designed for data movement, you can use it for other UI actions. For example, you could create an app that mixes colors when the user drags a color icon over another icon.</p>
<p><strong>NOTE: You will need to set a minimum SDK version of 11 to use the drag and drop processing.</strong></p>
<h2>The Drag &amp; Drop Process</h2>
<p>There are basically four steps or states in the drag and drop process âˆ’</p>
<ul>
<li><strong>STARTED</strong>Â : This event occurs when you start dragging an item in a layout, your application calls <strong>startDrag()</strong> method to tell the system to start a drag. The arguments inside <strong>startDrag()</strong> method provide the data to be dragged, metadata for this data, and a callback for drawing the drag shadow.The system first responds by calling back to your application to get a drag shadow. It then displays the drag shadow on the device.Next, the system sends a drag event with action type <strong>ACTION_DRAG_STARTED</strong> to the registered drag event listeners for all the View objects in the current layout.To continue to receive drag events, including a possible drop event, a drag event listener must return true, If the drag event listener returns false, then it will not receive drag events for the current operation until the system sends a drag event with action type <strong>ACTION_DRAG_ENDED.</strong></li>
</ul>
<ul>
<li><strong>CONTINUING</strong>Â : The user continues the drag. System sends <strong>ACTION_DRAG_ENTERED</strong> action followed by <strong>ACTION_DRAG_LOCATION</strong> action to the registered drag event listener for the View where dragging point enters. The listener may choose to alter its View object&#8217;s appearance in response to the event or can react by highlighting its View.The drag event listener receives a <strong>ACTION_DRAG_EXITED</strong> action after the user has moved the drag shadow outside the bounding box of the View.</li>
</ul>
<ul>
<li><strong>DROPPED</strong>Â :Â The user releases the dragged item within the bounding box of a View. The system sends the View object&#8217;s listener a drag event with action type <strong>ACTION_DROP</strong>.</li>
</ul>
<ul>
<li><strong>ENDED</strong>Â :Â Just after the action type <strong>ACTION_DROP</strong>, the system sends out a drag event with action type <strong>ACTION_DRAG_ENDED</strong> to indicate that the drag operation is over. Here you can display any Toast messages.</li>
</ul>
<h2></h2>
<h2>Drag Event Listener and Callback Method</h2>
<p>The DragEvent represents an event that is sent out by the system at various times during a drag and drop operation. This class provides few Drag EventsÂ and important methods which we use during Drag/Drop process.</p>
<p>Following are all eventsÂ integers available as a part of DragEvent class.</p>

<table id="tablepress-38" class="tablepress tablepress-id-38">
<thead>
<tr class="row-1 odd">
	<th class="column-1">Drag Event</th><th class="column-2">Meaning</th>
</tr>
</thead>
<tbody class="row-hover">
<tr class="row-2 even">
	<td class="column-1">ACTION_DRAG_STARTED</td><td class="column-2">Signals the start of a drag and drop operation.</td>
</tr>
<tr class="row-3 odd">
	<td class="column-1">ACTION_DRAG_ENTERED</td><td class="column-2">Signals to a View that the drag point has entered the bounding box of the View.</td>
</tr>
<tr class="row-4 even">
	<td class="column-1">ACTION_DRAG_LOCATION</td><td class="column-2">Sent to a View after ACTION_DRAG_ENTERED if the drag shadow is still within the View object's bounding box.</td>
</tr>
<tr class="row-5 odd">
	<td class="column-1">ACTION_DRAG_EXITED</td><td class="column-2">Signals that the user has moved the drag shadow outside the bounding box of the View.</td>
</tr>
<tr class="row-6 even">
	<td class="column-1">ACTION_DROP</td><td class="column-2">Signals to a View that the user has released the drag shadow, and the drag point is within the bounding box of the View.</td>
</tr>
<tr class="row-7 odd">
	<td class="column-1">ACTION_DRAG_ENDED</td><td class="column-2">Signals to a View that the drag and drop operation has concluded.</td>
</tr>
</tbody>
</table>
<!-- #tablepress-38 from cache -->
<h2>Example</h2>
<p>In this tutorial, we will implement a drag-and-drop operation with TextView, ImageView and Button.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_29174" width="602" height="339" src="https://www.youtube.com/embed/5SQrpBQne7A?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>.Â Open your <em>activity_main.xml</em> layout and place the below code to it. The layout contains three Linear Layout which will received dragged view.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context="com.dragdrop_demo.MainActivity"&gt;

    &lt;LinearLayout
        android:id="@+id/top_layout"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:background="@color/blue"
        android:gravity="center"
        android:orientation="vertical"&gt;

        &lt;TextView
            android:id="@+id/label"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:text="@string/draggable_text"
            android:textColor="@android:color/black"
            android:textSize="20sp" /&gt;

        &lt;ImageView
            android:id="@+id/image_view"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@mipmap/ic_launcher" /&gt;

        &lt;Button
            android:id="@+id/button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/draggable_button" /&gt;
    &lt;/LinearLayout&gt;

    &lt;LinearLayout
        android:id="@+id/yellowLayout"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:gravity="center"
        android:orientation="horizontal"&gt;

        &lt;LinearLayout
            android:id="@+id/left_layout"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:background="@color/colorPrimary"
            android:gravity="center"
            android:orientation="vertical" /&gt;

        &lt;LinearLayout
            android:id="@+id/right_layout"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:background="@color/colorAccent"
            android:gravity="center"
            android:orientation="vertical" /&gt;
    &lt;/LinearLayout&gt;


&lt;/LinearLayout&gt;</pre><p>
<b>3</b>.Â This point willÂ shows step-by-step how to start a drag, how to respond to events during the drag, how respond to a drop event, and how to end the drag and drop operation.</p>
<ul>
<li>
<h3><strong>Starting a drag :</strong></h3>
</li>
</ul>
<p>The user starts a drag with a drag gesture, usually a long press, on a View object. In response, you should do the following:</p>
<p>As necessary, create a <a href="https://developer.android.com/reference/android/content/ClipData.html" target="_blank">ClipData</a> and <a href="https://developer.android.com/reference/android/content/ClipData.Item.html" target="_blank">ClipData.Item</a> for the data being moved. As part of the ClipData object, supply metadata that is stored in a <a href="https://developer.android.com/reference/android/content/ClipDescription.html" target="_blank">ClipDescription</a> object within the ClipData. For a drag and drop operation that does not represent data movement, you may want to use null instead of an actual object.</p>
<p>If you want to learn about ClipData then refer to this <a href="http://www.androhub.com/android-clipboard-tutorial/" target="_blank">link</a>.</p>
<p>For example, this below code snippet shows how to respond to a long press on a ViewÂ by creating a ClipData object that contains the tag or label of an View.</p><pre class="crayon-plain-tag">@Override
    public boolean onLongClick(View view) {
        // Create a new ClipData.
        // This is done in two steps to provide clarity. The convenience method
        // ClipData.newPlainText() can create a plain text ClipData in one step.

        // Create a new ClipData.Item from the ImageView object's tag
        ClipData.Item item = new ClipData.Item((CharSequence) view.getTag());

        // Create a new ClipData using the tag as a label, the plain text MIME type, and
        // the already-created item. This will create a new ClipDescription object within the
        // ClipData, and set its MIME type entry to "text/plain"
        String[] mimeTypes = {ClipDescription.MIMETYPE_TEXT_PLAIN};

        ClipData data = new ClipData(view.getTag().toString(), mimeTypes, item);

        // Instantiates the drag shadow builder.
        View.DragShadowBuilder shadowBuilder = new View.DragShadowBuilder(view);

        // Starts the drag
        view.startDrag(data//data to be dragged
                , shadowBuilder //drag shadow
                , view//local data about the drag and drop operation
                , 0//no needed flags
        );

        //Set view visibility to INVISIBLE as we are going to drag the view
        view.setVisibility(View.INVISIBLE);
        return true;
    }</pre><p>
<div id="attachment_1243" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1243 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragging_mode.jpg?resize=576%2C1024" alt="Dragging Button" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragging_mode.jpg?resize=576%2C1024 576w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragging_mode.jpg?resize=169%2C300 169w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragging_mode.jpg?resize=768%2C1365 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragging_mode.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">Dragging Button</p></div>
<ul>
<li>
<h3><strong>Responding to a drag eventsÂ :Â </strong></h3>
</li>
</ul>
<p>All drag events are initially received by your drag event method or listener. The following code snippet is a simple example of reacting to drag events in a listener:</p><pre class="crayon-plain-tag">// This is the method that the system calls when it dispatches a drag event to the
    // listener.
    @Override
    public boolean onDrag(View view, DragEvent event) {
        // Defines a variable to store the action type for the incoming event
        int action = event.getAction();
        // Handles each of the expected events
        switch (action) {
            case DragEvent.ACTION_DRAG_STARTED:
                // Determines if this View can accept the dragged data
                if (event.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {
                    // if you want to apply color when drag started to your view you can uncomment below lines
                    // to give any color tint to the View to indicate that it can accept
                    // data.

                    //  view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);//set background color to your view

                    // Invalidate the view to force a redraw in the new tint
                    //  view.invalidate();

                    // returns true to indicate that the View can accept the dragged data.
                    return true;

                }

                // Returns false. During the current drag and drop operation, this View will
                // not receive events again until ACTION_DRAG_ENDED is sent.
                return false;

            case DragEvent.ACTION_DRAG_ENTERED:
                // Applies a YELLOW or any color tint to the View, when the dragged view entered into drag acceptable view
                // Return true; the return value is ignored.

                view.getBackground().setColorFilter(Color.YELLOW, PorterDuff.Mode.SRC_IN);

                // Invalidate the view to force a redraw in the new tint
                view.invalidate();

                return true;
            case DragEvent.ACTION_DRAG_LOCATION:
                // Ignore the event
                return true;
            case DragEvent.ACTION_DRAG_EXITED:
                // Re-sets the color tint to blue, if you had set the BLUE color or any color in ACTION_DRAG_STARTED. Returns true; the return value is ignored.

                //  view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);

                //If u had not provided any color in ACTION_DRAG_STARTED then clear color filter.
                view.getBackground().clearColorFilter();
                // Invalidate the view to force a redraw in the new tint
                view.invalidate();

                return true;
            case DragEvent.ACTION_DROP:
                // Gets the item containing the dragged data
                ClipData.Item item = event.getClipData().getItemAt(0);

                // Gets the text data from the item.
                String dragData = item.getText().toString();

                // Displays a message containing the dragged data.
                Toast.makeText(this, "Dragged data is " + dragData, Toast.LENGTH_SHORT).show();

                // Turns off any color tints
                view.getBackground().clearColorFilter();

                // Invalidates the view to force a redraw
                view.invalidate();

                View v = (View) event.getLocalState();
                ViewGroup owner = (ViewGroup) v.getParent();
                owner.removeView(v);//remove the dragged view
                LinearLayout container = (LinearLayout) view;//caste the view into LinearLayout as our drag acceptable layout is LinearLayout
                container.addView(v);//Add the dragged view
                v.setVisibility(View.VISIBLE);//finally set Visibility to VISIBLE

                // Returns true. DragEvent.getResult() will return true.
                return true;
            case DragEvent.ACTION_DRAG_ENDED:
                // Turns off any color tinting
                view.getBackground().clearColorFilter();

                // Invalidates the view to force a redraw
                view.invalidate();

                // Does a getResult(), and displays what happened.
                if (event.getResult())
                    Toast.makeText(this, "The drop was handled.", Toast.LENGTH_SHORT).show();

                else
                    Toast.makeText(this, "The drop didn't work.", Toast.LENGTH_SHORT).show();


                // returns true; the value is ignored.
                return true;

            // An unknown action type was received.
            default:
                Log.e("DragDrop Example", "Unknown action type received by OnDragListener.");
                break;
        }
        return false;
    }</pre><p>
<div id="attachment_1242" style="width: 586px" class="wp-caption aligncenter"><img class="wp-image-1242 size-large" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragged_mode.jpg?resize=576%2C1024" alt="After Dropping Button/View" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragged_mode.jpg?resize=576%2C1024 576w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragged_mode.jpg?resize=169%2C300 169w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragged_mode.jpg?resize=768%2C1365 768w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2017/04/dragged_mode.jpg?w=1080 1080w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /><p class="wp-caption-text">After Dropping Button/View</p></div>
<p><b>4</b>.Â Finally open up your <em>MainActivity.java</em> and place the below code to it. This class will contain all the drag and drop steps that we learned from the above step,</p><pre class="crayon-plain-tag">package com.dragdrop_demo;

import android.content.ClipData;
import android.content.ClipDescription;
import android.graphics.Color;
import android.graphics.PorterDuff;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;
import android.view.DragEvent;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity implements View.OnDragListener, View.OnLongClickListener {

    private static final String TAG = MainActivity.class.getSimpleName();
    private TextView textView;
    private Button button;
    private ImageView imageView;
    private static final String IMAGE_VIEW_TAG = "LAUNCHER LOGO";
    private static final String TEXT_VIEW_TAG = "DRAG TEXT";
    private static final String BUTTON_VIEW_TAG = "DRAG BUTTON";


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        findViews();
        implementEvents();
    }

    //Find all views and set Tag to all draggable views
    private void findViews() {
        textView = (TextView) findViewById(R.id.label);
        textView.setTag(TEXT_VIEW_TAG);
        imageView = (ImageView) findViewById(R.id.image_view);
        imageView.setTag(IMAGE_VIEW_TAG);
        button = (Button) findViewById(R.id.button);
        button.setTag(BUTTON_VIEW_TAG);
    }


    //Implement long click and drag listener
    private void implementEvents() {
        //add or remove any view that you don't want to be dragged
        textView.setOnLongClickListener(this);
        imageView.setOnLongClickListener(this);
        button.setOnLongClickListener(this);

        //add or remove any layout view that you don't want to accept dragged view
        findViewById(R.id.top_layout).setOnDragListener(this);
        findViewById(R.id.left_layout).setOnDragListener(this);
        findViewById(R.id.right_layout).setOnDragListener(this);
    }

    @Override
    public boolean onLongClick(View view) {
        // Create a new ClipData.
        // This is done in two steps to provide clarity. The convenience method
        // ClipData.newPlainText() can create a plain text ClipData in one step.

        // Create a new ClipData.Item from the ImageView object's tag
        ClipData.Item item = new ClipData.Item((CharSequence) view.getTag());

        // Create a new ClipData using the tag as a label, the plain text MIME type, and
        // the already-created item. This will create a new ClipDescription object within the
        // ClipData, and set its MIME type entry to "text/plain"
        String[] mimeTypes = {ClipDescription.MIMETYPE_TEXT_PLAIN};

        ClipData data = new ClipData(view.getTag().toString(), mimeTypes, item);

        // Instantiates the drag shadow builder.
        View.DragShadowBuilder shadowBuilder = new View.DragShadowBuilder(view);

        // Starts the drag
        view.startDrag(data//data to be dragged
                , shadowBuilder //drag shadow
                , view//local data about the drag and drop operation
                , 0//no needed flags
        );

        //Set view visibility to INVISIBLE as we are going to drag the view
        view.setVisibility(View.INVISIBLE);
        return true;
    }

    // This is the method that the system calls when it dispatches a drag event to the
    // listener.
    @Override
    public boolean onDrag(View view, DragEvent event) {
        // Defines a variable to store the action type for the incoming event
        int action = event.getAction();
        // Handles each of the expected events
        switch (action) {
            case DragEvent.ACTION_DRAG_STARTED:
                // Determines if this View can accept the dragged data
                if (event.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {
                    // if you want to apply color when drag started to your view you can uncomment below lines
                    // to give any color tint to the View to indicate that it can accept
                    // data.

                    //  view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);//set background color to your view

                    // Invalidate the view to force a redraw in the new tint
                    //  view.invalidate();

                    // returns true to indicate that the View can accept the dragged data.
                    return true;

                }

                // Returns false. During the current drag and drop operation, this View will
                // not receive events again until ACTION_DRAG_ENDED is sent.
                return false;

            case DragEvent.ACTION_DRAG_ENTERED:
                // Applies a YELLOW or any color tint to the View, when the dragged view entered into drag acceptable view
                // Return true; the return value is ignored.

                view.getBackground().setColorFilter(Color.YELLOW, PorterDuff.Mode.SRC_IN);

                // Invalidate the view to force a redraw in the new tint
                view.invalidate();

                return true;
            case DragEvent.ACTION_DRAG_LOCATION:
                // Ignore the event
                return true;
            case DragEvent.ACTION_DRAG_EXITED:
                // Re-sets the color tint to blue, if you had set the BLUE color or any color in ACTION_DRAG_STARTED. Returns true; the return value is ignored.

                //  view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);

                //If u had not provided any color in ACTION_DRAG_STARTED then clear color filter.
                view.getBackground().clearColorFilter();
                // Invalidate the view to force a redraw in the new tint
                view.invalidate();

                return true;
            case DragEvent.ACTION_DROP:
                // Gets the item containing the dragged data
                ClipData.Item item = event.getClipData().getItemAt(0);

                // Gets the text data from the item.
                String dragData = item.getText().toString();

                // Displays a message containing the dragged data.
                Toast.makeText(this, "Dragged data is " + dragData, Toast.LENGTH_SHORT).show();

                // Turns off any color tints
                view.getBackground().clearColorFilter();

                // Invalidates the view to force a redraw
                view.invalidate();

                View v = (View) event.getLocalState();
                ViewGroup owner = (ViewGroup) v.getParent();
                owner.removeView(v);//remove the dragged view
                LinearLayout container = (LinearLayout) view;//caste the view into LinearLayout as our drag acceptable layout is LinearLayout
                container.addView(v);//Add the dragged view
                v.setVisibility(View.VISIBLE);//finally set Visibility to VISIBLE

                // Returns true. DragEvent.getResult() will return true.
                return true;
            case DragEvent.ACTION_DRAG_ENDED:
                // Turns off any color tinting
                view.getBackground().clearColorFilter();

                // Invalidates the view to force a redraw
                view.invalidate();

                // Does a getResult(), and displays what happened.
                if (event.getResult())
                    Toast.makeText(this, "The drop was handled.", Toast.LENGTH_SHORT).show();

                else
                    Toast.makeText(this, "The drop didn't work.", Toast.LENGTH_SHORT).show();


                // returns true; the value is ignored.
                return true;

            // An unknown action type was received.
            default:
                Log.e("DragDrop Example", "Unknown action type received by OnDragListener.");
                break;
        }
        return false;
    }


}</pre><p>
<b>5</b>. Finally all done, now you can also add Drag and Drop functionality to your apps.</p>
<p class="graf graf--p graf-after--figure">Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/DragDrop_Demo.zip" target="_blank">Download Source Code â€“ &gt;</a></strong></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-drag-and-drop/">Android Drag and Drop</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-drag-and-drop/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1229</post-id>	</item>
		<item>
		<title>Android working with Camera</title>
		<link>http://www.androhub.com/android-working-with-camera/</link>
		<comments>http://www.androhub.com/android-working-with-camera/#respond</comments>
		<pubDate>Thu, 23 Mar 2017 12:13:22 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[camera]]></category>
		<category><![CDATA[create directory]]></category>
		<category><![CDATA[directory]]></category>
		<category><![CDATA[multiple permission]]></category>
		<category><![CDATA[onActivityResult]]></category>
		<category><![CDATA[permissions]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1156</guid>
		<description><![CDATA[<p>Today we are going to learn how to capture image via Camera in Android. Integrating camera can be done in two ways. One is to use android inbuilt camera app which is very easy process. This method wonâ€™t give you much control over camera as everything is taken care by inbuilt camera app. This way [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-working-with-camera/">Android working with Camera</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Today we are going to learn how to capture image via Camera in Android.</p>
<p>Integrating camera can be done in two ways. One is to use android inbuilt camera app which is very easy process. This method wonâ€™t give you much control over camera as everything is taken care by inbuilt camera app. This way will be appropriate when your app need just a picture or video from camera.</p>
<p>Second way is to build a custom camera interface and adding the functionality. This needs higher effort as we have to do everything by our own. Building custom camera interface will be useful when you are building an app which mainly deals with images and videos like WhatsApp.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/" target="_blank">Marshmallow Permission.</a></li>
<li><a href="http://www.androhub.com/android-startactivityforresult/" target="_blank">Activity with Result.</a></li>
</ol>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_96154" width="602" height="339" src="https://www.youtube.com/embed/8ps9inZo7Ws?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res â‡’ values â‡’ strings.xml</strong> and add below string values. These are some strings that we are going to use in our project.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Camera Demo&lt;/string&gt;
    &lt;string name="capture"&gt;Capture&lt;/string&gt;
    &lt;string name="camera_not_supported"&gt;Your Device doesn\'t Support Camera.&lt;/string&gt;
    &lt;string name="capture_image_failed"&gt;Failed to capture image.&lt;/string&gt;
    &lt;string name="permission_message"&gt;Both permissions are required. Please allow both permission to take picture.&lt;/string&gt;
    &lt;string name="cancel_message"&gt;Cancelled by user.&lt;/string&gt;
    &lt;string name="capture_deny_message"&gt;Capture image won\'t work without both permissions.&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>3</b>. Now open <em>activity_main.xml</em> and all the below layout code to it. It contains one Button to trigger capture image and an ImageView to display captured image.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="10dp"
    tools:context="com.camera_demo.MainActivity"&gt;

    &lt;Button
        android:id="+id/capture_image"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:onClick="captureImage"
        android:text="string/capture"
        android:textColor="android:color/white"
        android:textSize="15sp" /&gt;

    &lt;!--  ImageView to display captured Image --&gt;
    &lt;ImageView
        android:id="+id/image_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scaleType="centerCrop" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>4</b>.Â Open your <em>AndroidManifest.xml</em> and add the below permissions into it. This permissions will require to Capture Image.</p><pre class="crayon-plain-tag">&lt;!--  Permission required for CAMERA  --&gt;
    &lt;uses-permission android:name="android.permission.CAMERA" /&gt;

    &lt;!--  To write External Storage --&gt;
    &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;</pre><p>
<b>5</b>.Â Now open your <em>MainActivity.java</em> and follow the below steps to implement capture image functionality:</p>
<ul>
<li><a href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/" target="_blank"><strong>Check CAMERA permission (for Lollipop+ Devices)</strong></a></li>
<li><strong>Check CameraÂ Supportability</strong></li>
</ul>
<pre class="crayon-plain-tag">// Checking camera supportability
    private boolean isDeviceSupportCamera() {
        if (getPackageManager().hasSystemFeature(
                PackageManager.FEATURE_CAMERA))
            return true;
        else {
            Toast.makeText(MainActivity.this, getResources().getString(R.string.camera_not_supported), Toast.LENGTH_SHORT).show();
            return false;
        }
    }

<ul>
 	<li><strong>Â Take Picture</strong></li>
</ul>
</div>
<pre class="lang:default decode:true" title="take picture">   /*  Capture Image Method  */
    private void captureImage() {
        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);//Start intent with Action_Image_Capture
        fileUri = CameraUtils.getOutputMediaFileUri(this);//get fileUri from CameraUtils
        intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);//Send fileUri with intent
        startActivityForResult(intent, CAMERA_REQUEST_CODE);//start activity for result with CAMERA_REQUEST_CODE
    }</pre>
<ul>
<li><strong>Get Result in onActivityResult : </strong>You will get captured image in <strong>onActivityResult</strong> method.</li>
</ul>
<pre class="crayon-plain-tag">@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        switch (requestCode) {
            case CAMERA_REQUEST_CODE:
                try {
                    //When image is captured successfully
                    if (resultCode == RESULT_OK) {

                        //Check if device SDK is greater than 22 then we get the actual image path via below method
                        if (Build.VERSION.SDK_INT &gt; 22)
                            getImageUrl = ImagePath_MarshMallow.getPath(MainActivity.this, fileUri);
                        else
                            //else we will get path directly
                            getImageUrl = fileUri.getPath();


                        //After image capture show captured image over image view
                        showCapturedImage();
                    } else
                        Toast.makeText(this, R.string.cancel_message, Toast.LENGTH_SHORT).show();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                break;

        }
    }</pre>
<ul>
<li><strong>Displaying Captured Image : </strong>Display captured image by converting into <strong>Bitmap</strong>. Helper methods are in next point.</li>
</ul>
<pre class="crayon-plain-tag">/*  Show Captured over ImageView  */
    private void showCapturedImage() {
        if (!getImageUrl.equals("") &amp;&amp; getImageUrl != null)
            imageView.setImageBitmap(CameraUtils.convertImagePathToBitmap(getImageUrl, false));
        else
            Toast.makeText(this, R.string.capture_image_failed, Toast.LENGTH_SHORT).show();
    }</pre>
<ul>
<li><strong>Handle Uri NullPointer ExceptionÂ </strong></li>
</ul>
<pre class="crayon-plain-tag">/**
     * Here we store the file url as it will be null after returning from camera
     * app
     */
    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        // save file url in bundle as it will be null on scren orientation
        // changes
        outState.putParcelable("file_uri", fileUri);
    }

    /*
     * Here we restore the fileUri again
     */
    @Override
    protected void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
        // get the file url
        fileUri = savedInstanceState.getParcelable("file_uri");
    }</pre>
<span style="text-decoration: underline;"><strong>Full Code:</strong></span><br />
<pre class="crayon-plain-tag">package com.camera_demo;

import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.provider.MediaStore;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AlertDialog;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.ImageView;
import android.widget.Toast;

import java.util.ArrayList;

import static android.Manifest.permission.CAMERA;
import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;

public class MainActivity extends AppCompatActivity {
    public static final int PERMISSION_REQUEST_CODE = 114;//request code for Camera and External Storage permission
    private static final int CAMERA_REQUEST_CODE = 133;//request code for capture image

    private Uri fileUri = null;//Uri to capture image
    private String getImageUrl = "";
    private ImageView imageView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        imageView = (ImageView) findViewById(R.id.image_view);
    }


    /*  Check both permissions  */
    private boolean checkPermission() {
        ArrayList&lt;String&gt; permissions = new ArrayList&lt;&gt;();
        for (String permission : getAllPermissions()) {
            int result = checkPermission(this, permission);
            if (result != PackageManager.PERMISSION_GRANTED) {
                permissions.add(permission);
            }
        }
        //If both permissions are granted
        if (permissions.size() == 0)
            allPermissionGranted();
        else
            //if any one of them are not granted then request permission
            requestPermission(permissions.toArray(new String[permissions.size()]));
        return true;
    }

    /*   on both permission granted  */
    private void allPermissionGranted() {
        //Initiate capture image method
        if (isDeviceSupportCamera())
            captureImage();
    }

    /*  Request permissions  */
    private void requestPermission(String[] permissions) {
        ActivityCompat.requestPermissions(this, permissions, PERMISSION_REQUEST_CODE);
    }

    /*  Permissions string array  */
    private String[] getAllPermissions() {
        return new String[]{CAMERA, WRITE_EXTERNAL_STORAGE};
    }

    /*  Method to check permissions  */
    public static int checkPermission(final Context context, String permission) {
        return ContextCompat.checkSelfPermission(context, permission);
    }

    /*  on Capture image button click check permissions  */
    public void captureImage(View view) {
        checkPermission();
    }

    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {
        switch (requestCode) {
            case PERMISSION_REQUEST_CODE:
                if (grantResults.length &gt; 0) {
                    int counter = 0;//counter to traverse all permissions
                    for (int result : grantResults) {
                        if (result != PackageManager.PERMISSION_GRANTED) {
                            //show alert dialog if any of the permission denied
                            showMessageOKCancel(getString(R.string.permission_message),
                                    new DialogInterface.OnClickListener() {
                                        @Override
                                        public void onClick(DialogInterface dialog, int which) {
                                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {
                                                //If user click on OK button check permission again.
                                                checkPermission();
                                            }
                                        }
                                    }, new DialogInterface.OnClickListener() {
                                        @Override
                                        public void onClick(DialogInterface dialog, int which) {
                                            Toast.makeText(MainActivity.this, R.string.capture_deny_message, Toast.LENGTH_SHORT).show();
                                        }
                                    });
                            return;
                        } else {
                            counter++;
                            //If counter is equal to permissions length mean all permission granted.
                            if (counter == permissions.length)
                                allPermissionGranted();
                        }
                    }

                }


                break;
        }
    }


    /*  Alert dialog on permission denied    */
    private void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener, DialogInterface.OnClickListener cancelListener) {
        new AlertDialog.Builder(MainActivity.this)
                .setMessage(message)
                .setPositiveButton(android.R.string.ok, okListener)
                .setNegativeButton(android.R.string.cancel, cancelListener)
                .setCancelable(false)
                .create()
                .show();
    }

    // Checking camera supportability
    private boolean isDeviceSupportCamera() {
        if (getPackageManager().hasSystemFeature(
                PackageManager.FEATURE_CAMERA))
            return true;
        else {
            Toast.makeText(MainActivity.this, getResources().getString(R.string.camera_not_supported), Toast.LENGTH_SHORT).show();
            return false;
        }

    }

    /*  Capture Image Method  */
    private void captureImage() {
        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);//Start intent with Action_Image_Capture
        fileUri = CameraUtils.getOutputMediaFileUri(this);//get fileUri from CameraUtils
        intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);//Send fileUri with intent
        startActivityForResult(intent, CAMERA_REQUEST_CODE);//start activity for result with CAMERA_REQUEST_CODE
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        switch (requestCode) {
            case CAMERA_REQUEST_CODE:
                try {
                    //When image is captured successfully
                    if (resultCode == RESULT_OK) {

                        //Check if device SDK is greater than 22 then we get the actual image path via below method
                        if (Build.VERSION.SDK_INT &gt; 22)
                            getImageUrl = ImagePath_MarshMallow.getPath(MainActivity.this, fileUri);
                        else
                            //else we will get path directly
                            getImageUrl = fileUri.getPath();


                        //After image capture show captured image over image view
                        showCapturedImage();
                    } else
                        Toast.makeText(this, R.string.cancel_message, Toast.LENGTH_SHORT).show();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                break;

        }
    }


    /*  Show Captured over ImageView  */
    private void showCapturedImage() {
        if (!getImageUrl.equals("") &amp;&amp; getImageUrl != null)
            imageView.setImageBitmap(CameraUtils.convertImagePathToBitmap(getImageUrl, false));
        else
            Toast.makeText(this, R.string.capture_image_failed, Toast.LENGTH_SHORT).show();
    }

    /**
     * Here we store the file url as it will be null after returning from camera
     * app
     */
    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        // save file url in bundle as it will be null on scren orientation
        // changes
        outState.putParcelable("file_uri", fileUri);
    }

    /*
     * Here we restore the fileUri again
     */
    @Override
    protected void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
        // get the file url
        fileUri = savedInstanceState.getParcelable("file_uri");
    }
}</pre>
<b>6</b>.Â Create new java class naming <em>CameraUtils.java</em>, this class contains helper methods for camera.<br />
<pre class="crayon-plain-tag">package com.camera_demo;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.os.Environment;
import android.util.Log;

import java.io.File;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;

/**
 * Created by sonu on 23/03/17.
 */

public class CameraUtils {

    //Get Uri Of captured Image
    public static Uri getOutputMediaFileUri(Context context) {
        File mediaStorageDir = new File(
                context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), "Camera");
        //If File is not present create directory
        if (!mediaStorageDir.exists()) {
            if (mediaStorageDir.mkdir())
                Log.e("Create Directory", "Main Directory Created : " + mediaStorageDir);
        }

        String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss",
                Locale.getDefault()).format(new Date());//Get Current timestamp
        File mediaFile = new File(mediaStorageDir.getPath() + File.separator
                + "IMG_" + timeStamp + ".jpg");//create image path with system mill and image format
        return Uri.fromFile(mediaFile);

    }

    /*  Convert Captured image path into Bitmap to display over ImageView  */
    public static Bitmap convertImagePathToBitmap(String imagePath, boolean scaleBitmap) {
        BitmapFactory.Options bmOptions = new BitmapFactory.Options();
        Bitmap bitmap = BitmapFactory.decodeFile(imagePath, bmOptions);//Decode image path

        //If you want to scale bitmap/reduce captured image size then send true
        if (scaleBitmap)
            return Bitmap.createScaledBitmap(bitmap, 500, 500, true);
        else
            //if you don't want to scale bitmap then send false
            return bitmap;
    }


}</pre>
<b>7</b>. For Lollipop+ Devices we will get the actual image path from Uri with the help of below class naming<em> ImagePath_Marshmallow.java</em>. We have to pass the Uri and it will return image path.<br />
<pre class="crayon-plain-tag">package com.camera_demo;

import android.content.ContentUris;
import android.content.Context;
import android.database.Cursor;
import android.net.Uri;
import android.os.Build;
import android.os.Environment;
import android.provider.DocumentsContract;
import android.provider.MediaStore;

/**
 * Created by SONU on 14/01/16.
 */
public class ImagePath_MarshMallow {
    public  static String getPath(final Context context, final Uri uri) {

        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;

        // DocumentProvider
        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {
            // ExternalStorageProvider
            if (isExternalStorageDocument(uri)) {
                final String docId = DocumentsContract.getDocumentId(uri);
                final String[] split = docId.split(":");
                final String type = split[0];

                if ("primary".equalsIgnoreCase(type)) {
                    return Environment.getExternalStorageDirectory() + "/" + split[1];
                }

                // TODO handle non-primary volumes
            }
            // DownloadsProvider
            else if (isDownloadsDocument(uri)) {

                final String id = DocumentsContract.getDocumentId(uri);
                final Uri contentUri = ContentUris.withAppendedId(
                        Uri.parse("content://downloads/public_downloads"), Long.valueOf(id));

                return getDataColumn(context, contentUri, null, null);
            }
            // MediaProvider
            else if (isMediaDocument(uri)) {
                final String docId = DocumentsContract.getDocumentId(uri);
                final String[] split = docId.split(":");
                final String type = split[0];

                Uri contentUri = null;
                if ("image".equals(type)) {
                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;
                } else if ("video".equals(type)) {
                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;
                } else if ("audio".equals(type)) {
                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;
                }

                final String selection = "_id=?";
                final String[] selectionArgs = new String[]{
                        split[1]
                };

                return getDataColumn(context, contentUri, selection, selectionArgs);
            }
        }
        // MediaStore (and general)
        else if ("content".equalsIgnoreCase(uri.getScheme())) {

            // Return the remote address
            if (isGooglePhotosUri(uri))
                return uri.getLastPathSegment();

            return getDataColumn(context, uri, null, null);
        }
        // File
        else if ("file".equalsIgnoreCase(uri.getScheme())) {
            return uri.getPath();
        }

        return null;
    }

    /**
     * Get the value of the data column for this Uri. This is useful for
     * MediaStore Uris, and other file-based ContentProviders.
     *
     * @param context       The context.
     * @param uri           The Uri to query.
     * @param selection     (Optional) Filter used in the query.
     * @param selectionArgs (Optional) Selection arguments used in the query.
     * @return The value of the _data column, which is typically a file path.
     */
    public static String getDataColumn(Context context, Uri uri, String selection,
                                       String[] selectionArgs) {

        Cursor cursor = null;
        final String column = "_data";
        final String[] projection = {
                column
        };

        try {
            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,
                    null);
            if (cursor != null &amp;&amp; cursor.moveToFirst()) {
                final int index = cursor.getColumnIndexOrThrow(column);
                return cursor.getString(index);
            }
        } finally {
            if (cursor != null)
                cursor.close();
        }
        return null;
    }


    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is ExternalStorageProvider.
     */
    public static boolean isExternalStorageDocument(Uri uri) {
        return "com.android.externalstorage.documents".equals(uri.getAuthority());
    }

    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is DownloadsProvider.
     */
    public static boolean isDownloadsDocument(Uri uri) {
        return "com.android.providers.downloads.documents".equals(uri.getAuthority());
    }

    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is MediaProvider.
     */
    public static boolean isMediaDocument(Uri uri) {
        return "com.android.providers.media.documents".equals(uri.getAuthority());
    }

    /**
     * @param uri The Uri to check.
     * @return Whether the Uri authority is Google Photos.
     */
    public static boolean isGooglePhotosUri(Uri uri) {
        return "com.google.android.apps.photos.content".equals(uri.getAuthority());
    }
}</pre>
<b>8</b>.Â Now, you are all done and you can also add the Camera functionality to your app.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/Camera_Demo.zip" target="_blank">Download Source Code â€“ &gt;</a></strong></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-working-with-camera/">Android working with Camera</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-working-with-camera/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1156</post-id>	</item>
		<item>
		<title>Take a Screenshot programmatically in Android</title>
		<link>http://www.androhub.com/take-a-screenshot-programmatically-in-android/</link>
		<comments>http://www.androhub.com/take-a-screenshot-programmatically-in-android/#comments</comments>
		<pubDate>Thu, 23 Mar 2017 11:47:57 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[create directory]]></category>
		<category><![CDATA[custom screenshot]]></category>
		<category><![CDATA[screenshot]]></category>
		<category><![CDATA[share]]></category>
		<category><![CDATA[share image]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1154</guid>
		<description><![CDATA[<p>Today we are going to learn how to take screenshot programatically in Android. It will help you if you want to share any screen from your app to WhatsApp, Facebook, Hangout or any other app. Before starting the article please go through Share Image and Text article it will help you in this article. Example [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/take-a-screenshot-programmatically-in-android/">Take a Screenshot programmatically in Android</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Today we are going to learn how to take screenshot programatically in Android. It will help you if you want to share any screen from your app to WhatsApp, Facebook, Hangout or any other app.</p>
<p>Before starting the article please go through <a href="http://www.androhub.com/android-share-text-and-images-using-share-intent/" target="_blank">Share Image and Text</a> article it will help you in this article.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to take Screenshot and share the taken Screenshot to other apps.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_67096" width="602" height="339" src="https://www.youtube.com/embed/TkUSd-AnIAs?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res â‡’ values â‡’ strings.xml</strong> and add below string values. These are some strings that we are going to use in our project.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Take Screenshot Demo&lt;/string&gt;
    &lt;string name="sharing_text"&gt;Your sharing text goes hereâ€¦&lt;/string&gt;
    &lt;string name="share_title"&gt;Share Screenshot&lt;/string&gt;
    &lt;string name="screenshot_take_failed"&gt;Failed to take screenshot!!&lt;/string&gt;
    &lt;string name="wait"&gt;Please waitâ€¦&lt;/string&gt;
    &lt;string name="full_page_screenshot"&gt;Full Page Screenshot&lt;/string&gt;
    &lt;string name="hidden_text"&gt;Hidden Text&lt;/string&gt;
    &lt;string name="custom_page_screenshot"&gt;Custom Page Screenshot&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>3</b>. Now, openÂ <em>activity_main.xml</em> layoutÂ and add the below code to it. In this layout we are taking some <em>Button</em> to take Screenshot and an <em>ImageView</em> to show taken ScreenShot.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/root_content"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="10dp"
    tools:context="com.takescreenshot_demo.MainActivity"&gt;

    &lt;!--  Button which will take full page screenshot  --&gt;
    &lt;Button
        android:id="@+id/full_page_screenshot"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/full_page_screenshot"
        android:textColor="@android:color/white"
        android:textSize="14sp" /&gt;

    &lt;!--   Hidden Text which will shown when taking screenshot from below Button  --&gt;
    &lt;TextView
        android:id="@+id/hidden_text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="@string/hidden_text"
        android:textColor="@android:color/white"
        android:textSize="14sp"
        android:visibility="invisible" /&gt;

    &lt;!--  Button which will take screenshot after hiding some view and showing some view  --&gt;
    &lt;Button
        android:id="@+id/custom_page_screenshot"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/custom_page_screenshot"
        android:textColor="@android:color/white"
        android:textSize="14sp" /&gt;


    &lt;!--  ImageView to show taken Screenshot  --&gt;
    &lt;ImageView
        android:id="@+id/image_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scaleType="fitCenter"
        android:src="@mipmap/ic_launcher" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>4</b>.Â Create an <em>enum</em> java class naming <em>ScreenshotType</em> and add two type <em>FULL</em> and <em>CUSTOM</em>.Â This class will help me to distinguish between type of screenshot that i need to take.</p><pre class="crayon-plain-tag">package com.takescreenshot_demo;

/**
 * Created by sonu on 23/03/17.
 */

/*  ENUM to identify the type of Screenshot  */

public enum ScreenshotType {
    FULL, CUSTOM;
}</pre><p>
<b>5</b>.Â Now open your <em>MainActivity.java</em> and add the below code. In below class the code that is important for taking screenshot and sharing it are:</p>
<ul>
<li><strong>Take Screenshot : </strong>For Custom screenshot where you need to hide some view or show some view then there for hiding views you need to use <strong>visibility</strong> mode <strong>INVISIBLE</strong> instead of <strong>GONE</strong> because for <strong>GONE</strong> mode <strong>it won&#8217;t consider the view in frame and will not show up or hide while taking screenshot.</strong></li>
</ul>
<pre class="crayon-plain-tag">/*  Method which will take screenshot on Basis of Screenshot Type ENUM  */
    private void takeScreenshot(ScreenshotType screenshotType) {
        Bitmap b = null;
        switch (screenshotType) {
            case FULL:
                //If Screenshot type is FULL take full page screenshot i.e our root content.
                b = ScreenshotUtils.getScreenShot(rootContent);
                break;
            case CUSTOM:
                //If Screenshot type is CUSTOM

                fullPageScreenshot.setVisibility(View.INVISIBLE);//set the visibility to INVISIBLE of first button
                hiddenText.setVisibility(View.VISIBLE);//set the visibility to VISIBLE of hidden text

                b = ScreenshotUtils.getScreenShot(rootContent);

                //After taking screenshot reset the button and view again
                fullPageScreenshot.setVisibility(View.VISIBLE);//set the visibility to VISIBLE of first button again
                hiddenText.setVisibility(View.INVISIBLE);//set the visibility to INVISIBLE of hidden text

                //NOTE:  You need to use visibility INVISIBLE instead of GONE to remove the view from frame else it wont consider the view in frame and you will not get screenshot as you required.
                break;
        }

        //If bitmap is not null
        if (b != null) {
            showScreenShotImage(b);//show bitmap over imageview

            File saveFile = ScreenshotUtils.getMainDirectoryName(this);//get the path to save screenshot
            File file = ScreenshotUtils.store(b, "screenshot" + screenshotType + ".jpg", saveFile);//save the screenshot to selected path
            shareScreenshot(file);//finally share screenshot
        } else
            //If bitmap is null show toast message
            Toast.makeText(this, R.string.screenshot_take_failed, Toast.LENGTH_SHORT).show();

    }</pre>
<ul>
<li><strong>ShareÂ Screenshot</strong></li>
</ul>
<pre class="crayon-plain-tag">/*  Share Screenshot  */
    private void shareScreenshot(File file) {
        Uri uri = Uri.fromFile(file);//Convert file path into Uri for sharing
        Intent intent = new Intent();
        intent.setAction(Intent.ACTION_SEND);
        intent.setType("image/*");
        intent.putExtra(android.content.Intent.EXTRA_SUBJECT, "");
        intent.putExtra(android.content.Intent.EXTRA_TEXT, getString(R.string.sharing_text));
        intent.putExtra(Intent.EXTRA_STREAM, uri);//pass uri here
        startActivity(Intent.createChooser(intent, getString(R.string.share_title)));
    }</pre>
<span style="text-decoration: underline;"><strong>Full Code:</strong></span><br />
<pre class="crayon-plain-tag">package com.takescreenshot_demo;

import android.content.Intent;
import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

import java.io.File;

public class MainActivity extends AppCompatActivity implements View.OnClickListener {

    private Button fullPageScreenshot, customPageScreenshot;
    private LinearLayout rootContent;
    private ImageView imageView;
    private TextView hiddenText;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        findViews();
        implementClickEvents();
    }

    /*  Find all views Ids  */
    private void findViews() {
        fullPageScreenshot = (Button) findViewById(R.id.full_page_screenshot);
        customPageScreenshot = (Button) findViewById(R.id.custom_page_screenshot);

        rootContent = (LinearLayout) findViewById(R.id.root_content);

        imageView = (ImageView) findViewById(R.id.image_view);

        hiddenText = (TextView) findViewById(R.id.hidden_text);
    }

    /*  Implement Click events over Buttons */
    private void implementClickEvents() {
        fullPageScreenshot.setOnClickListener(this);
        customPageScreenshot.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {
            case R.id.full_page_screenshot:
                takeScreenshot(ScreenshotType.FULL);
                break;
            case R.id.custom_page_screenshot:
                takeScreenshot(ScreenshotType.CUSTOM);
                break;
        }
    }

    /*  Method which will take screenshot on Basis of Screenshot Type ENUM  */
    private void takeScreenshot(ScreenshotType screenshotType) {
        Bitmap b = null;
        switch (screenshotType) {
            case FULL:
                //If Screenshot type is FULL take full page screenshot i.e our root content.
                b = ScreenshotUtils.getScreenShot(rootContent);
                break;
            case CUSTOM:
                //If Screenshot type is CUSTOM

                fullPageScreenshot.setVisibility(View.INVISIBLE);//set the visibility to INVISIBLE of first button
                hiddenText.setVisibility(View.VISIBLE);//set the visibility to VISIBLE of hidden text

                b = ScreenshotUtils.getScreenShot(rootContent);

                //After taking screenshot reset the button and view again
                fullPageScreenshot.setVisibility(View.VISIBLE);//set the visibility to VISIBLE of first button again
                hiddenText.setVisibility(View.INVISIBLE);//set the visibility to INVISIBLE of hidden text

                //NOTE:  You need to use visibility INVISIBLE instead of GONE to remove the view from frame else it wont consider the view in frame and you will not get screenshot as you required.
                break;
        }

        //If bitmap is not null
        if (b != null) {
            showScreenShotImage(b);//show bitmap over imageview

            File saveFile = ScreenshotUtils.getMainDirectoryName(this);//get the path to save screenshot
            File file = ScreenshotUtils.store(b, "screenshot" + screenshotType + ".jpg", saveFile);//save the screenshot to selected path
            shareScreenshot(file);//finally share screenshot
        } else
            //If bitmap is null show toast message
            Toast.makeText(this, R.string.screenshot_take_failed, Toast.LENGTH_SHORT).show();

    }

    /*  Show screenshot Bitmap */
    private void showScreenShotImage(Bitmap b) {
        imageView.setImageBitmap(b);
    }

    /*  Share Screenshot  */
    private void shareScreenshot(File file) {
        Uri uri = Uri.fromFile(file);//Convert file path into Uri for sharing
        Intent intent = new Intent();
        intent.setAction(Intent.ACTION_SEND);
        intent.setType("image/*");
        intent.putExtra(android.content.Intent.EXTRA_SUBJECT, "");
        intent.putExtra(android.content.Intent.EXTRA_TEXT, getString(R.string.sharing_text));
        intent.putExtra(Intent.EXTRA_STREAM, uri);//pass uri here
        startActivity(Intent.createChooser(intent, getString(R.string.share_title)));
    }

}</pre>
<b>6</b>.Â Finally create new java class naming <em>ScreenshotUtils.java.Â </em>In this class we add some static method which help to take screenshot, make directory and store taken screenshot.</p>
<ul>
<li><strong>Take Screenshot</strong></li>
</ul>
<pre class="crayon-plain-tag">/*  Method which will return Bitmap after taking screenshot. We have to pass the view which we want to take screenshot.  */
    public static Bitmap getScreenShot(View view) {
        View screenView = view.getRootView();
        screenView.setDrawingCacheEnabled(true);
        Bitmap bitmap = Bitmap.createBitmap(screenView.getDrawingCache());
        screenView.setDrawingCacheEnabled(false);
        return bitmap;
    }</pre>
<ul>
<li><strong>CreateÂ Directory : </strong>Here you need to use <strong>getExternalFilesDir</strong> instead ofÂ <strong>getExternalStorageDirectory</strong> because when you uninstall app then the images/screenshots will <strong>deleted automatically.</strong></li>
</ul>
<pre class="crayon-plain-tag">/*  Create Directory where screenshot will save for sharing screenshot  */
    public static File getMainDirectoryName(Context context) {
        //Here we will use getExternalFilesDir and inside that we will make our Demo folder
        //benefit of getExternalFilesDir is that whenever the app uninstalls the images will get deleted automatically.
        File mainDir = new File(
                context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), "Demo");

        //If File is not present create directory
        if (!mainDir.exists()) {
            if (mainDir.mkdir())
                Log.e("Create Directory", "Main Directory Created : " + mainDir);
        }
        return mainDir;
    }</pre>
<ul>
<li><strong>StoreÂ Screenshot</strong></li>
</ul>
<pre class="crayon-plain-tag">/*  Store taken screenshot into above created path  */
    public static File store(Bitmap bm, String fileName, File saveFilePath) {
        File dir = new File(saveFilePath.getAbsolutePath());
        if (!dir.exists())
            dir.mkdirs();
        File file = new File(saveFilePath.getAbsolutePath(), fileName);
        try {
            FileOutputStream fOut = new FileOutputStream(file);
            bm.compress(Bitmap.CompressFormat.JPEG, 85, fOut);
            fOut.flush();
            fOut.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
        return file;
    }</pre>
<span style="text-decoration: underline;"><strong>Full Code</strong></span><strong>:</strong><br />
<pre class="crayon-plain-tag">package com.takescreenshot_demo;

import android.content.Context;
import android.graphics.Bitmap;
import android.os.Environment;
import android.util.Log;
import android.view.View;

import java.io.File;
import java.io.FileOutputStream;

/**
 * Created by sonu on 23/03/17.
 */

public class ScreenshotUtils {

    /*  Method which will return Bitmap after taking screenshot. We have to pass the view which we want to take screenshot.  */
    public static Bitmap getScreenShot(View view) {
        View screenView = view.getRootView();
        screenView.setDrawingCacheEnabled(true);
        Bitmap bitmap = Bitmap.createBitmap(screenView.getDrawingCache());
        screenView.setDrawingCacheEnabled(false);
        return bitmap;
    }


    /*  Create Directory where screenshot will save for sharing screenshot  */
    public static File getMainDirectoryName(Context context) {
        //Here we will use getExternalFilesDir and inside that we will make our Demo folder
        //benefit of getExternalFilesDir is that whenever the app uninstalls the images will get deleted automatically.
        File mainDir = new File(
                context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), "Demo");

        //If File is not present create directory
        if (!mainDir.exists()) {
            if (mainDir.mkdir())
                Log.e("Create Directory", "Main Directory Created : " + mainDir);
        }
        return mainDir;
    }

    /*  Store taken screenshot into above created path  */
    public static File store(Bitmap bm, String fileName, File saveFilePath) {
        File dir = new File(saveFilePath.getAbsolutePath());
        if (!dir.exists())
            dir.mkdirs();
        File file = new File(saveFilePath.getAbsolutePath(), fileName);
        try {
            FileOutputStream fOut = new FileOutputStream(file);
            bm.compress(Bitmap.CompressFormat.JPEG, 85, fOut);
            fOut.flush();
            fOut.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
        return file;
    }
}</pre>
<b>7</b>.Â Hurray!! Now you are all set up and can add this feature to your apps.</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" width="13" height="13" /></p>
<p><strong><a href="http://androhub.com/downloads/TakeScreenshot_Demo.zip" target="_blank">Download Source Code â€“ &gt;</a></strong></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/take-a-screenshot-programmatically-in-android/">Take a Screenshot programmatically in Android</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/take-a-screenshot-programmatically-in-android/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1154</post-id>	</item>
		<item>
		<title>Android Adding Search Functionality to List</title>
		<link>http://www.androhub.com/android-adding-search-functionality-list/</link>
		<comments>http://www.androhub.com/android-adding-search-functionality-list/#respond</comments>
		<pubDate>Wed, 15 Feb 2017 07:39:56 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android Material Design]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[filterable]]></category>
		<category><![CDATA[filterable list]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[grid view]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[material tabs]]></category>
		<category><![CDATA[radibutton]]></category>
		<category><![CDATA[recycler view]]></category>
		<category><![CDATA[search functionality]]></category>
		<category><![CDATA[show hide view]]></category>
		<category><![CDATA[ViewPager]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1147</guid>
		<description><![CDATA[<p>Today we are going to learn how to add search functionality to ListView, GridView and RecyclerView. In this tutorial you can filter search list by multiple items. Prerequisite: Material TabsÂ Tutorial ListView Tutorial GridView Tutorial RecyclerView Tutorial Radio ButtonÂ Tutorial VIDEO DEMO 1. Create a new project in Android StudioÂ by navigating to File â‡’ New â‡’ NewÂ Project [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-adding-search-functionality-list/">Android Adding Search Functionality to List</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Today we are going to learn how to add search functionality to ListView, GridView and RecyclerView. In this tutorial you can filter search list by multiple items.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Material TabsÂ Tutorial</a></li>
<li><a href="http://www.androhub.com/android-listview/" target="_blank">ListView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-gridview/" target="_blank">GridView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-radiobutton/" target="_blank">Radio ButtonÂ Tutorial</a></li>
</ol>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_73920" width="602" height="339" src="https://www.youtube.com/embed/xT7tzpPmfIk?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. OpenÂ <strong>build.gradleÂ </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">compile 'com.android.support:design:25.1.0'//Library need for material tabs
compile 'com.android.support:recyclerview-v7:25.1.0' //Library need for recycler view</pre><p>
<b>3</b>.Â Now create 3 material tabs naming ListView, GridView and RecyclerView. For this you can check this <a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">link</a> for reference.</p>
<p><b>4</b>.Â After creating tabs lets move to creating xml layouts for individual tabs.</p>
<ul>
<li><strong><em>list_view_frament.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;include
        android:id="@+id/top_container"
        layout="@layout/top_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" /&gt;

    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@+id/top_container"
        android:layout_marginTop="5dp" /&gt;


&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>grid_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;
    &lt;include
        android:id="@+id/top_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        layout="@layout/top_container" /&gt;
    &lt;GridView
        android:id="@+id/grid_view"
        android:layout_width="match_parent"
        android:layout_below="@+id/top_container"
        android:layout_marginTop="5dp"
        android:layout_height="match_parent"
        android:horizontalSpacing="2dp"
        android:numColumns="2"
        android:verticalSpacing="2dp" /&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>recycler_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;include
        android:id="@+id/top_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        layout="@layout/top_container" /&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_marginTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@+id/top_container" /&gt;
&lt;/RelativeLayout&gt;</pre>
<b>5</b>. In all the above xml layouts i am using one common layout i.e. <em>top_container.xml.</em> Lets create the common layout xml, this layout contains some radio buttons for custom filter.<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"&gt;

    &lt;TextView
        android:id="@+id/search_via_label"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:drawableRight="@drawable/up_dropdown"
        android:padding="5dp"
        android:text="@string/search_via"
        android:textColor="@android:color/black"
        android:textSize="10sp" /&gt;

    &lt;!--  Search Via Radio Group  --&gt;
    &lt;RadioGroup
        android:id="@+id/search_via_radio_group"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:visibility="gone"&gt;

        &lt;RadioButton
            android:id="@+id/name_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:checked="true"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/name"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;

        &lt;RadioButton
            android:id="@+id/number_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/number"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;

        &lt;RadioButton
            android:id="@+id/email_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/emailid"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;
    &lt;/RadioGroup&gt;

    &lt;View
        android:layout_width="match_parent"
        android:layout_height="1px"
        android:layout_marginTop="5dp"
        android:background="@android:color/darker_gray" /&gt;

    &lt;TextView
        android:id="@+id/filter_by_label"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:drawableRight="@drawable/up_dropdown"
        android:padding="5dp"
        android:text="@string/filter_by"
        android:textColor="@android:color/black"
        android:textSize="10sp" /&gt;

    &lt;!--  Filter By Radio Group  --&gt;
    &lt;RadioGroup
        android:id="@+id/filter_type_radio_group"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:visibility="gone"&gt;

        &lt;RadioButton
            android:id="@+id/query_contains_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:checked="true"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/contains"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;

        &lt;RadioButton
            android:id="@+id/query_starts_With_radio_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:padding="5dp"
            android:text="@string/starts_with"
            android:textColor="@android:color/black"
            android:textSize="12sp" /&gt;
    &lt;/RadioGroup&gt;

    &lt;!--  EditText for User Input --&gt;
    &lt;EditText
        android:id="@+id/search_text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="5dp"
        android:background="@drawable/search_bg"
        android:drawableLeft="@drawable/ic_search"
        android:drawablePadding="5dp"
        android:gravity="center_vertical"
        android:hint="@string/enter_text_to_search"
        android:maxLines="1"
        android:padding="8dp"
        android:textColor="@android:color/black"
        android:textColorHint="@android:color/darker_gray"
        android:textSize="12sp" /&gt;
&lt;/LinearLayout&gt;</pre>
<b>6</b>. Now create custom background for Search EditText naming <em>search_bg.xml.</em><br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle"&gt;
    &lt;corners android:radius="4dp" /&gt;
    &lt;solid android:color="@android:color/white" /&gt;
    &lt;stroke
        android:width="1px"
        android:color="@android:color/darker_gray" /&gt;

&lt;/shape&gt;</pre>
<b>7</b>. Now lets create java classes for all the above three xml files.</p>
<ul>
<li><strong><em>ListViewFragment.java</em></strong></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.RadioGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.adapter.GridListAdapter;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.GetUserModelData;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class ListViewFragment extends Fragment implements RadioGroup.OnCheckedChangeListener, View.OnClickListener {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;UserModel&gt; arrayList;
    private RadioGroup searchViaRadioGroup, filterByRadioGroup;
    private EditText searchEditText;
    private TextView searchViaLabel, filterByLabel;

    /*  Filter Type to identify the type of Filter  */
    private FilterType filterType;

    /*  boolean variable for Filtering */
    private boolean isSearchWithPrefix = false;

    public ListViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.list_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadListView(view);
        findViews(view);
        implementEvents();
    }

    //Bind all Views
    private void findViews(View view) {
        filterType = FilterType.NAME;
        searchViaRadioGroup = (RadioGroup) view.findViewById(R.id.search_via_radio_group);
        filterByRadioGroup = (RadioGroup) view.findViewById(R.id.filter_type_radio_group);
        searchEditText = (EditText) view.findViewById(R.id.search_text);

        searchViaLabel = (TextView) view.findViewById(R.id.search_via_label);
        filterByLabel = (TextView) view.findViewById(R.id.filter_by_label);
    }


    private void loadListView(View view) {
        ListView listView = (ListView) view.findViewById(R.id.list_view);
        arrayList = GetUserModelData.getUserModelData();
        adapter = new GridListAdapter(context, arrayList, true);
        listView.setAdapter(adapter);
    }

    private void implementEvents() {
        filterByRadioGroup.setOnCheckedChangeListener(this);
        searchViaRadioGroup.setOnCheckedChangeListener(this);
        searchViaLabel.setOnClickListener(this);
        filterByLabel.setOnClickListener(this);

        searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });
    }


    @Override
    public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {
        int pos = radioGroup.indexOfChild(radioGroup.findViewById(checkedId));//get the checked position of radio button
        switch (radioGroup.getId()) {
            case R.id.search_via_radio_group:
                switch (pos) {
                    case 0:
                        filterType = FilterType.NAME;//Change filter type to Name if pos = 0
                        break;
                    case 1:
                        filterType = FilterType.NUMBER;//Change filter type to Number if pos = 1
                        break;
                    case 2:
                        filterType = FilterType.EMAIL;//Change filter type to Email if pos = 2
                        break;
                }
                break;
            case R.id.filter_type_radio_group:
                switch (pos) {
                    case 0:
                        isSearchWithPrefix = false;//Set boolean value to false
                        break;
                    case 1:
                        isSearchWithPrefix = true;//Set boolean value to true
                        break;

                }
                break;
        }
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.search_via_label:
                //show hide the radio group
                if (searchViaRadioGroup.isShown()) {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.GONE);
                } else {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
            case R.id.filter_by_label:
                //show hide the radio group
                if (filterByRadioGroup.isShown()) {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.GONE);
                } else {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
        }
    }

}</pre>
<ul>
<li><em><strong>GridViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.GridView;
import android.widget.RadioGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.adapter.GridListAdapter;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.GetUserModelData;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class GridViewFragment extends Fragment implements RadioGroup.OnCheckedChangeListener, View.OnClickListener {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;UserModel&gt; arrayList;
    private RadioGroup searchViaRadioGroup, filterByRadioGroup;
    private EditText searchEditText;
    private TextView searchViaLabel, filterByLabel;

    /*  Filter Type to identify the type of Filter  */
    private FilterType filterType;

    /*  boolean variable for Filtering */
    private boolean isSearchWithPrefix = false;

    public GridViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.grid_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadGridView(view);
        findViews(view);
        implementEvents();
    }

    //Bind all Views
    private void findViews(View view) {
        filterType = FilterType.NAME;
        searchViaRadioGroup = (RadioGroup) view.findViewById(R.id.search_via_radio_group);
        filterByRadioGroup = (RadioGroup) view.findViewById(R.id.filter_type_radio_group);
        searchEditText = (EditText) view.findViewById(R.id.search_text);

        searchViaLabel = (TextView) view.findViewById(R.id.search_via_label);
        filterByLabel = (TextView) view.findViewById(R.id.filter_by_label);
    }


    private void loadGridView(View view) {
        GridView gridView = (GridView) view.findViewById(R.id.grid_view);
        arrayList = GetUserModelData.getUserModelData();
        adapter = new GridListAdapter(context, arrayList, false);
        gridView.setAdapter(adapter);
    }

    private void implementEvents() {
        filterByRadioGroup.setOnCheckedChangeListener(this);
        searchViaRadioGroup.setOnCheckedChangeListener(this);
        searchViaLabel.setOnClickListener(this);
        filterByLabel.setOnClickListener(this);

        searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });
    }


    @Override
    public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {
        int pos = radioGroup.indexOfChild(radioGroup.findViewById(checkedId));//get the checked position of radio button
        switch (radioGroup.getId()) {
            case R.id.search_via_radio_group:
                switch (pos) {
                    case 0:
                        filterType = FilterType.NAME;//Change filter type to Name if pos = 0
                        break;
                    case 1:
                        filterType = FilterType.NUMBER;//Change filter type to Number if pos = 1
                        break;
                    case 2:
                        filterType = FilterType.EMAIL;//Change filter type to Email if pos = 2
                        break;
                }
                break;
            case R.id.filter_type_radio_group:
                switch (pos) {
                    case 0:
                        isSearchWithPrefix = false;//Set boolean value to false
                        break;
                    case 1:
                        isSearchWithPrefix = true;//Set boolean value to true
                        break;

                }
                break;
        }
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.search_via_label:
                //show hide the radio group
                if (searchViaRadioGroup.isShown()) {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.GONE);
                } else {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
            case R.id.filter_by_label:
                //show hide the radio group
                if (filterByRadioGroup.isShown()) {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.GONE);
                } else {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
        }
    }
}</pre>
<ul>
<li><em><strong>RecyclerViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.RadioGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.adapter.RecyclerViewAdapter;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.GetUserModelData;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class RecyclerViewFragment extends Fragment implements RadioGroup.OnCheckedChangeListener, View.OnClickListener {

    private Context context;
    private RecyclerViewAdapter adapter;
    private ArrayList&lt;UserModel&gt; arrayList;
    private RadioGroup searchViaRadioGroup, filterByRadioGroup;
    private EditText searchEditText;
    private TextView searchViaLabel, filterByLabel;

    /*  Filter Type to identify the type of Filter  */
    private FilterType filterType;

    /*  boolean variable for Filtering */
    private boolean isSearchWithPrefix = false;

    public RecyclerViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.recycler_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        findViews(view);
        populateRecyclerView(view);
        implementEvents();
    }

    //Bind all Views
    private void findViews(View view) {
        filterType = FilterType.NAME;
        searchViaRadioGroup = (RadioGroup) view.findViewById(R.id.search_via_radio_group);
        filterByRadioGroup = (RadioGroup) view.findViewById(R.id.filter_type_radio_group);
        searchEditText = (EditText) view.findViewById(R.id.search_text);

        searchViaLabel = (TextView) view.findViewById(R.id.search_via_label);
        filterByLabel = (TextView) view.findViewById(R.id.filter_by_label);
    }

    //Populate recycler view
    private void populateRecyclerView(View view) {
        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);
        recyclerView.setLayoutManager(linearLayoutManager);
        arrayList = GetUserModelData.getUserModelData();
        adapter = new RecyclerViewAdapter(context, arrayList);
        recyclerView.setAdapter(adapter);
    }

    private void implementEvents() {
        filterByRadioGroup.setOnCheckedChangeListener(this);
        searchViaRadioGroup.setOnCheckedChangeListener(this);
        searchViaLabel.setOnClickListener(this);
        filterByLabel.setOnClickListener(this);

        searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });
    }


    @Override
    public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {
        int pos = radioGroup.indexOfChild(radioGroup.findViewById(checkedId));//get the checked position of radio button
        switch (radioGroup.getId()) {
            case R.id.search_via_radio_group:
                switch (pos) {
                    case 0:
                        filterType = FilterType.NAME;//Change filter type to Name if pos = 0
                        break;
                    case 1:
                        filterType = FilterType.NUMBER;//Change filter type to Number if pos = 1
                        break;
                    case 2:
                        filterType = FilterType.EMAIL;//Change filter type to Email if pos = 2
                        break;
                }
                break;
            case R.id.filter_type_radio_group:
                switch (pos) {
                    case 0:
                        isSearchWithPrefix = false;//Set boolean value to false
                        break;
                    case 1:
                        isSearchWithPrefix = true;//Set boolean value to true
                        break;

                }
                break;
        }
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.search_via_label:
                //show hide the radio group
                if (searchViaRadioGroup.isShown()) {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.GONE);
                } else {
                    searchViaLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    searchViaRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
            case R.id.filter_by_label:
                //show hide the radio group
                if (filterByRadioGroup.isShown()) {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.up_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.GONE);
                } else {
                    filterByLabel.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.down_dropdown, 0);
                    filterByRadioGroup.setVisibility(View.VISIBLE);
                }
                break;
        }
    }
}</pre>
In allÂ the above fragment classesÂ the common code to do filteringÂ is:<br />
<pre class="crayon-plain-tag">searchEditText.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {

            }

            @Override
            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {

                //On text changed in Edit text start filtering the list
                adapter.filter(filterType, charSequence.toString(), isSearchWithPrefix);
            }

            @Override
            public void afterTextChanged(Editable editable) {

            }
        });</pre>
Here we need to call the filter method created in adapter class by passing the filter query.</p>
<p><b>8</b>.Â Now after creating all fragment classes we have to create Adapters for ListView, GridView and RecyclerView.</p>
<ul>
<li><em><strong>GridListAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;
import java.util.Locale;

/**
 * Created by sonu on 08/02/17.
 */

public class GridListAdapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;UserModel&gt; arrayList;
    private LayoutInflater inflater;
    private boolean isListView;
    private ArrayList&lt;UserModel&gt; filterArrayList;//duplicate list for filtering

    public GridListAdapter(Context context, ArrayList&lt;UserModel&gt; arrayList, boolean isListView) {
        this.context = context;
        this.arrayList = arrayList;
        this.isListView = isListView;
        inflater = LayoutInflater.from(context);

        this.filterArrayList = new ArrayList&lt;&gt;();//initiate filter list
        this.filterArrayList.addAll(arrayList);//add all items of array list to filter list
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int i) {
        return arrayList.get(i);
    }

    @Override
    public long getItemId(int i) {
        return i;
    }

    @Override
    public View getView(final int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        if (view == null) {
            viewHolder = new ViewHolder();

            //inflate the layout on basis of boolean
            if (isListView)
                view = inflater.inflate(R.layout.list_custom_row_layout, viewGroup, false);
            else
                view = inflater.inflate(R.layout.grid_custom_row_layout, viewGroup, false);

            viewHolder.name = (TextView) view.findViewById(R.id.name_label);
            viewHolder.number = (TextView) view.findViewById(R.id.number_label);
            viewHolder.emailID = (TextView) view.findViewById(R.id.email_label);

            view.setTag(viewHolder);
        } else
            viewHolder = (ViewHolder) view.getTag();

        UserModel model = arrayList.get(i);
        viewHolder.name.setText(model.getName());
        viewHolder.number.setText(model.getNumber());
        viewHolder.emailID.setText(model.getEmailID());

        return view;
    }


    private class ViewHolder {
        private TextView name, number, emailID;
    }

    // Filter Class to filter data
    public void filter(FilterType filterType, String charText, boolean isSearchWithPrefix) {

        //If Filter type is NAME and EMAIL then only do lowercase, else in case of NUMBER no need to do lowercase because of number format
        if (filterType == FilterType.NAME || filterType == FilterType.EMAIL)
            charText = charText.toLowerCase(Locale.getDefault());

        arrayList.clear();//Clear the main ArrayList

        //If search query is null or length is 0 then add all filterList items back to arrayList
        if (charText.length() == 0) {
            arrayList.addAll(filterArrayList);
        } else {

            //Else if search query is not null do a loop to all filterList items
            for (UserModel model : filterArrayList) {

                //Now check the type of search filter
                switch (filterType) {
                    case NAME:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NAME which match with search query
                            if (model.getName().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NAME wherever it contains search query
                            if (model.getName().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case EMAIL:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact EMAIL which match with search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the EMAIL wherever it contains search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case NUMBER:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NUMBER which match with search query
                            if (model.getNumber().startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NUMBER wherever it contains search query
                            if (model.getNumber().contains(charText))
                                arrayList.add(model);
                        }

                        break;
                }

            }
        }
        notifyDataSetChanged();
    }


}</pre>
<ul>
<li><em><strong>RecyclerViewAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.adapter;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import com.listsearch_demo.R;
import com.listsearch_demo.helper.FilterType;
import com.listsearch_demo.helper.UserModel;

import java.util.ArrayList;
import java.util.Locale;

/**
 * Created by sonu on 19/09/16.
 */

public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {

    static class RecyclerViewHolder extends RecyclerView.ViewHolder {

        private TextView name, number, emailID;

        RecyclerViewHolder(View view) {
            super(view);

            name = (TextView) view.findViewById(R.id.name_label);
            number = (TextView) view.findViewById(R.id.number_label);
            emailID = (TextView) view.findViewById(R.id.email_label);
        }

    }

    private ArrayList&lt;UserModel&gt; arrayList;
    private ArrayList&lt;UserModel&gt; filterArrayList;//duplicate list for filtering
    private Context context;


    public RecyclerViewAdapter(Context context, ArrayList&lt;UserModel&gt; arrayList) {
        this.arrayList = arrayList;
        this.context = context;

        this.filterArrayList = new ArrayList&lt;&gt;();//initiate filter list
        this.filterArrayList.addAll(arrayList);//add all items of array list to filter list
    }

    @Override
    public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_custom_row_layout, viewGroup, false);
        return new RecyclerViewHolder(v);
    }

    @Override
    public void onBindViewHolder(final RecyclerViewHolder holder, final int i) {

        UserModel model = arrayList.get(i);
        holder.name.setText(model.getName());
        holder.number.setText(model.getNumber());
        holder.emailID.setText(model.getEmailID());
    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);
    }


    // Filter Class to filter data
    public void filter(FilterType filterType, String charText, boolean isSearchWithPrefix) {

        //If Filter type is NAME and EMAIL then only do lowercase, else in case of NUMBER no need to do lowercase because of number format
        if (filterType == FilterType.NAME || filterType == FilterType.EMAIL)
            charText = charText.toLowerCase(Locale.getDefault());

        arrayList.clear();//Clear the main ArrayList

        //If search query is null or length is 0 then add all filterList items back to arrayList
        if (charText.length() == 0) {
            arrayList.addAll(filterArrayList);
        } else {

            //Else if search query is not null do a loop to all filterList items
            for (UserModel model : filterArrayList) {

                //Now check the type of search filter
                switch (filterType) {
                    case NAME:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NAME which match with search query
                            if (model.getName().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NAME wherever it contains search query
                            if (model.getName().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case EMAIL:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact EMAIL which match with search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the EMAIL wherever it contains search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case NUMBER:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NUMBER which match with search query
                            if (model.getNumber().startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NUMBER wherever it contains search query
                            if (model.getNumber().contains(charText))
                                arrayList.add(model);
                        }

                        break;
                }

            }
        }
        notifyDataSetChanged();
    }

}</pre>
In both the above adapter the common code to filter is:<br />
<pre class="crayon-plain-tag">// Filter Class to filter data
    public void filter(FilterType filterType, String charText, boolean isSearchWithPrefix) {

        //If Filter type is NAME and EMAIL then only do lowercase, else in case of NUMBER no need to do lowercase because of number format
        if (filterType == FilterType.NAME || filterType == FilterType.EMAIL)
            charText = charText.toLowerCase(Locale.getDefault());

        arrayList.clear();//Clear the main ArrayList

        //If search query is null or length is 0 then add all filterList items back to arrayList
        if (charText.length() == 0) {
            arrayList.addAll(filterArrayList);
        } else {

            //Else if search query is not null do a loop to all filterList items
            for (UserModel model : filterArrayList) {

                //Now check the type of search filter
                switch (filterType) {
                    case NAME:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NAME which match with search query
                            if (model.getName().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NAME wherever it contains search query
                            if (model.getName().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case EMAIL:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact EMAIL which match with search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the EMAIL wherever it contains search query
                            if (model.getEmailID().toLowerCase(Locale.getDefault()).contains(charText))
                                arrayList.add(model);
                        }

                        break;
                    case NUMBER:
                        if (isSearchWithPrefix) {
                            //if STARTS WITH radio button is selected then it will match the exact NUMBER which match with search query
                            if (model.getNumber().startsWith(charText))
                                arrayList.add(model);
                        } else {
                            //if CONTAINS radio button is selected then it will match the NUMBER wherever it contains search query
                            if (model.getNumber().contains(charText))
                                arrayList.add(model);
                        }

                        break;
                }

            }
        }
        notifyDataSetChanged();
    }</pre>
<b>9</b>.Â Some helper java classes that we need in this article are:</p>
<ul>
<li><em><strong>UserModel.javaÂ </strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.helper;

/**
 * Created by sonu on 14/02/17.
 */

/*  POJO Class of UserModel  */
public class UserModel {
    private String name, number, emailID;

    public UserModel(String name, String number, String emailID) {
        this.name = name;
        this.number = number;
        this.emailID = emailID;
    }

    public String getName() {
        return name;
    }

    public String getNumber() {
        return number;
    }

    public String getEmailID() {
        return emailID;
    }
}</pre>
<ul>
<li><em><strong>GetUserModelData.javaÂ </strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.helper;

import java.util.ArrayList;

/**
 * Created by sonu on 14/02/17.
 */

/*  Get ArrayList  of UserModel type  */
public class GetUserModelData {
    public static ArrayList&lt;UserModel&gt; getUserModelData() {
        ArrayList&lt;UserModel&gt; arrayList = new ArrayList&lt;&gt;();
        arrayList.add(new UserModel("Droid", "9008091580", "droid@gmail.com"));
        arrayList.add(new UserModel("John", "9876543212", "john@gmail.com"));
        arrayList.add(new UserModel("David", "3452456718", "david@gmail.com"));
        arrayList.add(new UserModel("Humpy", "9843156780", "humpy@gmail.com"));
        arrayList.add(new UserModel("Sharma", "1234984378", "sharma@gmail.com"));
        arrayList.add(new UserModel("Dravid", "4325678943", "dravid@gmail.com"));
        arrayList.add(new UserModel("Android", "8876554433", "android@gmail.com"));
        arrayList.add(new UserModel("Amrish", "3344559988", "amrish@gmail.com"));
        arrayList.add(new UserModel("Allena", "3344990044", "allena@gmail.com"));
        arrayList.add(new UserModel("Smith", "1144553355", "smith@gmail.com"));
        arrayList.add(new UserModel("Guru", "5678493002", "guru@gmail.com"));
        arrayList.add(new UserModel("Rashid", "4450987456", "rashid@gmail.com"));
        arrayList.add(new UserModel("Prophec", "8967589433", "prphec@gmail.com"));
        arrayList.add(new UserModel("Diljit", "9058443399", "diljit@gmail.com"));
        arrayList.add(new UserModel("Bohemia", "5768950484", "bohemia@gmail.com"));
        return arrayList;
    }
}</pre>
<ul>
<li><em><strong>FilterType.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listsearch_demo.helper;

/**
 * Created by sonu on 14/02/17.
 */

/*  Enum Class to identify the type of Filter/Search type  */

public enum FilterType {
    NAME, NUMBER, EMAIL;
}</pre>
<b>10</b>.Â Finally all things done. Now you can also make filterable ListView.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/ListSearch_Demo.zip" target="_blank"><b>Download Source Code â€“ &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-adding-search-functionality-list/">Android Adding Search Functionality to List</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-adding-search-functionality-list/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1147</post-id>	</item>
		<item>
		<title>Android ListView RadioButton</title>
		<link>http://www.androhub.com/android-listview-radiobutton/</link>
		<comments>http://www.androhub.com/android-listview-radiobutton/#respond</comments>
		<pubDate>Sat, 11 Feb 2017 14:53:49 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[custom listview]]></category>
		<category><![CDATA[fragments]]></category>
		<category><![CDATA[gridview]]></category>
		<category><![CDATA[list with radiobutton]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[listview with radiobutton]]></category>
		<category><![CDATA[material tabs]]></category>
		<category><![CDATA[radiobutton]]></category>
		<category><![CDATA[radiobutton list]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[recyclerview with radiobutton]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1141</guid>
		<description><![CDATA[<p>In previous articleÂ  we learnt about how to use multiple choices in ListView. Today we are going to learn how to enable single choice/radio buttonÂ in ListView, GridView and in RecyclerView using RadioButton, youâ€™ll configure the ListView to display a radioButtonÂ next to each item. You can combine many components like TextView, RadioButton, ImageView, etc. and can [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-radiobutton/">Android ListView RadioButton</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>In previous <a href="http://www.androhub.com/android-listview-checkbox/" target="_blank">article</a>Â  we learnt about how to use multiple choices in ListView. Today we are going to learn how to enable single choice/radio buttonÂ in ListView, GridView and in RecyclerView using RadioButton, youâ€™ll configure the ListView to display a radioButtonÂ next to each item. You can combine many components like TextView, RadioButton, ImageView, etc. and can make ListView as you require.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Material TabsÂ Tutorial</a></li>
<li><a href="http://www.androhub.com/android-listview/" target="_blank">ListView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-gridview/" target="_blank">GridView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView Tutorial</a></li>
</ol>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to enable single choice/radio button in ListView, GridView and in RecyclerView using RadioButton.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_75981" width="602" height="339" src="https://www.youtube.com/embed/lDwB_G0RCfI?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. OpenÂ <strong>build.gradleÂ </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">compile 'com.android.support:design:25.1.0' //Library need for material tabs
compile 'com.android.support:recyclerview-v7:25.1.0' //Library need for recycler view</pre><p>
<b>3</b>.Â Now create 3 material tabs naming ListView, GridView and RecyclerView. For this you can check this <a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">link</a> for reference.</p>
<p><b>4</b>.Â After creating tabs lets move to creating xml layouts for individual tabs.</p>
<ul>
<li><strong><em>list_view_frament.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>grid_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;GridView
        android:id="@+id/grid_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container"
        android:horizontalSpacing="2dp"
        android:numColumns="2"
        android:verticalSpacing="2dp" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<ul>
<li><strong><em>recycler_view_fragment.xml</em></strong></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<b>5</b>. In all the above xml layouts i am using one common layout i.e. <em>bottom_container.xml.</em> Lets create the common layout xml, this layout contains twoÂ buttons for implementing actions over selected row.<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:orientation="horizontal"&gt;

    &lt;Button
        android:id="@+id/show_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/show"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/delete_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/delete"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

&lt;/LinearLayout&gt;</pre>
<b>6</b>. Now lets create java classes for all the above three xml files.</p>
<ul>
<li><strong><em>ListViewFragment.java</em></strong></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ListView;

import com.listradiobutton_demo.R;
import com.listradiobutton_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class ListViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;

    public ListViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.list_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadListView(view);
        onClickEvent(view);
    }

    private void loadListView(View view) {
        ListView listView = (ListView) view.findViewById(R.id.list_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("ListView Items " + i);

        adapter = new GridListAdapter(context, arrayList, true);
        listView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Get the selected position
                adapter.getSelectedItem();
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Delete the selected position
                adapter.deleteSelectedPosition();
            }
        });

    }
}</pre>
<ul>
<li><em><strong>GridViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.GridView;

import com.listradiobutton_demo.R;
import com.listradiobutton_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class GridViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;

    public GridViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.grid_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        loadGridView(view);
        onClickEvent(view);
    }

    private void loadGridView(View view) {
        GridView gridView = (GridView) view.findViewById(R.id.grid_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("GridView Items " + i);

        adapter = new GridListAdapter(context, arrayList, false);
        gridView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Get the selected position
                adapter.getSelectedItem();
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Delete the selected position
                adapter.deleteSelectedPosition();
            }
        });


    }

}</pre>
<ul>
<li><em><strong>RecyclerViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import com.listradiobutton_demo.R;
import com.listradiobutton_demo.adapter.RecyclerViewAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class RecyclerViewFragment extends Fragment {

    private Context context;
    private RecyclerViewAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;

    public RecyclerViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.recycler_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        populateRecyclerView(view);
        onClickEvent(view);
    }

    private void populateRecyclerView(View view) {
        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);
        recyclerView.setLayoutManager(linearLayoutManager);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("RecyclerView Items " + i);//Adding items to recycler view

        adapter = new RecyclerViewAdapter(context, arrayList);
        recyclerView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Get the selected position
                adapter.getSelectedItem();
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Delete the selected position
                adapter.deleteSelectedPosition();
            }
        });

    }
}</pre>
<b>7</b>.Â Now after creating all fragment classes we have to create Adapters for ListView, GridView and RecyclerView.</p>
<ul>
<li><em><strong>GridListAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.RadioButton;
import android.widget.TextView;
import android.widget.Toast;

import com.listradiobutton_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */

public class GridListAdapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;String&gt; arrayList;
    private LayoutInflater inflater;
    private boolean isListView;
    private int selectedPosition = -1;

    public GridListAdapter(Context context, ArrayList&lt;String&gt; arrayList, boolean isListView) {
        this.context = context;
        this.arrayList = arrayList;
        this.isListView = isListView;
        inflater = LayoutInflater.from(context);
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int i) {
        return arrayList.get(i);
    }

    @Override
    public long getItemId(int i) {
        return i;
    }

    @Override
    public View getView(final int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        if (view == null) {
            viewHolder = new ViewHolder();

            //inflate the layout on basis of boolean
            if (isListView)
                view = inflater.inflate(R.layout.list_custom_row_layout, viewGroup, false);
            else
                view = inflater.inflate(R.layout.grid_custom_row_layout, viewGroup, false);

            viewHolder.label = (TextView) view.findViewById(R.id.label);
            viewHolder.radioButton = (RadioButton) view.findViewById(R.id.radio_button);

            view.setTag(viewHolder);
        } else
            viewHolder = (ViewHolder) view.getTag();

        viewHolder.label.setText(arrayList.get(i));

        //check the radio button if both position and selectedPosition matches
        viewHolder.radioButton.setChecked(i == selectedPosition);

        //Set the position tag to both radio button and label
        viewHolder.radioButton.setTag(i);
        viewHolder.label.setTag(i);

        viewHolder.radioButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }
        });

        viewHolder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }


        });
        return view;
    }

    //On selecting any view set the current position to selectedPositon and notify adapter
    private void itemCheckChanged(View v) {
        selectedPosition = (Integer) v.getTag();
        notifyDataSetChanged();
    }

    private class ViewHolder {
        private TextView label;
        private RadioButton radioButton;
    }

    //Return the selectedPosition item
    public String getSelectedItem() {
        if (selectedPosition != -1) {
            Toast.makeText(context, "Selected Item : " + arrayList.get(selectedPosition), Toast.LENGTH_SHORT).show();
            return arrayList.get(selectedPosition);
        }
        return "";
    }

    //Delete the selected position from the arrayList
    public void deleteSelectedPosition() {
        if (selectedPosition != -1) {
            arrayList.remove(selectedPosition);
            selectedPosition = -1;//after removing selectedPosition set it back to -1
            notifyDataSetChanged();
        }
    }
}</pre>
<ul>
<li><em><strong>RecyclerViewAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listradiobutton_demo.adapter;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.RadioButton;
import android.widget.TextView;
import android.widget.Toast;

import com.listradiobutton_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 19/09/16.
 */

public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {

    static class RecyclerViewHolder extends RecyclerView.ViewHolder {

        private TextView label;
        private RadioButton radioButton;

        RecyclerViewHolder(View view) {
            super(view);
            label = (TextView) view.findViewById(R.id.label);
            radioButton = (RadioButton) view.findViewById(R.id.radio_button);
        }

    }

    private ArrayList&lt;String&gt; arrayList;
    private Context context;
    private int selectedPosition = -1;


    public RecyclerViewAdapter(Context context, ArrayList&lt;String&gt; arrayList) {
        this.arrayList = arrayList;
        this.context = context;
    }

    @Override
    public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_custom_row_layout, viewGroup, false);
        return new RecyclerViewHolder(v);
    }

    @Override
    public void onBindViewHolder(final RecyclerViewHolder holder, final int i) {

        holder.label.setText(arrayList.get(i));

        //check the radio button if both position and selectedPosition matches
        holder.radioButton.setChecked(i == selectedPosition);

        //Set the position tag to both radio button and label
        holder.radioButton.setTag(i);
        holder.label.setTag(i);
        holder.radioButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }
        });

        holder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                itemCheckChanged(v);
            }


        });
    }

    //On selecting any view set the current position to selectedPositon and notify adapter
    private void itemCheckChanged(View v) {
        selectedPosition = (Integer) v.getTag();
        notifyDataSetChanged();
    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);
    }

    //Return the selectedPosition item
    public String getSelectedItem() {
        if (selectedPosition != -1) {
            Toast.makeText(context, "Selected Item : " + arrayList.get(selectedPosition), Toast.LENGTH_SHORT).show();
            return arrayList.get(selectedPosition);
        }
        return "";
    }

    //Delete the selected position from the arrayList
    public void deleteSelectedPosition() {
        if (selectedPosition != -1) {
            arrayList.remove(selectedPosition);
            selectedPosition = -1;//after removing selectedPosition set it back to -1
            notifyDataSetChanged();
        }
    }
}</pre>
In both the above adapter the common code to select row is:<br />
<pre class="crayon-plain-tag">//On selecting any view set the current position to selectedPosition and notify adapter
    private void itemCheckChanged(View v) {
        selectedPosition = (Integer) v.getTag();
        notifyDataSetChanged();
    }

 //Return the selectedPosition item
    public String getSelectedItem() {
        if (selectedPosition != -1) {
            Toast.makeText(context, "Selected Item : " + arrayList.get(selectedPosition), Toast.LENGTH_SHORT).show();
            return arrayList.get(selectedPosition);
        }
        return "";
    }

    //Delete the selected position from the arrayList
    public void deleteSelectedPosition() {
        if (selectedPosition != -1) {
            arrayList.remove(selectedPosition);
            selectedPosition = -1;//after removing selectedPosition set it back to -1
            notifyDataSetChanged();
        }
    }</pre>
<b>8</b>.Â Finally all things done. Now you can also make your any type of singleÂ choice list view.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/ListRadioButton_Demo.zip" target="_blank"><b>Download Source Code â€“ &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-radiobutton/">Android ListView RadioButton</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-listview-radiobutton/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1141</post-id>	</item>
		<item>
		<title>Android ListView Checkbox</title>
		<link>http://www.androhub.com/android-listview-checkbox/</link>
		<comments>http://www.androhub.com/android-listview-checkbox/#respond</comments>
		<pubDate>Thu, 09 Feb 2017 16:58:13 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android Fragment]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[checkbox]]></category>
		<category><![CDATA[deselect all checkbox]]></category>
		<category><![CDATA[gridview]]></category>
		<category><![CDATA[gridview with checkbox]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[listview with checkbox]]></category>
		<category><![CDATA[material tabs]]></category>
		<category><![CDATA[multiple choice listviews]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[recyclerview with checkbox]]></category>
		<category><![CDATA[select all checkbox]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1136</guid>
		<description><![CDATA[<p>Hi to all, today we are going to learn how to enable multiple items to be chosen in ListView, GridView and in RecyclerView using CheckBox, youâ€™ll configure the ListView to display a checkbox next to each item. You can combine many components like TextView, CheckBox, ImageView, etc. and can make ListView as you require. Prerequisite: [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-checkbox/">Android ListView Checkbox</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Hi to all, today we are going to learn how to enable multiple items to be chosen in ListView, GridView and in RecyclerView using CheckBox, youâ€™ll configure the ListView to display a checkbox next to each item. You can combine many components like TextView, CheckBox, ImageView, etc. and can make ListView as you require.</p>
<h2>Prerequisite:</h2>
<ol>
<li><a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Material TabsÂ Tutorial</a></li>
<li><a href="http://www.androhub.com/android-listview/" target="_blank">ListView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-gridview/" target="_blank">GridView Tutorial</a></li>
<li><a href="http://www.androhub.com/android-recyclerview/" target="_blank">RecyclerView Tutorial</a></li>
</ol>
<h3>Example</h3>
<p>In this tutorial, we are going to learn how to enable multiple items to be chosen in ListView, GridView and in RecyclerView using CheckBox.</p>
<h2>VIDEO DEMO</h2>
<p><iframe  id="_ytid_89681" width="602" height="339" src="https://www.youtube.com/embed/F6Ysr7TyMew?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. OpenÂ <strong>build.gradleÂ </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">compile 'com.android.support:design:25.1.0' //Library need for material tabs
compile 'com.android.support:recyclerview-v7:25.1.0' //Library need for recycler view</pre><p>
<b>3</b>.Â Now create 3 material tabs naming ListView, GridView and RecyclerView. For this you can check this <a href="http://www.androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">link</a> for reference.</p>
<p><b>4</b>.Â After creating tabs lets move to creating xml layouts for individual tabs.</p>
<ul>
<li><em>list_view_frament.xml</em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;ListView
        android:id="@+id/list_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;

&lt;/RelativeLayout&gt;</pre>
<ul>
<li><em>grid_view_fragment.xml</em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;GridView
        android:id="@+id/grid_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container"
        android:horizontalSpacing="2dp"
        android:numColumns="2"
        android:verticalSpacing="2dp" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<ul>
<li><em>recycler_view_fragment.xml</em></li>
</ul>
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"&gt;

    &lt;android.support.v7.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/bottom_container" /&gt;

    &lt;include
        android:id="@+id/bottom_container"
        layout="@layout/bottom_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" /&gt;
&lt;/RelativeLayout&gt;</pre>
<b>5</b>. In all the above xml layouts i am using one common layout i.e. <em>bottom_container.xml.</em> Lets create the common layout xml, this layout contains three buttons for implementing actions over selected rows.<br />
<pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:orientation="horizontal"&gt;

    &lt;Button
        android:id="@+id/show_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/show"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/delete_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/delete"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;

    &lt;Button
        android:id="@+id/select_button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@string/select_all"
        android:textColor="@android:color/black"
        android:textSize="14sp" /&gt;
&lt;/LinearLayout&gt;</pre>
<b>6</b>. Now lets create java classes for all the above three xml files.</p>
<ul>
<li><strong><em>ListViewFragment.java</em></strong></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.ListView;
import android.widget.Toast;

import com.listcheckbox_demo.R;
import com.listcheckbox_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class ListViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;
    private Button selectButton;

    public ListViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.list_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        selectButton = (Button) view.findViewById(R.id.select_button);
        loadListView(view);
        onClickEvent(view);
    }

    private void loadListView(View view) {
        ListView listView = (ListView) view.findViewById(R.id.list_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("ListView Items " + i);//Adding items to recycler view

        adapter = new GridListAdapter(context, arrayList, true);
        listView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    for (int i = 0; i &lt; selectedRows.size(); i++) {
                        if (selectedRows.valueAt(i)) {
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {
                        if (selectedRows.valueAt(i)) {
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }
                    adapter.removeSelection();
                }
            }
        });
        selectButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {

                //Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }


            }
        });
    }
}</pre>
<ul>
<li><em><strong>GridViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.GridView;
import android.widget.Toast;

import com.listcheckbox_demo.R;
import com.listcheckbox_demo.adapter.GridListAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class GridViewFragment extends Fragment {
    private Context context;
    private GridListAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;
    private Button selectButton;

    public GridViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.grid_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        selectButton = (Button) view.findViewById(R.id.select_button);
        loadGridView(view);
        onClickEvent(view);
    }

    private void loadGridView(View view) {
        GridView gridView = (GridView) view.findViewById(R.id.grid_view);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("GridView Items " + i);

        adapter = new GridListAdapter(context, arrayList, false);
        gridView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    for (int i = 0; i &lt; selectedRows.size(); i++) {
                        if (selectedRows.valueAt(i)) {
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }
            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {
                        if (selectedRows.valueAt(i)) {
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }
                    adapter.removeSelection();
                }

            }
        });
        selectButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }
            }
        });

    }

}</pre>
<ul>
<li><em><strong>RecyclerViewFragment.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.main;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.Toast;

import com.listcheckbox_demo.R;
import com.listcheckbox_demo.adapter.RecyclerViewAdapter;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */
public class RecyclerViewFragment extends Fragment {

    private Context context;
    private RecyclerViewAdapter adapter;
    private ArrayList&lt;String&gt; arrayList;
    private Button selectButton;

    public RecyclerViewFragment() {
    }

    @Override
    public void onAttach(Context context) {
        super.onAttach(context);
        this.context = context;
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.recycler_view_fragment, container, false);
    }

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        selectButton = (Button) view.findViewById(R.id.select_button);
        populateRecyclerView(view);
        onClickEvent(view);
    }

    private void populateRecyclerView(View view) {
        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);
        recyclerView.setLayoutManager(linearLayoutManager);
        arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 50; i++)
            arrayList.add("RecyclerView Items " + i);//Adding items to recycler view

        adapter = new RecyclerViewAdapter(context, arrayList);
        recyclerView.setAdapter(adapter);
    }

    private void onClickEvent(View view) {
        view.findViewById(R.id.show_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    for (int i = 0; i &lt; selectedRows.size(); i++) {
                        if (selectedRows.valueAt(i)) {
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }

            }
        });
        view.findViewById(R.id.delete_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                SparseBooleanArray selectedRows = adapter.getSelectedIds();
                if (selectedRows.size() &gt; 0) {
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {
                        if (selectedRows.valueAt(i)) {
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }
                    adapter.removeSelection();
                }
            }
        });
        selectButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }
            }
        });
    }
}</pre>
In all the three above Java classes the main thing that we need to focus is button click events:</p>
<ul>
<li><strong>Show Button :Â </strong>This button used to show a Toast of checked rows.</li>
</ul>
<pre class="crayon-plain-tag">SparseBooleanArray selectedRows = adapter.getSelectedIds();//Get the selected ids from adapter
                //Check if item is selected or not via size
                if (selectedRows.size() &gt; 0) {
                    StringBuilder stringBuilder = new StringBuilder();
                    //Loop to all the selected rows array
                    for (int i = 0; i &lt; selectedRows.size(); i++) {

                        //Check if selected rows have value i.e. checked item
                        if (selectedRows.valueAt(i)) {

                            //Get the checked item text from array list by getting keyAt method of selectedRowsarray
                            String selectedRowLabel = arrayList.get(selectedRows.keyAt(i));

                            //append the row label text
                            stringBuilder.append(selectedRowLabel + "\n");
                        }
                    }
                    Toast.makeText(context, "Selected Rows\n" + stringBuilder.toString(), Toast.LENGTH_SHORT).show();
                }</pre>
<ul>
<li><strong>Delete Button :Â </strong>This button is to deleteÂ checked rows.</li>
</ul>
<pre class="crayon-plain-tag">SparseBooleanArray selectedRows = adapter.getSelectedIds();//Get the selected ids from adapter
                //Check if item is selected or not via size
                if (selectedRows.size() &gt; 0) {
                    //Loop to all the selected rows array
                    for (int i = (selectedRows.size() - 1); i &gt;= 0; i--) {

                        //Check if selected rows have value i.e. checked item
                        if (selectedRows.valueAt(i)) {

                            //remove the checked item
                            arrayList.remove(selectedRows.keyAt(i));
                        }
                    }

                    //notify the adapter and remove all checked selection
                    adapter.removeSelection();
                }</pre>
<ul>
<li><strong>Select All/Deselect All Button :Â </strong>This button is to select and deselect all the rows.</li>
</ul>
<pre class="crayon-plain-tag">//Check the current text of Select Button
                if (selectButton.getText().toString().equals(getResources().getString(R.string.select_all))) {

                    //If Text is Select All then loop to all array List items and check all of them
                    for (int i = 0; i &lt; arrayList.size(); i++)
                        adapter.checkCheckBox(i, true);

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.deselect_all));
                } else {
                    //If button text is Deselect All remove check from all items
                    adapter.removeSelection();

                    //After checking all items change button text
                    selectButton.setText(getResources().getString(R.string.select_all));
                }</pre>
<b>7</b>.Â Now after creating all fragment classes we have to create Adapters for ListView, GridView and RecyclerView.</p>
<ul>
<li><em><strong>GridListAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.adapter;

import android.content.Context;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.CheckBox;
import android.widget.TextView;

import com.listcheckbox_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 08/02/17.
 */

public class GridListAdapter extends BaseAdapter {
    private Context context;
    private ArrayList&lt;String&gt; arrayList;
    private LayoutInflater inflater;
    private boolean isListView;
    private SparseBooleanArray mSelectedItemsIds;

    public GridListAdapter(Context context, ArrayList&lt;String&gt; arrayList, boolean isListView) {
        this.context = context;
        this.arrayList = arrayList;
        this.isListView = isListView;
        inflater = LayoutInflater.from(context);
        mSelectedItemsIds = new SparseBooleanArray();
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int i) {
        return arrayList.get(i);
    }

    @Override
    public long getItemId(int i) {
        return i;
    }

    @Override
    public View getView(final int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        if (view == null) {
            viewHolder = new ViewHolder();

            //inflate the layout on basis of boolean
            if (isListView)
                view = inflater.inflate(R.layout.list_custom_row_layout, viewGroup, false);
            else
                view = inflater.inflate(R.layout.grid_custom_row_layout, viewGroup, false);

            viewHolder.label = (TextView) view.findViewById(R.id.label);
            viewHolder.checkBox = (CheckBox) view.findViewById(R.id.checkbox);

            view.setTag(viewHolder);
        } else
            viewHolder = (ViewHolder) view.getTag();

        viewHolder.label.setText(arrayList.get(i));
        viewHolder.checkBox.setChecked(mSelectedItemsIds.get(i));

        viewHolder.checkBox.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });

        viewHolder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });

        return view;
    }

    private class ViewHolder {
        private TextView label;
        private CheckBox checkBox;
    }


    /**
     * Remove all checkbox Selection
     **/
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }

    /**
     * Check the Checkbox if not checked
     **/
    public void checkCheckBox(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, true);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    /**
     * Return the selected Checkbox IDs
     **/
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }

}</pre>
<ul>
<li><em><strong>RecyclerViewAdapter.java</strong></em></li>
</ul>
<pre class="crayon-plain-tag">package com.listcheckbox_demo.adapter;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.CheckBox;
import android.widget.TextView;

import com.listcheckbox_demo.R;

import java.util.ArrayList;

/**
 * Created by sonu on 19/09/16.
 */

public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {

    static class RecyclerViewHolder extends RecyclerView.ViewHolder {

        private TextView label;
        private CheckBox checkBox;

        RecyclerViewHolder(View view) {
            super(view);
            label = (TextView) view.findViewById(R.id.label);
            checkBox = (CheckBox) view.findViewById(R.id.checkbox);
        }

    }

    private ArrayList&lt;String&gt; arrayList;
    private Context context;
    private SparseBooleanArray mSelectedItemsIds;


    public RecyclerViewAdapter(Context context, ArrayList&lt;String&gt; arrayList) {
        this.arrayList = arrayList;
        this.context = context;
        mSelectedItemsIds = new SparseBooleanArray();
    }

    @Override
    public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_custom_row_layout, viewGroup, false);
        return new RecyclerViewHolder(v);
    }

    @Override
    public void onBindViewHolder(final RecyclerViewHolder holder, final int i) {
        holder.label.setText(arrayList.get(i));
        holder.checkBox.setChecked(mSelectedItemsIds.get(i));

        holder.checkBox.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });

        holder.label.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                checkCheckBox(i, !mSelectedItemsIds.get(i));
            }
        });
    }

    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() : 0);
    }

    /**
     * Remove all checkbox Selection
     **/
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }

    /**
     * Check the Checkbox if not checked
     **/
    public void checkCheckBox(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, true);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    /**
     * Return the selected Checkbox IDs
     **/
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }


}</pre>
In both the above adapter the common code is to select rows:<br />
<pre class="crayon-plain-tag">/**
     * Remove all checkbox Selection
     **/
    public void removeSelection() {
        mSelectedItemsIds = new SparseBooleanArray();
        notifyDataSetChanged();
    }

    /**
     * Check the Checkbox if not checked
     **/
    public void checkCheckBox(int position, boolean value) {
        if (value)
            mSelectedItemsIds.put(position, true);
        else
            mSelectedItemsIds.delete(position);

        notifyDataSetChanged();
    }

    /**
     * Return the selected Checkbox IDs
     **/
    public SparseBooleanArray getSelectedIds() {
        return mSelectedItemsIds;
    }</pre>
<b>8</b>.Â Finally all things done. Now you can also make your any type of multiple choice list view.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/ListCheckBox_Demo.zip" target="_blank"><b>Download Source Code â€“ &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-listview-checkbox/">Android ListView Checkbox</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-listview-checkbox/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1136</post-id>	</item>
		<item>
		<title>Working with Android Marshmallow 6.0 Permissions</title>
		<link>http://www.androhub.com/working-android-marshmallow-6-0-permissions/</link>
		<comments>http://www.androhub.com/working-android-marshmallow-6-0-permissions/#comments</comments>
		<pubDate>Thu, 30 Jun 2016 04:18:22 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[manifest permission]]></category>
		<category><![CDATA[marshmallow]]></category>
		<category><![CDATA[marshmallow permission]]></category>
		<category><![CDATA[run time permission]]></category>

		<guid isPermaLink="false">http://www.androhub.com/?p=1040</guid>
		<description><![CDATA[<p>Android Marshmallow 6.0 final stable version is released in October 2015. Android Marshmallow brought some new API changes and one of the most important API change is the addition of new granular permissions. Below is the type of permissions required for Marshmallow Devices: Normal and Dangerous Permissions In Marshmallow these dangerous permissions should be granted [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/">Working with Android Marshmallow 6.0 Permissions</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Android <strong>Marshmallow 6.0</strong> final stable version is released in <strong>October 2015</strong>. Android Marshmallow brought some new API changes and one of the most important API change is the addition of <strong>new granular permissions</strong>. Below is the type of permissions required for Marshmallow Devices:</p>
<h2><a href="https://developer.android.com/guide/topics/security/permissions.html#normal-dangerous" target="_blank">Normal and Dangerous Permissions</a></h2>
<p>In Marshmallow these dangerous permissions should be granted at run time and the normal permissions are granted automatically. For Lollipop (API level 22) or lower android versions the permissions specified in manifest are granted atÂ installation.</p>
<p>Due to this permissions now no more popup dialog of permissions while installingÂ app from Play Store. The permissions will be asked manually during run time via asking user to allow or deny the permissions. Below is the type of permissions dialog:</p>
<ol>
<li><strong>Pre &#8211; Marshmallow Devices Permissions Dialog :Â </strong>
<div id="attachment_1044" style="width: 330px" class="wp-caption aligncenter"><img class="size-full wp-image-1044" src="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/06/pre-marshmallow_device_permission_popup.jpg?resize=320%2C569" alt="Pre MarshMallow Permission" srcset="https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/06/pre-marshmallow_device_permission_popup.jpg?w=320 320w, https://i0.wp.com/www.androhub.com/wp-content/uploads/2016/06/pre-marshmallow_device_permission_popup.jpg?resize=169%2C300 169w" sizes="(max-width: 320px) 100vw, 320px" data-recalc-dims="1" /><p class="wp-caption-text">Pre MarshMallow Permission</p></div></li>
<li><strong>Marshmallow Devices Run Time Permissions Dialog :Â </strong></li>
</ol>
<div id="attachment_1043" style="width: 330px" class="wp-caption aligncenter"><img class="size-full wp-image-1043" src="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/06/permission_popup.jpg?resize=320%2C569" alt="Marshmallow Permission" srcset="https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/06/permission_popup.jpg?w=320 320w, https://i2.wp.com/www.androhub.com/wp-content/uploads/2016/06/permission_popup.jpg?resize=169%2C300 169w" sizes="(max-width: 320px) 100vw, 320px" data-recalc-dims="1" /><p class="wp-caption-text">Marshmallow Permission</p></div>
<p>&nbsp;</p>
<p>You can navigate to<strong> App Info</strong> and go to <strong>Permission option</strong> to <strong>revoke back</strong> and<strong> grant access</strong> the permissions manually.</p>
<div id="attachment_1045" style="width: 330px" class="wp-caption aligncenter"><img class="size-full wp-image-1045" src="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/06/marshmallow_permission.jpg?resize=320%2C569" alt="App Info Permission" srcset="https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/06/marshmallow_permission.jpg?w=320 320w, https://i1.wp.com/www.androhub.com/wp-content/uploads/2016/06/marshmallow_permission.jpg?resize=169%2C300 169w" sizes="(max-width: 320px) 100vw, 320px" data-recalc-dims="1" /><p class="wp-caption-text">App Info Permission</p></div>
<h3>Example</h3>
<p>In this tutorial,Â we are going toÂ learn how toÂ check if the permission is already granted and if not granted how to grant permissions.</p>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_65825" width="602" height="339" src="https://www.youtube.com/embed/2PjsQm5BasQ?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>.Â Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;MarshMallow Permissions Demo&lt;/string&gt;

    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="storage"&gt;Storage&lt;/string&gt;
    &lt;string name="sms"&gt;SMS&lt;/string&gt;
    &lt;string name="contacts"&gt;Contacts&lt;/string&gt;
    &lt;string name="location"&gt;Location&lt;/string&gt;
    &lt;string name="title"&gt;Click below buttons to allow permissionsâ€¦&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>3</b>.Create <em>activity_main.xml</em> and add the following code. In this xml file add the button to access permission.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"&gt;

    &lt;android.support.v7.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="fill_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="?attr/colorPrimary"
        android:elevation="5dp"
        app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;

    &lt;TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:padding="10dp"
        android:text="@string/title"
        android:textColor="@android:color/black"
        android:textSize="15sp" /&gt;

    &lt;Button
        android:id="@+id/access_location_permission"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="7dp"
        android:onClick="allowLocationPermission"
        android:text="@string/location"
        android:textColor="@android:color/black"
        android:textSize="15sp" /&gt;

    &lt;Button
        android:id="@+id/access_contacts_permission"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:onClick="allowContactsPermission"
        android:text="@string/contacts"
        android:textColor="@android:color/black"
        android:textSize="15sp" /&gt;

    &lt;Button
        android:id="@+id/access_sms_permission"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:onClick="allowSmsPermission"
        android:text="@string/sms"
        android:textColor="@android:color/black"
        android:textSize="15sp" /&gt;

    &lt;Button
        android:id="@+id/access_storage_permission"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:onClick="allowStoragePermission"
        android:text="@string/storage"
        android:textColor="@android:color/black"
        android:textSize="15sp" /&gt;

&lt;/LinearLayout&gt;</pre><p>
<b>4</b>.Â Now open your <em>AndroidManifest.xml</em> and add the following permission for Pre-Marshmallow Devices.</p><pre class="crayon-plain-tag">&lt;!--  Permissions for Devices below Marshmallow Versions --&gt;
    &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;
    &lt;uses-permission android:name="android.permission.READ_CONTACTS" /&gt;
    &lt;uses-permission android:name="android.permission.READ_SMS" /&gt;
    &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;</pre><p>
<b>5</b>. Now to access permission for Marshmallow Devices below are some steps to do it:</p>
<ul>
<li><strong>Check if Permission is already granted</strong> : Lets check permission for <strong>ACCESS_FINE_LOCATION</strong>, if permission is granted then it will display toast else it will ask user to Allow or Deny the Location permission.</li>
</ul>
<pre class="crayon-plain-tag">if (ContextCompat.checkSelfPermission(MainActivity.this,
                Manifest.permission.ACCESS_FINE_LOCATION)
                != PackageManager.PERMISSION_GRANTED)
            MarshMallowPermission.requestLocationPermission(MainActivity.this);
  else
       Toast.makeText(MainActivity.this, "Permission is already granted.", Toast.LENGTH_SHORT).show();</pre>
<ul>
<li><strong>If Permission is not Granted Open Permission Dialog:</strong> If permission is not granted a dialog will open to ask user permission. Here we need to pass an <strong>Unique Id</strong> as we used to send in <strong>StartActivityForResultÂ </strong>to get back result from user action.</li>
</ul>
<pre class="crayon-plain-tag">if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACCESS_FINE_LOCATION)) {  
               // Provide an additional rationale to the user if the permission was not granted
            // and the user would benefit from additional context for the use of the permission.
            // For example if the user has previously denied the permission.
            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},
                    MarshmallowIntentId.ACCESS_FINE_LOCATION_INTENT_ID);
        } else {
            // permission has not been granted yet. Request it directly.
            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},
                    MarshmallowIntentId.ACCESS_FINE_LOCATION_INTENT_ID);
        }</pre>
<ul>
<li><strong>OnRequestPermissionResult</strong>: Now when the user allow or deny the permission then responseÂ will beÂ check via <strong>onRequestPermissionResult()</strong> method same as <strong>onActivityResult()</strong>.</li>
</ul>
<pre class="crayon-plain-tag">public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        switch (requestCode) {
            case MarshmallowIntentId.ACCESS_FINE_LOCATION_INTENT_ID:
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length &gt; 0
                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    // permission was granted, yay! Do the
                    // task you need to do.
                    Toast.makeText(MainActivity.this, "Location Permission granted.", Toast.LENGTH_SHORT).show();

                } else {
                    // permission denied, boo! Disable the
                    // functionality that depends on this permission.
                    Toast.makeText(MainActivity.this, "Location Permission denied.", Toast.LENGTH_SHORT).show();
                }
                break;  
        }
    }</pre>
<b>6</b>.Â For Permission Intent Id&#8217;s we have created a class naming <strong>MarshmallowIntentId.java</strong> and put all Intent Id into it and access from here only.<br />
<pre class="crayon-plain-tag">package com.marshmallow_permissions_demo;

/**
 * Created by SONU on 01/03/16.
 */
public class MarshmallowIntentId {
    //Intent id's for Marshmallow Permissions
    public static final int WRITE_EXTERNAL_STORAGE_PERMISSION = 1;
    public static final int READ_SMS_INTENT_ID = 2;
    public static final int ACCESS_FINE_LOCATION_INTENT_ID = 3;
    public static final int ACCESS_CONTACTS_INTENT_ID = 4;

}</pre>
<b>7</b>. Now to ask permission to user we have to create a class naming <strong>MarshmallowPermission.java</strong> and add all required permission methods into it and call it whenever we require.<br />
<pre class="crayon-plain-tag">package com.marshmallow_permissions_demo;

import android.Manifest;
import android.app.Activity;
import android.content.Context;
import android.support.v4.app.ActivityCompat;

/**
 * Created by SONU on 13/01/16.
 */
public class MarshMallowPermission {


    public static void requestStoragePermission(final Context context) {
        if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.WRITE_EXTERNAL_STORAGE)) {
            // Provide an additional rationale to the user if the permission was not granted
            // and the user would benefit from additional context for the use of the permission.
            // For example if the user has previously denied the permission.

            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},
                    MarshmallowIntentId.WRITE_EXTERNAL_STORAGE_PERMISSION);


        } else {
            // permission has not been granted yet. Request it directly.
            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},
                    MarshmallowIntentId.WRITE_EXTERNAL_STORAGE_PERMISSION);
        }
    }

    public static void requestReadSMSPermission(final Context context) {
        if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.READ_SMS)) {
            // Provide an additional rationale to the user if the permission was not granted
            // and the user would benefit from additional context for the use of the permission.
            // For example if the user has previously denied the permission.

            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.READ_SMS},
                    MarshmallowIntentId.READ_SMS_INTENT_ID);


        } else {
            // permission has not been granted yet. Request it directly.
            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.READ_SMS},
                    MarshmallowIntentId.READ_SMS_INTENT_ID);
        }
    }

    public static void requestLocationPermission(final Context context) {
        if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACCESS_FINE_LOCATION)) {
            // Provide an additional rationale to the user if the permission was not granted
            // and the user would benefit from additional context for the use of the permission.
            // For example if the user has previously denied the permission.

            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},
                    MarshmallowIntentId.ACCESS_FINE_LOCATION_INTENT_ID);


        } else {
            // permission has not been granted yet. Request it directly.
            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},
                    MarshmallowIntentId.ACCESS_FINE_LOCATION_INTENT_ID);
        }
    }

    public static void requestContactsPermission(final Context context) {
        if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.READ_CONTACTS)) {
            // Provide an additional rationale to the user if the permission was not granted
            // and the user would benefit from additional context for the use of the permission.
            // For example if the user has previously denied the permission.

            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.READ_CONTACTS},
                    MarshmallowIntentId.ACCESS_CONTACTS_INTENT_ID);


        } else {
            // permission has not been granted yet. Request it directly.
            ActivityCompat.requestPermissions((Activity) context,
                    new String[]{Manifest.permission.READ_CONTACTS},
                    MarshmallowIntentId.ACCESS_CONTACTS_INTENT_ID);
        }
    }


}</pre>
<b>8</b>.Â Finally create <em>MainActivity.java</em> and add the following code. In this class we need to check the permission is granted or not on button click and grant permission if not granted.<br />
<pre class="crayon-plain-tag">package com.marshmallow_permissions_demo;

import android.Manifest;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.os.Bundle;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.view.View;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        setUpToolbar();
    }
    //set up toolbar
    private void setUpToolbar() {
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
    }

    public void allowLocationPermission(View view) {
        //Check if permission is granted or not
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                Manifest.permission.ACCESS_FINE_LOCATION)
                != PackageManager.PERMISSION_GRANTED)
            MarshMallowPermission.requestLocationPermission(MainActivity.this);
        else
            Toast.makeText(MainActivity.this, "Permission is already granted.", Toast.LENGTH_SHORT).show();
    }

    public void allowStoragePermission(View view) {
        //Check if permission is granted or not
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                Manifest.permission.WRITE_EXTERNAL_STORAGE)
                != PackageManager.PERMISSION_GRANTED)
            MarshMallowPermission.requestStoragePermission(MainActivity.this);
        else
            Toast.makeText(MainActivity.this, "Permission is already granted.", Toast.LENGTH_SHORT).show();
    }

    public void allowSmsPermission(View view) {
        //Check if permission is granted or not
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                Manifest.permission.READ_SMS)
                != PackageManager.PERMISSION_GRANTED)
            MarshMallowPermission.requestReadSMSPermission(MainActivity.this);
        else
            Toast.makeText(MainActivity.this, "Permission is already granted.", Toast.LENGTH_SHORT).show();
    }

    public void allowContactsPermission(View view) {
        //Check if permission is granted or not
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                Manifest.permission.READ_CONTACTS)
                != PackageManager.PERMISSION_GRANTED)
            MarshMallowPermission.requestContactsPermission(MainActivity.this);
        else
            Toast.makeText(MainActivity.this, "Permission is already granted.", Toast.LENGTH_SHORT).show();
    }


    @Override
    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        switch (requestCode) {
            case MarshmallowIntentId.ACCESS_FINE_LOCATION_INTENT_ID:
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length &gt; 0
                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    // permission was granted, yay! Do the
                    // task you need to do.
                    Toast.makeText(MainActivity.this, "Location Permission granted.", Toast.LENGTH_SHORT).show();

                } else {
                    // permission denied, boo! Disable the
                    // functionality that depends on this permission.
                    Toast.makeText(MainActivity.this, "Location Permission denied.", Toast.LENGTH_SHORT).show();
                }
                break;
            case MarshmallowIntentId.ACCESS_CONTACTS_INTENT_ID:
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length &gt; 0
                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    // permission was granted, yay! Do the
                    // task you need to do.
                    Toast.makeText(MainActivity.this, "Contact Permission granted.", Toast.LENGTH_SHORT).show();

                } else {
                    // permission denied, boo! Disable the
                    // functionality that depends on this permission.
                    Toast.makeText(MainActivity.this, "Contact Permission denied.", Toast.LENGTH_SHORT).show();
                }
                break;
            case MarshmallowIntentId.READ_SMS_INTENT_ID:
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length &gt; 0
                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    // permission was granted, yay! Do the
                    // task you need to do.
                    Toast.makeText(MainActivity.this, "SMS Permission granted.", Toast.LENGTH_SHORT).show();

                } else {
                    // permission denied, boo! Disable the
                    // functionality that depends on this permission.
                    Toast.makeText(MainActivity.this, "SMS Permission denied.", Toast.LENGTH_SHORT).show();
                }
                break;
            case MarshmallowIntentId.WRITE_EXTERNAL_STORAGE_PERMISSION:
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length &gt; 0
                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    // permission was granted, yay! Do the
                    // task you need to do.
                    Toast.makeText(MainActivity.this, "Storage Permission granted.", Toast.LENGTH_SHORT).show();

                } else {
                    // permission denied, boo! Disable the
                    // functionality that depends on this permission.
                    Toast.makeText(MainActivity.this, "Storage Permission denied.", Toast.LENGTH_SHORT).show();
                }
                break;


        }
    }
}</pre>
<b>9</b>. Finally, all done â€“ now you can alsoÂ add permissions to your app on run time.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/MarshMallow_Permissions_Demo.zip" target="_blank"><b>Download Source Code â€“ &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/working-android-marshmallow-6-0-permissions/">Working with Android Marshmallow 6.0 Permissions</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/working-android-marshmallow-6-0-permissions/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1040</post-id>	</item>
		<item>
		<title>Android Header and Footer Tutorial</title>
		<link>http://www.androhub.com/android-header-footer-tutorial/</link>
		<comments>http://www.androhub.com/android-header-footer-tutorial/#respond</comments>
		<pubDate>Tue, 28 Jun 2016 04:41:29 +0000</pubDate>
		<dc:creator><![CDATA[Dr. Droid]]></dc:creator>
				<category><![CDATA[Android Basics]]></category>
		<category><![CDATA[Android ListView]]></category>
		<category><![CDATA[Android RecyclerView]]></category>
		<category><![CDATA[Android Tabs]]></category>
		<category><![CDATA[Android ViewPager]]></category>
		<category><![CDATA[Footer]]></category>
		<category><![CDATA[footer view]]></category>
		<category><![CDATA[Header]]></category>
		<category><![CDATA[header and footer view]]></category>
		<category><![CDATA[header view]]></category>
		<category><![CDATA[item Type]]></category>
		<category><![CDATA[listview]]></category>
		<category><![CDATA[recyclerview]]></category>
		<category><![CDATA[Tab Layout]]></category>
		<category><![CDATA[ToolBar]]></category>

		<guid isPermaLink="false">http://androhub.com/?p=1028</guid>
		<description><![CDATA[<p>In this tutorial we are going to learn how to implement Header and Footer for ListView and RecyclerView.Â The header is a View thatÂ displays before first item and footer displays after last item. Most of the apps you had seen who is having header and footer. Same thing we are going to implement in this tutorial. [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-header-footer-tutorial/">Android Header and Footer Tutorial</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>In this tutorial we are going to learn how to implement <strong>Header and Footer</strong> for <strong><a href="http://androhub.com/android-listview/" target="_blank">ListView</a> and <a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a>.Â </strong>The header is a View thatÂ displays before first item and footer displays after last item. Most of the apps you had seen who is having header and footer. Same thing we are going to implement in this tutorial.</p>
<h3>Prerequisite:</h3>
<ol>
<li><a href="http://androhub.com/android-listview/" target="_blank">ListView</a></li>
<li><a href="http://androhub.com/android-recyclerview/" target="_blank">RecyclerView</a></li>
<li><a href="http://androhub.com/android-material-design-tabs-using-tablayout/" target="_blank">Tab Bar Layout</a></li>
</ol>
<h3>VIDEO DEMO</h3>
<p><iframe  id="_ytid_36340" width="602" height="339" src="https://www.youtube.com/embed/msbcQKbTryk?enablejsapi=1&#038;autoplay=0&#038;cc_load_policy=0&#038;iv_load_policy=1&#038;loop=0&#038;modestbranding=0&#038;rel=1&#038;showinfo=1&#038;fs=1&#038;theme=dark&#038;color=red&#038;autohide=2&#038;controls=2&#038;playsinline=0&#038;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Android StudioÂ by navigating to <strong>File â‡’ New â‡’ NewÂ Project</strong> and fill required details. By default my activity isÂ <em>MainActivity.java</em>.</p>
<p><b>2</b>. OpenÂ <strong>build.gradleÂ </strong>and include this libraries show below:</p><pre class="crayon-plain-tag">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.0.1'
    compile 'com.android.support:design:23.0.1'
    compile 'com.android.support:recyclerview-v7:23.0.1'
}</pre><p>
<b>3</b>.Â Open <strong>strings.xml</strong> located under <strong>res=&gt;values</strong> folder and add following strings.</p><pre class="crayon-plain-tag">&lt;resources&gt;
    &lt;string name="app_name"&gt;Header Footer Demo&lt;/string&gt;

    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="header_view"&gt;Header View&lt;/string&gt;
    &lt;string name="footer_view"&gt;Footer View&lt;/string&gt;
    &lt;string name="list"&gt;List&lt;/string&gt;
    &lt;string name="grid"&gt;Grid&lt;/string&gt;
&lt;/resources&gt;</pre><p>
<b>4</b>. Create new xml file namingÂ <strong>colors.xml</strong>Â Â underÂ <strong>res=&gt;values</strong>Â folder<strong>Â </strong>and add the following colors.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;color name="colorPrimary"&gt;#D32F2F&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#C62828&lt;/color&gt;
    &lt;color name="textColorPrimary"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="windowBackground"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="navigationBarColor"&gt;#000000&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#F44336&lt;/color&gt;
    &lt;color name="blue"&gt;#03A9F4&lt;/color&gt;
&lt;/resources&gt;</pre><p>
<b>5</b>.Â Create <em>activity_main.xml</em> and add the following code. In this i am using Tab Bar Layout for creating tabs.</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"&gt;

    &lt;!-- AppBar Layout   --&gt;
    &lt;android.support.design.widget.AppBarLayout
        android:id="@+id/appBarLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"&gt;

        &lt;android.support.v7.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="fill_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:popupTheme="@style/ThemeOverlay.AppCompat.Light" /&gt;
        &lt;!-- Tab Layout for creating tabs --&gt;
        &lt;android.support.design.widget.TabLayout
            android:id="@+id/tabLayout"
            android:layout_width="fill_parent"
            android:elevation="5dp"
            android:layout_height="wrap_content"
            app:tabIndicatorColor="@android:color/white" /&gt;
    &lt;/android.support.design.widget.AppBarLayout&gt;
    &lt;!-- Helps handing the Fragments for each Tab --&gt;
    &lt;android.support.v4.view.ViewPager
        android:id="@+id/viewPager"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>6</b>.Â Create <i>listview_layout.xmlÂ </i>for ListView fragment and add ListView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ListView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/list_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:dividerHeight="1px"
    android:padding="1dp" /&gt;</pre><p>
<b>7</b>. Similarly createÂ recyclerview<i>_layout.xmlÂ </i>for RecyclerViewÂ fragment and add RecyclerView to it.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v7.widget.RecyclerView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/recycler_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="1px" /&gt;</pre><p>
<b>8</b>.Â Now we need to create custom row for both ListView and RecyclerView. So we can use same xml for both, so create new xml file naming <em>list_item_row.xml</em>.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"&gt;

    &lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/row_item_text"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center_vertical"
        android:padding="25dp"
        android:text="Item"
        android:textColor="@android:color/white"
        android:textSize="18sp" /&gt;
&lt;/LinearLayout&gt;</pre><p>
<b>9</b>.Â Now come to <em>MainActivity.java</em> and add the following code for adding tabs and fragments to it.</p><pre class="crayon-plain-tag">package com.header_footer_demo.activity;

import android.os.Bundle;
import android.support.design.widget.TabLayout;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;

import com.header_footer_demo.R;
import com.header_footer_demo.adapters.ViewPagerAdapter;
import com.header_footer_demo.tabs.ListView_Fragment;
import com.header_footer_demo.tabs.RecyclerView_Fragment;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        ViewPager viewPager = (ViewPager) findViewById(R.id.viewPager);
        setupViewPager(viewPager);

        TabLayout tabLayout = (TabLayout) findViewById(R.id.tabLayout);
        tabLayout.setupWithViewPager(viewPager);//setting tab over viewpager

    }

    //Setting View Pager
    private void setupViewPager(ViewPager viewPager) {
        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());
        adapter.addFrag(new ListView_Fragment(), "List View");
        adapter.addFrag(new RecyclerView_Fragment(), "Recycler View");
        viewPager.setAdapter(adapter);
    }


}</pre><p>
<b>10</b>.Â Create new<em> ViewPagerAdapter.java</em>Â class for ViewPager tab fragments.</p><pre class="crayon-plain-tag">package com.header_footer_demo.adapters;

import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by SONU on 22/05/16.
 */
public class ViewPagerAdapter extends FragmentPagerAdapter {
    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();//fragment arraylist
    private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();//title arraylist

    public ViewPagerAdapter(FragmentManager manager) {
        super(manager);
    }

    @Override
    public Fragment getItem(int position) {
        return mFragmentList.get(position);
    }

    @Override
    public int getCount() {
        return mFragmentList.size();
    }


    //adding fragments and title method
    public void addFrag(Fragment fragment, String title) {
        mFragmentList.add(fragment);
        mFragmentTitleList.add(title);
    }

    @Override
    public CharSequence getPageTitle(int position) {
        return mFragmentTitleList.get(position);
    }
}</pre><p>
<b>11</b>. Now, for Header and Footer View we need to create new layout naming <em>header_footer_view.xml</em> and you can put any design over here.</p><pre class="crayon-plain-tag">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/header_footer_title"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@color/colorAccent"
    android:gravity="center"
    android:padding="25dp"
    android:text="@string/header_view"
    android:textColor="@android:color/white"
    android:textSize="18sp" /&gt;</pre><p>
<b>12</b>. For adding Header and Footer to ListView is very simple because ListView provided us inbuilt method for adding Header and Footer View to it.</p>
<ul>
<li><strong>Header View:Â </strong><br />
<pre class="crayon-plain-tag">listView.addHeaderView(headerView);</pre>
Here, headerView is a View that you want to displayÂ asÂ ListView Header.</li>
<li><strong>Footer View:</strong><br />
<pre class="crayon-plain-tag">listView.addFooterView(footerView);</pre>
</li>
</ul>
<p>Here, footerView is a View that you want to displayÂ asÂ ListView Footer.</p><pre class="crayon-plain-tag">private void addHeaderFooterView() {
        LayoutInflater inflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        //Header View
        View headerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView headerTitle = (TextView) headerView.findViewById(R.id.header_footer_title);
        headerTitle.setText(getActivity().getResources().getString(R.string.header_view));//set the text to Header View
        listView.addHeaderView(headerView);//Add view to list view as header view

        //Footer View
        View footerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView footerTitle = (TextView) footerView.findViewById(R.id.header_footer_title);
        footerTitle.setText(getActivity().getResources().getString(R.string.footer_view));//set the text to Footer View
        listView.addFooterView(footerView);//Add view to list view as footer view

    }</pre><p>
<em><strong>Note: The above method should be call before notifying adapter.</strong></em></p>
<p><b>13</b>.Â Create a <em>ListView_Fragment.javaÂ </em>and add the following code to it.</p><pre class="crayon-plain-tag">package com.header_footer_demo.tabs;

import android.content.Context;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ListView;
import android.widget.TextView;

import com.header_footer_demo.R;
import com.header_footer_demo.adapters.CustomAdapter;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class ListView_Fragment extends Fragment {

    private static View view;
    private static ListView listView;

    public ListView_Fragment() {
    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.listview_layout, container, false);
        setUpListView();
        return view;
    }

    //Set Up list view
    private void setUpListView() {

        listView = (ListView) view
                .findViewById(R.id.list_view);

        addHeaderFooterView();//Add header and footer before adding data to list view

        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 20; i++) {
            arrayList.add("ITEM " + i);//Adding items to recycler view
        }

        CustomAdapter adapter = new CustomAdapter( getActivity(), arrayList);
        listView.setAdapter(adapter);// set adapter on listview
        adapter.notifyDataSetChanged();
    }

//Add header and footer view
    private void addHeaderFooterView() {
        LayoutInflater inflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        //Header View
        View headerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView headerTitle = (TextView) headerView.findViewById(R.id.header_footer_title);
        headerTitle.setText(getActivity().getResources().getString(R.string.header_view));//set the text to Header View
        listView.addHeaderView(headerView);//Add view to list view as header view

        View footerView = inflater.inflate(R.layout.header_footer_view, null, false);
        TextView footerTitle = (TextView) footerView.findViewById(R.id.header_footer_title);
        footerTitle.setText(getActivity().getResources().getString(R.string.footer_view));//set the text to Footer View
        listView.addFooterView(footerView);//Add view to list view as footer view

    }
}</pre><p>
<b>14</b>. For ListView we need to create <em>CustomAdapter.java</em> class to inflate custom rows.</p><pre class="crayon-plain-tag">package com.header_footer_demo.adapters;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import com.header_footer_demo.R;
import com.header_footer_demo.helper.GenerateRandom_Color;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class CustomAdapter extends BaseAdapter {


    private Context context;
    private ArrayList&lt;String&gt; arrayList;
    private LayoutInflater inflater;

    public CustomAdapter(Context context, ArrayList&lt;String&gt; arrayList) {

        this.context = context;
        this.arrayList = arrayList;

        this.inflater = LayoutInflater.from(context);
    }

    @Override
    public int getCount() {
        return arrayList.size();
    }

    @Override
    public Object getItem(int position) {
        return arrayList.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        convertView = inflater.inflate(R.layout.list_item_row, parent, false);
        TextView text = (TextView) convertView.findViewById(R.id.row_item_text);
        text.setBackgroundColor(GenerateRandom_Color.generateRandomColor());
        text.setText(arrayList.get(position));


        return convertView;
    }


}</pre><p>
<b>15</b>.Â For generating random color for row items, we need to create a class that randomly gives range of colors to set row color. For this createÂ <em>GenerateRandom_Color.java</em> and add the following code to it.</p><pre class="crayon-plain-tag">package com.header_footer_demo.helper;

import android.graphics.Color;

import java.util.Random;

/**
 * Created by SONU on 22/05/16.
 */
public class GenerateRandom_Color {

    //this method will generate random colors
    public static int generateRandomColor() {
        Random rnd = new Random();
        return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));
    }
}</pre><p>
<b>16</b>.Â Now, create RecyclerView_Fragment.java and add the following code to it. In this code we are toggling between List and Grid type RecyclerView.</p><pre class="crayon-plain-tag">package com.header_footer_demo.tabs;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.GridLayoutManager;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;

import com.header_footer_demo.R;
import com.header_footer_demo.adapters.RecyclerView_Adapter;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class RecyclerView_Fragment extends Fragment {

    private static View view;
    private static RecyclerView recyclerView;
    private boolean isListType = true;

    public RecyclerView_Fragment() {
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setHasOptionsMenu(true);//call this method to implement option menu over fragment

    }

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        view = inflater.inflate(R.layout.recyclerview_layout, container, false);
        setRecyclerView();
        return view;
    }

    //Setting recycler view
    private void setRecyclerView() {

        recyclerView = (RecyclerView) view
                .findViewById(R.id.recycler_view);
        recyclerView.setHasFixedSize(true);
        recyclerView
                .setLayoutManager(new LinearLayoutManager(getActivity()));//Linear Items


        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();
        for (int i = 1; i &lt;= 20; i++) {
            arrayList.add("ITEM " + i);//Adding items to recycler view
        }
        RecyclerView_Adapter adapter = new RecyclerView_Adapter(getActivity(), arrayList);
        recyclerView.setAdapter(adapter);// set adapter on recycler view

    }

    //Toggle recycler view between List and Grid Type
    private void toggleRecyclerView(boolean isList) {
        isListType = isList;//set the current type is list or not
        if (isList)
            recyclerView
                    .setLayoutManager(new LinearLayoutManager(getActivity()));//Linear Items
        else
            recyclerView
                    .setLayoutManager(new GridLayoutManager(getActivity(), 2));//Grid Items
    }

    @Override
    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
        super.onCreateOptionsMenu(menu, inflater);
        inflater.inflate(R.menu.menu_main, menu);//Inflate menu
        onPrepareOptionsMenu(menu);//call prepare menu so that title will change according to current type
    }

    @Override
    public void onPrepareOptionsMenu(Menu menu) {
        super.onPrepareOptionsMenu(menu);
        MenuItem item = menu.findItem(R.id.action_toggle);//find menu id
        //If current type is not list then set to list else by default is grid only
        if (!isListType)
            item.setTitle(getActivity().getResources().getString(R.string.list));
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
            case R.id.action_toggle:

                //toggle the recycler view type and change the menu text also
                if (isListType) {
                    item.setTitle(getActivity().getResources().getString(R.string.list));
                    toggleRecyclerView(false);
                } else {
                    item.setTitle(getActivity().getResources().getString(R.string.grid));
                    toggleRecyclerView(true);
                }
                break;
        }
        return super.onOptionsItemSelected(item);
    }
}</pre><p>
<b>17</b>.Â As you have seen in above pointÂ we are using Menu for toggling between List and Grid type RecyclerView. For this we need to create <em>menu_mani.xml</em> under <em>menu</em> directory.</p><pre class="crayon-plain-tag">&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"&gt;
    &lt;item
        android:id="@+id/action_toggle"
        android:title="@string/grid"
        app:showAsAction="always" /&gt;
&lt;/menu&gt;</pre><p>
<b>18</b>.Â Create<em>Â DemoViewHolder.java</em>Â class for RecyclerView item holder.</p><pre class="crayon-plain-tag">package com.header_footer_demo.helper;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

import com.header_footer_demo.R;

/**
 * Created by SONU on 22/05/16.
 */
public class DemoViewHolder extends RecyclerView.ViewHolder {
    public TextView title;

    public DemoViewHolder(View view) {
        super(view);
        this.title = (TextView) view.findViewById(R.id.row_item_text);
    }
}</pre><p>
<b>19</b>.Â Create<em>Â RecyclerView_HeaderFooter_Holder.java</em>Â class<em>Â </em>for RecyclerView Header and Footer holder.</p><pre class="crayon-plain-tag">package com.header_footer_demo.helper;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.widget.TextView;

import com.header_footer_demo.R;


/**
 * Created by SONU on 01/04/16.
 */
public class RecyclerView_HeaderFooter_Holder extends RecyclerView.ViewHolder {
    public TextView title;

    public RecyclerView_HeaderFooter_Holder(View itemView) {
        super(itemView);

        title = (TextView) itemView.findViewById(R.id.header_footer_title);
    }
}</pre><p>
<b>20</b>. For setting Header and Footer in RecyclerView we need to follow some steps because RecyclerView doesn&#8217;t provide any methods to do this directly.</p>
<ol>
<li><strong>Type of View</strong><br />
<pre class="crayon-plain-tag">//Type of data in recycler view
private static final int TYPE_HEADER = 0;
private static final int TYPE_FOOTER = 1;
private static final int TYPE_ITEM = 2;</pre>
</li>
<li><strong>Add +2 to Array Size because we are using 2 extra views for Header and Footer.</strong><br />
<pre class="crayon-plain-tag">@Override
public int getItemCount() {
    return (null != arrayList ? arrayList.size() + 2 : 0);//Add 2 more size to array list for Header and Footer

}</pre>
</li>
<li>Â <strong>In getViewType return type of View according to position.</strong><br />
<pre class="crayon-plain-tag">@Override
public int getItemViewType(int position) {
    //Return item type according to requirement
    if (isPositionHeader(position))
        return TYPE_HEADER;
    else if (isPositionFooter(position))
        return TYPE_FOOTER;
    return TYPE_ITEM;

}</pre>
</li>
<li>Â <strong>For Header View the postion should be 0.</strong><br />
<pre class="crayon-plain-tag">//if position is 0 then type is header
private boolean isPositionHeader(int position) {
    return position == 0;
}</pre>
</li>
<li><strong>For Footer the position should be equals to last item of ArrayList.</strong><br />
<pre class="crayon-plain-tag">//If position is last then type is footer
private boolean isPositionFooter(int position) {
    return position == arrayList.size() + 1;
}</pre>
</li>
<li>WhileÂ Creating ViewHolder for <strong>Header and Footer Type</strong> we haveÂ to return sameÂ <strong>RecyclerView_HeaderFooter_Holder</strong> that we created in previousÂ point and for <strong>Item Type</strong> we have to return <strong>DemoViewHolder</strong>.<br />
<pre class="crayon-plain-tag">@Override
public RecyclerView.ViewHolder onCreateViewHolder(
        ViewGroup viewGroup, int viewType) {

    //inflate the item according to item type
    View itemView;


    //Since we are using same holder for both header and footer so we can return same holder
    if (viewType == TYPE_HEADER || viewType == TYPE_FOOTER) {
        itemView = LayoutInflater.from(viewGroup.getContext())
                .inflate(R.layout.header_footer_view, viewGroup, false);
        return new RecyclerView_HeaderFooter_Holder(itemView);
    } else if (viewType == TYPE_ITEM) {
        //inflate your layout and pass it to view holder
        itemView = LayoutInflater.from(viewGroup.getContext())
                .inflate(R.layout.list_item_row, viewGroup, false);
        return new DemoViewHolder(itemView);
    }

    throw new RuntimeException(&quot;there is no type that matches the type &quot; + viewType + &quot; + make sure your using types correctly&quot;);//Some error occurs then exception occurs

}</pre>
</li>
<li>Now while <strong>BindingViewHolder</strong> we have to check the <strong>instance of ViewHolder</strong> and on the basis of instance we need to display the text and color. Since we are using same holder for both header and footer we need to check if<strong> position is equals to 0</strong> then its Header and if <strong>position equals to arraySize</strong> then its footer.<br />
<pre class="crayon-plain-tag">@Override
public void onBindViewHolder(RecyclerView.ViewHolder holder,
                             int position) {

    //If instance is DemoViewHolder the type is Item do your stuff over here
    if (holder instanceof DemoViewHolder) {
        ((DemoViewHolder) holder).title.setBackgroundColor(GenerateRandom_Color.generateRandomColor());
        ((DemoViewHolder) holder).title.setText(arrayList.get(position - 1));//For getting data from array use -1 for getting correct data
    } else if (holder instanceof RecyclerView_HeaderFooter_Holder) {
        //Else the type is header
        if (position == 0)
            ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.header_view));//if position is 0 set title to header view
        if (position == getItemCount())
            ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.footer_view));//if position is equal to total item set title to footer view
    }

}</pre>
</li>
</ol>
<p><strong>Note: For getting item from ArrayList for Item Type we need to get it by arrayList.get(position-1) because last item is Footer.</strong></p>
<p><b>21</b>.Â Full code ofÂ <em>RecyclerView_Adapter.java.</em></p><pre class="crayon-plain-tag">package com.header_footer_demo.adapters;

import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import com.header_footer_demo.R;
import com.header_footer_demo.helper.DemoViewHolder;
import com.header_footer_demo.helper.GenerateRandom_Color;
import com.header_footer_demo.helper.RecyclerView_HeaderFooter_Holder;

import java.util.ArrayList;

/**
 * Created by SONU on 22/05/16.
 */
public class RecyclerView_Adapter extends
        RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {
    private ArrayList&lt;String&gt; arrayList;
    private Context context;

    //Type of data in recycler view
    private static final int TYPE_HEADER = 0;
    private static final int TYPE_FOOTER = 1;
    private static final int TYPE_ITEM = 2;


    public RecyclerView_Adapter(Context context,
                                ArrayList&lt;String&gt; arrayList) {
        this.context = context;
        this.arrayList = arrayList;

    }


    @Override
    public int getItemCount() {
        return (null != arrayList ? arrayList.size() + 2 : 0);//Add 2 more size to array list for Header and Footer

    }

    @Override
    public int getItemViewType(int position) {
        //Return item type according to requirement
        if (isPositionHeader(position))
            return TYPE_HEADER;
        else if (isPositionFooter(position))
            return TYPE_FOOTER;
        return TYPE_ITEM;

    }

    //if position is 0 then type is header
    private boolean isPositionHeader(int position) {
        return position == 0;
    }

    //If position is last then type is footer
    private boolean isPositionFooter(int position) {
        return position == arrayList.size() + 1;
    }

    @Override
    public void onBindViewHolder(RecyclerView.ViewHolder holder,
                                 int position) {

        //If instance is DemoViewHolder the type is Item do your stuff over here
        if (holder instanceof DemoViewHolder) {
            ((DemoViewHolder) holder).title.setBackgroundColor(GenerateRandom_Color.generateRandomColor());
            ((DemoViewHolder) holder).title.setText(arrayList.get(position - 1));//For getting data from array use -1 for getting correct data
        } else if (holder instanceof RecyclerView_HeaderFooter_Holder) {
            //Else the type is header
            if (position == 0)
                ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.header_view));//if position is 0 set title to header view
            if (position == getItemCount())
                ((RecyclerView_HeaderFooter_Holder) holder).title.setText(context.getResources().getString(R.string.footer_view));//if position is equal to total item set title to footer view
        }

    }

    @Override
    public RecyclerView.ViewHolder onCreateViewHolder(
            ViewGroup viewGroup, int viewType) {

        //inflate the item according to item type
        View itemView;


        //Since we are using same holder for both header and footer so we can return same holder
        if (viewType == TYPE_HEADER || viewType == TYPE_FOOTER) {
            itemView = LayoutInflater.from(viewGroup.getContext())
                    .inflate(R.layout.header_footer_view, viewGroup, false);
            return new RecyclerView_HeaderFooter_Holder(itemView);
        } else if (viewType == TYPE_ITEM) {
            //inflate your layout and pass it to view holder
            itemView = LayoutInflater.from(viewGroup.getContext())
                    .inflate(R.layout.list_item_row, viewGroup, false);
            return new DemoViewHolder(itemView);
        }

        throw new RuntimeException("there is no type that matches the type " + viewType + " + make sure your using types correctly");//Some error occurs then exception occurs

    }
}</pre><p>
<b>22</b>. Finally, all done run yourÂ code.</p>
<p>Thanks. <img src="https://s.w.org/images/core/emoji/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="http://androhub.com/downloads/Header_Footer_Demo.zip" target="_blank"><b>Download Source Code â€“ &gt;</b></a></p>
<p>The post <a rel="nofollow" href="http://www.androhub.com/android-header-footer-tutorial/">Android Header and Footer Tutorial</a> appeared first on <a rel="nofollow" href="http://www.androhub.com">Androhub</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.androhub.com/android-header-footer-tutorial/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">1028</post-id>	</item>
	</channel>
</rss>
