<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
	
<!-- Mirrored from www.androhub.com/android-gps-location-manager/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jan 2018 03:38:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="UTF-8" />
		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0'>
		<title>Android GPS Location Manager - AndrohubAndrohub</title>
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="pingback" href="http://www.androhub.com/xmlrpc.php" />
					<link rel="shortcut icon" href="http://www.androhub.com/wp-content/uploads/2016/05/app_icon_small.png" type="image/x-icon" />
						
<!-- This site is optimized with the Yoast SEO plugin v4.4 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.androhub.com/android-gps-location-manager/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Android GPS Location Manager - Androhub" />
<meta property="og:description" content="If you are developing any location based app, you can make your app more smarter by finding user’s location automatically. For this you need to integrate location modules in your application. You can learn more about location strategies. Example In this tutorial, we are going to learn how to get user location using GPS location manager &hellip;" />
<meta property="og:url" content="http://www.androhub.com/android-gps-location-manager/" />
<meta property="og:site_name" content="Androhub" />
<meta property="article:publisher" content="https://www.facebook.com/androhubtutorial/" />
<meta property="article:author" content="facebook.com/sonu.surender" />
<meta property="article:tag" content="connection detector" />
<meta property="article:tag" content="get current location" />
<meta property="article:tag" content="get user address" />
<meta property="article:tag" content="GPS" />
<meta property="article:tag" content="GPS Location" />
<meta property="article:tag" content="internet connection detector" />
<meta property="article:tag" content="Location Manager" />
<meta property="article:section" content="Android Basics" />
<meta property="article:published_time" content="2015-07-24T11:23:46+00:00" />
<meta property="article:modified_time" content="2016-06-16T09:58:04+00:00" />
<meta property="og:updated_time" content="2016-06-16T09:58:04+00:00" />
<meta property="og:image" content="http://www.androhub.com/wp-content/uploads/2015/07/location_gps_banner.jpg" />
<meta property="og:image:width" content="795" />
<meta property="og:image:height" content="413" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="If you are developing any location based app, you can make your app more smarter by finding user’s location automatically. For this you need to integrate location modules in your application. You can learn more about location strategies. Example In this tutorial, we are going to learn how to get user location using GPS location manager [&hellip;]" />
<meta name="twitter:title" content="Android GPS Location Manager - Androhub" />
<meta name="twitter:site" content="@sonusurender0" />
<meta name="twitter:image" content="https://i0.wp.com/www.androhub.com/wp-content/uploads/2015/07/location_gps_banner.jpg?fit=795%2C413" />
<meta name="twitter:creator" content="@sonusurender0" />
<!-- / Yoast SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Feed" href="http://www.androhub.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Comments Feed" href="http://www.androhub.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Androhub &raquo; Android GPS Location Manager Comments Feed" href="http://www.androhub.com/android-gps-location-manager/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.androhub.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.12"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='normalize-css'  href='http://www.androhub.com/wp-content/themes/circles/css/normalize.css' type='text/css' media='all' />
<link rel='stylesheet' id='prettyPhoto-css'  href='http://www.androhub.com/wp-content/themes/circles/css/prettyPhoto.css' type='text/css' media='all' />
<link rel='stylesheet' id='grid-system-css'  href='http://www.androhub.com/wp-content/themes/circles/css/grid-system.css' type='text/css' media='all' />
<link rel='stylesheet' id='main-css'  href='http://www.androhub.com/wp-content/themes/circles/css/main.css' type='text/css' media='all' />
<link rel='stylesheet' id='shortcodes-css'  href='http://www.androhub.com/wp-content/themes/circles/css/shortcodes.css' type='text/css' media='all' />
<link rel='stylesheet' id='widgets-css'  href='http://www.androhub.com/wp-admin/css/widgets.min.css?ver=4.5.12' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='http://www.androhub.com/wp-content/themes/circles/css/font-awesome.css' type='text/css' media='all' />
<link rel='stylesheet' id='icomoon-css'  href='http://www.androhub.com/wp-content/themes/circles/css/icomoon.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsiveness-css'  href='http://www.androhub.com/wp-content/themes/circles/css/media.php?switch_menu_to_mobile=' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='http://www.androhub.com/wp-content/themes/circles/style.css?ver=4.5.12' type='text/css' media='all' />
<!-- Inline jetpack_facebook_likebox -->
<style id='jetpack_facebook_likebox-inline-css' type='text/css'>
.widget_facebook_likebox {
	overflow: hidden;
}

</style>
<link rel='stylesheet' id='tablepress-default-css'  href='http://www.androhub.com/wp-content/plugins/tablepress/css/default.min.css?ver=1.7' type='text/css' media='all' />
<link rel='stylesheet' id='__EPYT__style-css'  href='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/styles/ytprefs.min.css?ver=4.5.12' type='text/css' media='all' />
<style id='__EPYT__style-inline-css' type='text/css'>

                .epyt-gallery-thumb {
                        width: 33.333%;
                }
                
</style>
<link rel='stylesheet' id='social-logos-css'  href='http://www.androhub.com/wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='http://www.androhub.com/wp-content/plugins/jetpack/css/jetpack.css?ver=4.4.2' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var _EPYT_ = {"ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php","security":"4948790cd0","gallery_scrolloffset":"20","eppathtoscripts":"http:\/\/www.androhub.com\/wp-content\/plugins\/youtube-embed-plus\/scripts\/","epresponsiveselector":"[\"iframe.__youtube_prefs_widget__\"]","epdovol":"1","version":"11.8.5","evselector":"iframe.__youtube_prefs__[src], iframe[src*=\"youtube.com\/embed\/\"], iframe[src*=\"youtube-nocookie.com\/embed\/\"]","ajax_compat":"","stopMobileBuffer":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/image-captcha/assets/image-captcha.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/scripts/ytprefs.min.js?ver=4.5.12'></script>
<link rel='https://api.w.org/' href='http://www.androhub.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.androhub.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.androhub.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.5.12" />
<link rel='shortlink' href='http://wp.me/p7E9B2-8y' />
<link rel="alternate" type="application/json+oembed" href="http://www.androhub.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androhub.com%2Fandroid-gps-location-manager%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.androhub.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androhub.com%2Fandroid-gps-location-manager%2F&amp;format=xml" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
<link rel='dns-prefetch' href='http://i0.wp.com/'>
<link rel='dns-prefetch' href='http://i1.wp.com/'>
<link rel='dns-prefetch' href='http://i2.wp.com/'>
<style type='text/css'>img#wpstats{display:none}</style><!--[if lt IE 9]><script src="http://www.androhub.com/wp-content/themes/circles/js/html5.js"></script><![endif]--><!--[if lt IE 7]><script src="http://www.androhub.com/wp-content/themes/circles/js/icomoon.js"></script><![endif]-->	<script type="text/javascript">
		var ajaxurl = 'http://www.androhub.com/wp-admin/admin-ajax.php';
	</script>
				<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,800,300,700" rel="stylesheet" type="text/css">
					<link href="http://fonts.googleapis.com/css?family=Noto+Sans:400,800,300,700" rel="stylesheet" type="text/css">
			<style type="text/css">
					body,
			article .column_post-body,
			.post-body-text,
			.post-area 
			{ font-family: 'Noto Sans'; }
		
		
					.headline h1 { font-family: 'Noto Sans'; }
		
		
					.menu .menu-item a,
			.menu .page_item a { font-family: 'Noto Sans'; }
		
		
					.post-area h1, .post-body-text h1,
			.post-area h2, .post-body-text h2,
			.post-area h3, .post-body-text h3,
			.post-area h4, .post-body-text h4,
			.post-area h5, .post-body-text h5,
			.post-area h6, .post-body-text h6, aside h5 {
				font-family: 'Noto Sans';
			}
		
		
		
		
		
		
		
		
		#logo {
											}
		
			</style>
	<style type="text/css" id="dynamic-styles">
				
			
	
	
			
			
			
			
		
			
		
	
			
	
	
	
	
	
	
	
		</style>
			<style type="text/css">
			div.wrapper.menu-bg {
    display: none;
}
.right-sidebar h3{
    margin-top: 15px;
    margin-bottom: 1px;
}

footer .wrapper.grey {
    display: none;
}
.form-allowed-tags {
    display: none;
}
.headline.marble h1 {
    display: none;
}

.wrapper.headline {
    height: 36px;
}
.header-image {
    height: 50px;
    background-position: center;
}
.header-image {
    height: 50px;
}
.logo img {
    position: absolute;
    top: -18px;
    height: 87px;
    width: 270px;
    z-index: 105;
}
.marble {
    background-color: #91C448 !important;
}
.marble .page-path span,.marble .page-path a {
    color: #FFFFFF;
}
.widget_search {
    margin-bottom: 15px;
}
.grid_12 {
    margin: -8px 1.25%;
}		</style>
			<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		
<style id="custom-css-css">.phone-icon{right:522px;position:absolute;top:33px;display:inline-block;height:16px;padding:1px 0;font-size:13px;font-weight:700;margin-right:10px;padding-left:25px;background:url(http://www.androhub.com/downloads/ic_phone.png);background-position:left center;background-repeat:no-repeat}.email-icon{right:319px;position:absolute;top:33px;display:inline-block;height:16px;padding:1px 0;font-size:13px;font-weight:700;margin-right:10px;padding-left:25px;background:url(http://www.androhub.com/downloads/ic_email.png);background-position:left center;background-repeat:no-repeat}</style>
	</head>
	<body class="single single-post postid-530 single-format-standard w1170 sticky-menu-on nice-scroll">
    
			<div class="preloading-screen" style=" background: #fff center no-repeat fixed">
			<div class="spinners">
				<div class="bounce1"></div>
			</div>
		</div>
					<header class='page-header'>
	
		
	<div class='wrapper wrapper-bg'>
		<div class='container'>
			<div class='grid_12'>
				<div class='logo'>
																					<a href='http://www.androhub.com/' title="Androhub" rel="home"><img src="http://androhub.com/wp-content/uploads/2016/05/andro_new.png" class="" alt="Androhub" /></a>
				</div>
				
<!-- Header Contact -->
<div class="phone-icon">
<span>+91 9008091580</span>
</div>

<div class="email-icon">
<span>surender@androhub.com</span>
</div>
<!--  Exit  -->


				<ul class='socials'>
											<li>
							<span class="tran02slinear"></span>
							<a class='facebook tran02slinear' href='https://www.facebook.com/sonu.surender' title="Facebook" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='twitter tran02slinear' href='https://twitter.com/sonusurender0' title="Twitter" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='youtube tran02slinear' href='https://www.youtube.com/channel/UCHJh3E9mtRzbM3WVVl9glJg' title="Youtube" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='google-plus tran02slinear' href='https://plus.google.com/u/0/+SurenderKumarandrohub' title="Google+" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='linkedin tran02slinear' href='https://in.linkedin.com/in/surender-kumar-681472a8' title="LinkedIn" target="_blank"></a>
						</li>
														</ul>
			</div>
		</div>
	</div>
	<div class='absolute'>
		<div class='wrapper menu-bg custom-menu-bg border-bottom-black-tr'>
			<div class='container'>
										<a id="menu-btn" href="#"></a>

						<nav class="menu"><ul><li ><a href="http://www.androhub.com/">Home</a></li></ul></nav>

					<ul class='socials mobile-socials'>
											<li>
							<span class="tran02slinear"></span>
							<a class='facebook tran02slinear' href='https://www.facebook.com/sonu.surender' title="Facebook" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='twitter tran02slinear' href='https://twitter.com/sonusurender0' title="Twitter" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='youtube tran02slinear' href='https://www.youtube.com/channel/UCHJh3E9mtRzbM3WVVl9glJg' title="Youtube" target="_blank"></a>
						</li>
																										<li>
							<span class="tran02slinear"></span>
							<a class='google-plus tran02slinear' href='https://plus.google.com/u/0/+SurenderKumarandrohub' title="Google+" target="_blank"></a>
						</li>
																<li>
							<span class="tran02slinear"></span>
							<a class='linkedin tran02slinear' href='https://in.linkedin.com/in/surender-kumar-681472a8' title="LinkedIn" target="_blank"></a>
						</li>
														</ul>
			</div>
		</div>
			<div class='wrapper headline  marble border-bottom-black-tr'>
		<div class='container'>
			<div class='grid_12'>
									<h1>Blog</h1>
													<div class='page-path'>
						<div id="crumbs" xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.androhub.com/">Home</a></span> <span class="delimiter">|</span> <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.androhub.com/category/android-basics/">Android Basics</a></span> <span class="delimiter">|</span> <span class="current">Android GPS Location Manager</span></div>					</div>
							</div>
		</div>
	</div>
	</div>
</header><div class='wrapper header-image '></div>
<div class='wrapper'>
	<div class='container main'>
						<div class='post-area grid_9'>
			<div class='posts-container'>
													<article id="post-530" class="post  center post-530 type-post status-publish format-standard has-post-thumbnail hentry category-android-basics category-android-gps category-android-internet-connection tag-connection-detector tag-get-current-location tag-get-user-address tag-gps tag-gps-location tag-internet-connection-detector tag-location-manager">
		<header>
		<a href='http://www.androhub.com/android-gps-location-manager/'><h2>Android GPS Location Manager</h2></a>
	</header>
	<footer>
	<div class='post-helper-absolute'>
		<div class='avatar big'>
			<img alt='' src='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=61&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=122&amp;d=mm&amp;r=g 2x' class='avatar avatar-61 photo' height='61' width='61' />		</div>
		<div class='post-comments'>
			<span>0</span>
		</div>
		<div class='post-author'>
			By			<span>
				<a href="http://www.androhub.com/author/droid/" title="Posts by Dr. Droid" rel="author">Dr. Droid</a>			</span>
		</div>
		<div class='post-type'>
			<span></span>
		</div>
	</div>
	<div class='post-date'>
		<span>July 24, 2015</span>
	</div>
			<div class='post-category'>
			<span>
				<a href="http://www.androhub.com/category/android-basics/" rel="category tag">Android Basics</a>, <a href="http://www.androhub.com/category/android-gps/" rel="category tag">Android GPS</a>, <a href="http://www.androhub.com/category/android-internet-connection/" rel="category tag">Android Internet Connection</a>			</span>
		</div>
		<div class='separator'>
	</div>
</footer>	<div class="post-body clearfix">
					<article class='item-con-t1'>
				<div class='container-t1'>
					<div class='container-t1-margin'>
						<img src="http://www.androhub.com/wp-content/uploads/freshizer/f4443a37c75c93f1e50ff9db2a8e6a63_location_gps_banner-863-430-c.jpg" class="wp-post-image" width="863" height="430" alt="Android GPS Location Manager"  />					</div>
				</div>
				<div class='blue-line'></div>
			</article>
				<div class='post-body-text'>
			<p>If you are developing any location based app, you can make your app more smarter by finding user’s location automatically. For this you need to integrate location modules in your application. You can learn more about <a href="http://developer.android.com/intl/ru/guide/topics/location/strategies.html" target="_blank">location strategies</a>.</p>
<h2>Example</h2>
<p>In this tutorial, we are going to learn how to get user location using GPS location manager with and without internet.</p>
<h3>Video Demo</h3>
<p><iframe  id="_ytid_25904" width="602" height="339" src="https://www.youtube.com/embed/6TrwL18nbXw?enablejsapi=1&amp;autoplay=0&amp;cc_load_policy=0&amp;iv_load_policy=1&amp;loop=0&amp;modestbranding=0&amp;rel=1&amp;showinfo=1&amp;fs=1&amp;theme=dark&amp;color=red&amp;autohide=2&amp;controls=2&amp;playsinline=0&amp;" class="__youtube_prefs__" title="YouTube player"  allowfullscreen data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe></p>
<p><strong>1</strong>. Create a new project in Eclipse by navigating to <strong>File ⇒ New Android ⇒ Application Project</strong> and fill required details. By default my activity is <em>MainActivity.java</em>.</p>
<p><b>2</b>. Open <strong>res ⇒ values ⇒ strings.xml</strong> and add below string values. This are some strings that i am going to use in this tutorial.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a0a697454171" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">strings.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;LocationGPS Demo&lt;/string&gt;
    &lt;string name="location_without_internet"&gt;Get Location Without Internet&lt;/string&gt;
    &lt;string name="location_internet"&gt;Get Location Using Internet&lt;/string&gt;
    &lt;string name="display_location"&gt;Your Location will be displayed here.&lt;/string&gt;

&lt;/resources&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a0a697454171-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a0a697454171-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a0a697454171-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a0a697454171-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a0a697454171-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a0a697454171-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a0a697454171-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a0a697454171-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a0a697454171-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a0a697454171-1"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">"1.0"</span><span class="crayon-h"> </span><span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-ta">?&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a0a697454171-2"><span class="crayon-o">&lt;</span><span class="crayon-v">resources</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a0a697454171-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a0a697454171-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"app_name"</span><span class="crayon-o">&gt;</span><span class="crayon-e">LocationGPS </span><span class="crayon-v">Demo</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a0a697454171-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"location_without_internet"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Get </span><span class="crayon-e">Location </span><span class="crayon-e">Without </span><span class="crayon-v">Internet</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a0a697454171-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"location_internet"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Get </span><span class="crayon-e">Location </span><span class="crayon-e">Using </span><span class="crayon-v">Internet</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a0a697454171-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"display_location"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Your </span><span class="crayon-e">Location </span><span class="crayon-e">will </span><span class="crayon-e">be </span><span class="crayon-e">displayed </span><span class="crayon-v">here</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a0a697454171-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a0a697454171-9"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">resources</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0069 seconds] -->
<p>
<b>3</b>. Open <em>AndroidManifest.xml</em> and add <em>ACCESS_FINE_LOCATION</em> (Which includes both ACCESS_FINE_LOCATION and ACCESS_COARSE_LOCATION). Also we have to detect internet connection so we need ACCESS_NETWORK_STATE this permission also.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a1c148461724" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">AndroidManifest.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.locationgps_demo"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="22" /&gt;

    &lt;!-- This permission is used to get current location via internet --&gt;
    &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;

    &lt;!-- This permission is used to check internet connection --&gt;
    &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;

    &lt;application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" &gt;
        &lt;activity
            android:name=".MainActivity"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a1c148461724-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a1c148461724-33">33</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-1"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">"1.0"</span><span class="crayon-h"> </span><span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-ta">?&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-2"><span class="crayon-o">&lt;</span><span class="crayon-e">manifest </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">android</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/apk/res/android"</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">package</span><span class="crayon-o">=</span><span class="crayon-s">"com.locationgps_demo"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">versionCode</span><span class="crayon-o">=</span><span class="crayon-s">"1"</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">versionName</span><span class="crayon-o">=</span><span class="crayon-s">"1.0"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">uses</span><span class="crayon-o">-</span><span class="crayon-e">sdk</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-8"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">minSdkVersion</span><span class="crayon-o">=</span><span class="crayon-s">"8"</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">targetSdkVersion</span><span class="crayon-o">=</span><span class="crayon-s">"22"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-10">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-r">This</span><span class="crayon-h"> </span><span class="crayon-e">permission </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">used </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">get </span><span class="crayon-e">current </span><span class="crayon-e">location </span><span class="crayon-e">via </span><span class="crayon-v">internet</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">uses</span><span class="crayon-o">-</span><span class="crayon-e">permission </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.permission.ACCESS_FINE_LOCATION"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-r">This</span><span class="crayon-h"> </span><span class="crayon-e">permission </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">used </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">check </span><span class="crayon-e">internet </span><span class="crayon-v">connection</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">uses</span><span class="crayon-o">-</span><span class="crayon-e">permission </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.permission.ACCESS_NETWORK_STATE"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-16">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">application</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-18"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">allowBackup</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"@drawable/ic_launcher"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">"@string/app_name"</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">theme</span><span class="crayon-o">=</span><span class="crayon-s">"@style/AppTheme"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">activity</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-23"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">".MainActivity"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">"@string/app_name"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">action </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.intent.action.MAIN"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">category </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.intent.category.LAUNCHER"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">activity</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">application</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a1c148461724-32">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a1c148461724-33"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">manifest</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0084 seconds] -->
<p>
<b>4</b>. Now create a xml layout containing two button and two textview to display location using internet and without internet.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a26668072960" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">activity_main.xml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center"
    android:orientation="vertical"
    android:padding="5dp" &gt;

    &lt;Button
        android:id="@+id/get_location_without_internet"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:gravity="center"
        android:padding="10dp"
        android:text="@string/location_without_internet" /&gt;

    &lt;TextView
        android:id="@+id/show_location_without_internet"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:layout_margin="10dp"
        android:gravity="center"
        android:text="@string/display_location"
        android:textColor="#000000"
        android:textSize="16sp" /&gt;

    &lt;Button
        android:id="@+id/get_location_using_internet"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:gravity="center"
        android:padding="10dp"
        android:text="@string/location_internet" /&gt;

    &lt;TextView
        android:id="@+id/show_location_using_internet"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:layout_margin="10dp"
        android:gravity="center"
        android:text="@string/display_location"
        android:textColor="#000000"
        android:textSize="16sp" /&gt;

&lt;/LinearLayout&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-42">42</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-44">44</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-46">46</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a26668072960-48">48</div><div class="crayon-num" data-line="crayon-5a4e315e83a26668072960-49">49</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a26668072960-1"><span class="crayon-o">&lt;</span><span class="crayon-e">LinearLayout </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">android</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/apk/res/android"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">tools</span><span class="crayon-o">=</span><span class="crayon-s">"http://schemas.android.com/tools"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"fill_parent"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"fill_parent"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">orientation</span><span class="crayon-o">=</span><span class="crayon-s">"vertical"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"5dp"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">Button</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/get_location_without_internet"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center_horizontal"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"@string/location_without_internet"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">TextView</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-19"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/show_location_without_internet"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center_horizontal"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_margin</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"@string/display_location"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textColor</span><span class="crayon-o">=</span><span class="crayon-s">"#000000"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textSize</span><span class="crayon-o">=</span><span class="crayon-s">"16sp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-28">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">Button</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-30"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/get_location_using_internet"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center_horizontal"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"@string/location_internet"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">TextView</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-39"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"@+id/show_location_using_internet"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_width</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_height</span><span class="crayon-o">=</span><span class="crayon-s">"wrap_content"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center_horizontal"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">layout_margin</span><span class="crayon-o">=</span><span class="crayon-s">"10dp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">gravity</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"@string/display_location"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textColor</span><span class="crayon-o">=</span><span class="crayon-s">"#000000"</span></div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">textSize</span><span class="crayon-o">=</span><span class="crayon-s">"16sp"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a26668072960-48">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a26668072960-49"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">LinearLayout</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0104 seconds] -->
<p>
<b>5</b>. Create a new java class naming <em>ConnectionDetector.java</em> to detect Internet connection. If you don&#8217;t no how to detect internet connection then you can check my tutorial <a href="http://androhub.com/android-detect-internet-connection-using-broadcast-receiver/" target="_blank">here</a>.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a32621309271" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">ConnectionDetector.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.locationgps_demo;

import android.content.Context;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;

public class ConnectionDetector {

	private Context _context;

	public ConnectionDetector(Context context) {
		this._context = context;
	}

	// This method will return boolean value if internet is there or not
	public boolean isConnectingToInternet() {
		ConnectivityManager connectivityManager = (ConnectivityManager) _context
				.getSystemService(Context.CONNECTIVITY_SERVICE);// Connectivity
																// manager to
																// work on
																// connectivtiy
																// service

		NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();// Get
																				// the
																				// network
																				// info

		if (networkInfo != null &amp;&amp; networkInfo.isConnected()) {// Check if
																// network info
																// is not null
																// and it is
																// connected
			return true;// Internet is there
		} else {
			return false;// No internet
		}

	}
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a32621309271-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a32621309271-40">40</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a32621309271-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">locationgps_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-v">ConnectivityManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-v">NetworkInfo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-7"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">ConnectionDetector</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-9"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">_context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-10">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-11"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">ConnectionDetector</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-12"><span class="crayon-h">		</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">_context</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-13"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-14">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-15"><span class="crayon-h">	</span><span class="crayon-c">// This method will return boolean value if internet is there or not</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-16"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isConnectingToInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-17"><span class="crayon-h">		</span><span class="crayon-e">ConnectivityManager </span><span class="crayon-v">connectivityManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ConnectivityManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">_context</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-18"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">Context</span><span class="crayon-sy">.</span><span class="crayon-v">CONNECTIVITY_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// Connectivity</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-19"><span class="crayon-h">																</span><span class="crayon-c">// manager to</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-20"><span class="crayon-h">																</span><span class="crayon-c">// work on</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-21"><span class="crayon-h">																</span><span class="crayon-c">// connectivtiy</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-22"><span class="crayon-h">																</span><span class="crayon-c">// service</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-24"><span class="crayon-h">		</span><span class="crayon-e">NetworkInfo </span><span class="crayon-v">networkInfo</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">connectivityManager</span><span class="crayon-sy">.</span><span class="crayon-e">getActiveNetworkInfo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// Get</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-25"><span class="crayon-h">																				</span><span class="crayon-c">// the</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-26"><span class="crayon-h">																				</span><span class="crayon-c">// network</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-27"><span class="crayon-h">																				</span><span class="crayon-c">// info</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-28">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-29"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">networkInfo</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">networkInfo</span><span class="crayon-sy">.</span><span class="crayon-e">isConnected</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-c">// Check if</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-30"><span class="crayon-h">																</span><span class="crayon-c">// network info</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-31"><span class="crayon-h">																</span><span class="crayon-c">// is not null</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-32"><span class="crayon-h">																</span><span class="crayon-c">// and it is</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-33"><span class="crayon-h">																</span><span class="crayon-c">// connected</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-34"><span class="crayon-h">			</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-c">// Internet is there</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-35"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-36"><span class="crayon-h">			</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-c">// No internet</span></div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-37"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-38">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a32621309271-39"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a32621309271-40"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0069 seconds] -->
<p>
<b>6</b>. Now, create a new java class naming <em>GPSService.java</em> extending <em>Service</em> also implement this class from <em>LocationListener </em>and add the following code.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a3c133225982" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">GPSService</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public class GPSService extends Service implements LocationListener {

	// saving the context for later use
	private final Context mContext;

	// if GPS is enabled
	boolean isGPSEnabled = false;
	// if Network is enabled
	boolean isNetworkEnabled = false;
	// if Location co-ordinates are available using GPS or Network
	public boolean isLocationAvailable = false;

	// Location and co-ordinates coordinates
	Location mLocation;
	double mLatitude;
	double mLongitude;

	// Minimum time fluctuation for next update (in milliseconds)
	private static final long TIME = 30000;
	// Minimum distance fluctuation for next update (in meters)
	private static final long DISTANCE = 20;

	// Declaring a Location Manager
	protected LocationManager mLocationManager;

	public GPSService(Context context) {
		this.mContext = context;
		mLocationManager = (LocationManager) mContext
				.getSystemService(LOCATION_SERVICE);

	}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a3c133225982-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a3c133225982-31">31</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">GPSService</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">Service</span><span class="crayon-h"> </span><span class="crayon-r">implements</span><span class="crayon-h"> </span><span class="crayon-e">LocationListener</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-3"><span class="crayon-h">	</span><span class="crayon-c">// saving the context for later use</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-4"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">mContext</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-6"><span class="crayon-h">	</span><span class="crayon-c">// if GPS is enabled</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-7"><span class="crayon-h">	</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isGPSEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-8"><span class="crayon-h">	</span><span class="crayon-c">// if Network is enabled</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-9"><span class="crayon-h">	</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isNetworkEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-10"><span class="crayon-h">	</span><span class="crayon-c">// if Location co-ordinates are available using GPS or Network</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-11"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-12">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-13"><span class="crayon-h">	</span><span class="crayon-c">// Location and co-ordinates coordinates</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-14"><span class="crayon-h">	</span><span class="crayon-e">Location </span><span class="crayon-v">mLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-15"><span class="crayon-h">	</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-v">mLatitude</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-16"><span class="crayon-h">	</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-v">mLongitude</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-18"><span class="crayon-h">	</span><span class="crayon-c">// Minimum time fluctuation for next update (in milliseconds)</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-19"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">long</span><span class="crayon-h"> </span><span class="crayon-v">TIME</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30000</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-20"><span class="crayon-h">	</span><span class="crayon-c">// Minimum distance fluctuation for next update (in meters)</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-21"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">long</span><span class="crayon-h"> </span><span class="crayon-v">DISTANCE</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-22">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-23"><span class="crayon-h">	</span><span class="crayon-c">// Declaring a Location Manager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-24"><span class="crayon-h">	</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-e">LocationManager </span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-26"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">GPSService</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-27"><span class="crayon-h">		</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">mContext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-28"><span class="crayon-h">		</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">mContext</span></div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-29"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">LOCATION_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a3c133225982-30">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a3c133225982-31"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0063 seconds] -->
<p>
Add the implementation for the function <strong>geoLocation()</strong> which was called in the constructor. In this function we’ll get the location from network provider first. If network provider is disabled, then we get the location from GPS provider.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a46483759460" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">getLocation</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public Location getLocation() {
		try {

			// Getting GPS status
			isGPSEnabled = mLocationManager
					.isProviderEnabled(LocationManager.GPS_PROVIDER);

			// If GPS enabled, get latitude/longitude using GPS Services
			if (isGPSEnabled) {
				mLocationManager.requestLocationUpdates(
						LocationManager.GPS_PROVIDER, TIME, DISTANCE, this);
				if (mLocationManager != null) {
					mLocation = mLocationManager
							.getLastKnownLocation(LocationManager.GPS_PROVIDER);
					if (mLocation != null) {
						mLatitude = mLocation.getLatitude();
						mLongitude = mLocation.getLongitude();
						isLocationAvailable = true; // setting a flag that
													// location is available
						return mLocation;
					}
				}
			}

			// If we are reaching this part, it means GPS was not able to fetch
			// any location
			// Getting network status
			isNetworkEnabled = mLocationManager
					.isProviderEnabled(LocationManager.NETWORK_PROVIDER);

			if (isNetworkEnabled) {
				mLocationManager.requestLocationUpdates(
						LocationManager.NETWORK_PROVIDER, TIME, DISTANCE, this);
				if (mLocationManager != null) {
					mLocation = mLocationManager
							.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
					if (mLocation != null) {
						mLatitude = mLocation.getLatitude();
						mLongitude = mLocation.getLongitude();
						isLocationAvailable = true; // setting a flag that
													// location is available
						return mLocation;
					}
				}
			}
			// If reaching here means, we were not able to get location neither
			// from GPS not Network,
			if (!isGPSEnabled) {
				// so asking user to open GPS
				askUserToOpenGPS();
			}

		} catch (Exception e) {
			e.printStackTrace();
		}
		// if reaching here means, location was not available, so setting the
		// flag as false
		isLocationAvailable = false;
		return null;
	}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-42">42</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-44">44</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-46">46</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-48">48</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-50">50</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-52">52</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-54">54</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-56">56</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-58">58</div><div class="crayon-num" data-line="crayon-5a4e315e83a46483759460-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a46483759460-60">60</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a46483759460-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">Location </span><span class="crayon-e">getLocation</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-2"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-4"><span class="crayon-h">			</span><span class="crayon-c">// Getting GPS status</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-5"><span class="crayon-h">			</span><span class="crayon-v">isGPSEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-6"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-8"><span class="crayon-h">			</span><span class="crayon-c">// If GPS enabled, get latitude/longitude using GPS Services</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-9"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isGPSEnabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-10"><span class="crayon-h">				</span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-11"><span class="crayon-h">						</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIME</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">DISTANCE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-12"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-13"><span class="crayon-h">					</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-14"><span class="crayon-h">							</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-15"><span class="crayon-h">					</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-16"><span class="crayon-h">						</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-17"><span class="crayon-h">						</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-18"><span class="crayon-h">						</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// setting a flag that</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-19"><span class="crayon-h">													</span><span class="crayon-c">// location is available</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-20"><span class="crayon-h">						</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-21"><span class="crayon-h">					</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-22"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-23"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-24">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-25"><span class="crayon-h">			</span><span class="crayon-c">// If we are reaching this part, it means GPS was not able to fetch</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-26"><span class="crayon-h">			</span><span class="crayon-c">// any location</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-27"><span class="crayon-h">			</span><span class="crayon-c">// Getting network status</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-28"><span class="crayon-h">			</span><span class="crayon-v">isNetworkEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-29"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-30">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-31"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isNetworkEnabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-32"><span class="crayon-h">				</span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-33"><span class="crayon-h">						</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIME</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">DISTANCE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-34"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-35"><span class="crayon-h">					</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-36"><span class="crayon-h">							</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-37"><span class="crayon-h">					</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-38"><span class="crayon-h">						</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-39"><span class="crayon-h">						</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-40"><span class="crayon-h">						</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// setting a flag that</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-41"><span class="crayon-h">													</span><span class="crayon-c">// location is available</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-42"><span class="crayon-h">						</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-43"><span class="crayon-h">					</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-44"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-45"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-46"><span class="crayon-h">			</span><span class="crayon-c">// If reaching here means, we were not able to get location neither</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-47"><span class="crayon-h">			</span><span class="crayon-c">// from GPS not Network,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-48"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">isGPSEnabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-49"><span class="crayon-h">				</span><span class="crayon-c">// so asking user to open GPS</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-50"><span class="crayon-h">				</span><span class="crayon-e">askUserToOpenGPS</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-51"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-52">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-53"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-54"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-55"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-56"><span class="crayon-h">		</span><span class="crayon-c">// if reaching here means, location was not available, so setting the</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-57"><span class="crayon-h">		</span><span class="crayon-c">// flag as false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-58"><span class="crayon-h">		</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a46483759460-59"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a46483759460-60"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0130 seconds] -->
<p>
This method will return the complete address.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a50389345143" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">getAddress</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public String getLocationAddress() {

		if (isLocationAvailable) {

			Geocoder geocoder = new Geocoder(mContext, Locale.getDefault());
			// Get the current location from the input parameter list
			// Create a list to contain the result address
			List&lt;Address&gt; addresses = null;
			try {
				/*
				 * Return 1 address.
				 */
				addresses = geocoder.getFromLocation(mLatitude, mLongitude, 1);
			} catch (IOException e1) {
				e1.printStackTrace();
				return ("IO Exception trying to get address:" + e1);
			} catch (IllegalArgumentException e2) {
				// Error message to post in the log
				String errorString = "Illegal arguments "
						+ Double.toString(mLatitude) + " , "
						+ Double.toString(mLongitude)
						+ " passed to address service";
				e2.printStackTrace();
				return errorString;
			}
			// If the reverse geocode returned an address
			if (addresses != null &amp;&amp; addresses.size() &gt; 0) {
				// Get the first address
				Address address = addresses.get(0);
				/*
				 * Format the first line of address (if available), city, and
				 * country name.
				 */
				String addressText = String.format(
						"%s, %s, %s",
						// If there's a street address, add it
						address.getMaxAddressLineIndex() &gt; 0 ? address
								.getAddressLine(0) : "",
						// Locality is usually a city
						address.getLocality(),
						// The country of the address
						address.getCountryName());
				// Return the text
				return addressText;
			} else {
				return "No address found by the service: Note to the developers, If no address is found by google itself, there is nothing you can do about it.";
			}
		} else {
			return "Location Not available";
		}

	}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-42">42</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-44">44</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-46">46</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-48">48</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-50">50</div><div class="crayon-num" data-line="crayon-5a4e315e83a50389345143-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a50389345143-52">52</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a50389345143-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getLocationAddress</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-3"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-4">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-5"><span class="crayon-h">			</span><span class="crayon-e">Geocoder </span><span class="crayon-v">geocoder</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Geocoder</span><span class="crayon-sy">(</span><span class="crayon-v">mContext</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Locale</span><span class="crayon-sy">.</span><span class="crayon-e">getDefault</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-6"><span class="crayon-h">			</span><span class="crayon-c">// Get the current location from the input parameter list</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-7"><span class="crayon-h">			</span><span class="crayon-c">// Create a list to contain the result address</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-8"><span class="crayon-h">			</span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Address</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-9"><span class="crayon-h">			</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-10"><span class="crayon-h">				</span><span class="crayon-c">/*</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-11"><span class="crayon-c">				 * Return 1 address.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-12"><span class="crayon-c">				 */</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-13"><span class="crayon-h">				</span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">geocoder</span><span class="crayon-sy">.</span><span class="crayon-e">getFromLocation</span><span class="crayon-sy">(</span><span class="crayon-v">mLatitude</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">mLongitude</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-14"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">IOException </span><span class="crayon-v">e1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-15"><span class="crayon-h">				</span><span class="crayon-v">e1</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-16"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"IO Exception trying to get address:"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">e1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-17"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">IllegalArgumentException </span><span class="crayon-v">e2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-18"><span class="crayon-h">				</span><span class="crayon-c">// Error message to post in the log</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-19"><span class="crayon-h">				</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">errorString</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Illegal arguments "</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-20"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-t">Double</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-v">mLatitude</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" , "</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-21"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-t">Double</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-v">mLongitude</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-22"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" passed to address service"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-23"><span class="crayon-h">				</span><span class="crayon-v">e2</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-24"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">errorString</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-25"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-26"><span class="crayon-h">			</span><span class="crayon-c">// If the reverse geocode returned an address</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-27"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">size</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-28"><span class="crayon-h">				</span><span class="crayon-c">// Get the first address</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-29"><span class="crayon-h">				</span><span class="crayon-e">Address </span><span class="crayon-v">address</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-30"><span class="crayon-h">				</span><span class="crayon-c">/*</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-31"><span class="crayon-c">				 * Format the first line of address (if available), city, and</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-32"><span class="crayon-c">				 * country name.</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-33"><span class="crayon-c">				 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-34"><span class="crayon-h">				</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">addressText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-35"><span class="crayon-h">						</span><span class="crayon-s">"%s, %s, %s"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-36"><span class="crayon-h">						</span><span class="crayon-c">// If there's a street address, add it</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-37"><span class="crayon-h">						</span><span class="crayon-v">address</span><span class="crayon-sy">.</span><span class="crayon-e">getMaxAddressLineIndex</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-i">address</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-38"><span class="crayon-h">								</span><span class="crayon-sy">.</span><span class="crayon-e">getAddressLine</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-39"><span class="crayon-h">						</span><span class="crayon-c">// Locality is usually a city</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-40"><span class="crayon-h">						</span><span class="crayon-v">address</span><span class="crayon-sy">.</span><span class="crayon-e">getLocality</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-41"><span class="crayon-h">						</span><span class="crayon-c">// The country of the address</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-42"><span class="crayon-h">						</span><span class="crayon-v">address</span><span class="crayon-sy">.</span><span class="crayon-e">getCountryName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-43"><span class="crayon-h">				</span><span class="crayon-c">// Return the text</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-44"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">addressText</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-45"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-46"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"No address found by the service: Note to the developers, If no address is found by google itself, there is nothing you can do about it."</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-47"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-48"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-49"><span class="crayon-h">			</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"Location Not available"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-50"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a50389345143-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a50389345143-52"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0118 seconds] -->
<p>
This methods used to getLongitude, getLatitude and closeGPS.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a5b043084820" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">other methods</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
	/**
	 * get latitude
	 * 
	 * @return latitude in double
	 */
	public double getLatitude() {
		if (mLocation != null) {
			mLatitude = mLocation.getLatitude();
		}
		return mLatitude;
	}

	/**
	 * get longitude
	 * 
	 * @return longitude in double
	 */
	public double getLongitude() {
		if (mLocation != null) {
			mLongitude = mLocation.getLongitude();
		}
		return mLongitude;
	}
	
	/**
	 * close GPS to save battery
	 */
	public void closeGPS() {
		if (mLocationManager != null) {
			mLocationManager.removeUpdates(GPSService.this);
		}
	}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a5b043084820-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a5b043084820-32">32</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-1"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-2"><span class="crayon-c">	 * get latitude</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-3"><span class="crayon-c">	 * </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-4"><span class="crayon-c">	 * @return latitude in double</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-5"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-6"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-7"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-8"><span class="crayon-h">			</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-9"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-10"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLatitude</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-11"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-12">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-13"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-14"><span class="crayon-c">	 * get longitude</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-15"><span class="crayon-c">	 * </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-16"><span class="crayon-c">	 * @return longitude in double</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-17"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-18"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-19"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-20"><span class="crayon-h">			</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-21"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-22"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLongitude</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-23"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-24"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-25"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-26"><span class="crayon-c">	 * close GPS to save battery</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-27"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-28"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">closeGPS</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-29"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-30"><span class="crayon-h">			</span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">.</span><span class="crayon-e">removeUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">GPSService</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a5b043084820-31"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a5b043084820-32"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0049 seconds] -->
<p>
If GPS is not enabled then prompt user to enable GPS via this method.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a64898507095" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">enable gps</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/**
	 * show settings to open GPS
	 */
	public void askUserToOpenGPS() {
		AlertDialog.Builder mAlertDialog = new AlertDialog.Builder(mContext);

		// Setting Dialog Title
		mAlertDialog.setTitle("Location not available, Open GPS?")
		.setMessage("Activate GPS to use use location services?")
		.setPositiveButton("Open Settings", new DialogInterface.OnClickListener() {
			public void onClick(DialogInterface dialog, int which) {
				Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);
				mContext.startActivity(intent);
				}
			})
			.setNegativeButton("Cancel",new DialogInterface.OnClickListener() {
				public void onClick(DialogInterface dialog, int which) {
					dialog.cancel();
					}
				}).show();
	}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a64898507095-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a64898507095-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a64898507095-1"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-2"><span class="crayon-c">	 * show settings to open GPS</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-3"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-4"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">askUserToOpenGPS</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-5"><span class="crayon-h">		</span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">Builder </span><span class="crayon-v">mAlertDialog</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">Builder</span><span class="crayon-sy">(</span><span class="crayon-v">mContext</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-7"><span class="crayon-h">		</span><span class="crayon-c">// Setting Dialog Title</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-8"><span class="crayon-h">		</span><span class="crayon-v">mAlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">setTitle</span><span class="crayon-sy">(</span><span class="crayon-s">"Location not available, Open GPS?"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-9"><span class="crayon-h">		</span><span class="crayon-sy">.</span><span class="crayon-e">setMessage</span><span class="crayon-sy">(</span><span class="crayon-s">"Activate GPS to use use location services?"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-10"><span class="crayon-h">		</span><span class="crayon-sy">.</span><span class="crayon-e">setPositiveButton</span><span class="crayon-sy">(</span><span class="crayon-s">"Open Settings"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-11"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-e">DialogInterface </span><span class="crayon-v">dialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">which</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-12"><span class="crayon-h">				</span><span class="crayon-e">Intent </span><span class="crayon-v">intent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-v">ACTION_LOCATION_SOURCE_SETTINGS</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-13"><span class="crayon-h">				</span><span class="crayon-v">mContext</span><span class="crayon-sy">.</span><span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-v">intent</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-14"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-15"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-16"><span class="crayon-h">			</span><span class="crayon-sy">.</span><span class="crayon-e">setNegativeButton</span><span class="crayon-sy">(</span><span class="crayon-s">"Cancel"</span><span class="crayon-sy">,</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-17"><span class="crayon-h">				</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-e">DialogInterface </span><span class="crayon-v">dialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">which</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-18"><span class="crayon-h">					</span><span class="crayon-v">dialog</span><span class="crayon-sy">.</span><span class="crayon-e">cancel</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-19"><span class="crayon-h">					</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a64898507095-20"><span class="crayon-h">				</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a64898507095-21"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0060 seconds] -->
<p>
Final Source code.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a6c626073428" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">GPSService.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.locationgps_demo;

import java.io.IOException;
import java.util.List;
import java.util.Locale;

import android.app.AlertDialog;
import android.app.Service;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.location.Address;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.os.IBinder;
import android.provider.Settings;

public class GPSService extends Service implements LocationListener {

	// saving the context for later use
	private final Context mContext;

	// if GPS is enabled
	boolean isGPSEnabled = false;
	// if Network is enabled
	boolean isNetworkEnabled = false;
	// if Location co-ordinates are available using GPS or Network
	public boolean isLocationAvailable = false;

	// Location and co-ordinates coordinates
	Location mLocation;
	double mLatitude;
	double mLongitude;

	// Minimum time fluctuation for next update (in milliseconds)
	private static final long TIME = 30000;
	// Minimum distance fluctuation for next update (in meters)
	private static final long DISTANCE = 20;

	// Declaring a Location Manager
	protected LocationManager mLocationManager;

	public GPSService(Context context) {
		this.mContext = context;
		mLocationManager = (LocationManager) mContext
				.getSystemService(LOCATION_SERVICE);

	}

	/**
	 * Returs the Location
	 * 
	 * @return Location or null if no location is found
	 */
	public Location getLocation() {
		try {

			// Getting GPS status
			isGPSEnabled = mLocationManager
					.isProviderEnabled(LocationManager.GPS_PROVIDER);

			// If GPS enabled, get latitude/longitude using GPS Services
			if (isGPSEnabled) {
				mLocationManager.requestLocationUpdates(
						LocationManager.GPS_PROVIDER, TIME, DISTANCE, this);
				if (mLocationManager != null) {
					mLocation = mLocationManager
							.getLastKnownLocation(LocationManager.GPS_PROVIDER);
					if (mLocation != null) {
						mLatitude = mLocation.getLatitude();
						mLongitude = mLocation.getLongitude();
						isLocationAvailable = true; // setting a flag that
													// location is available
						return mLocation;
					}
				}
			}

			// If we are reaching this part, it means GPS was not able to fetch
			// any location
			// Getting network status
			isNetworkEnabled = mLocationManager
					.isProviderEnabled(LocationManager.NETWORK_PROVIDER);

			if (isNetworkEnabled) {
				mLocationManager.requestLocationUpdates(
						LocationManager.NETWORK_PROVIDER, TIME, DISTANCE, this);
				if (mLocationManager != null) {
					mLocation = mLocationManager
							.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
					if (mLocation != null) {
						mLatitude = mLocation.getLatitude();
						mLongitude = mLocation.getLongitude();
						isLocationAvailable = true; // setting a flag that
													// location is available
						return mLocation;
					}
				}
			}
			// If reaching here means, we were not able to get location neither
			// from GPS not Network,
			if (!isGPSEnabled) {
				// so asking user to open GPS
				askUserToOpenGPS();
			}

		} catch (Exception e) {
			e.printStackTrace();
		}
		// if reaching here means, location was not available, so setting the
		// flag as false
		isLocationAvailable = false;
		return null;
	}

	/**
	 * Gives you complete address of the location
	 * 
	 * @return complete address in String
	 */
	public String getLocationAddress() {

		if (isLocationAvailable) {

			Geocoder geocoder = new Geocoder(mContext, Locale.getDefault());
			// Get the current location from the input parameter list
			// Create a list to contain the result address
			List&lt;Address&gt; addresses = null;
			try {
				/*
				 * Return 1 address.
				 */
				addresses = geocoder.getFromLocation(mLatitude, mLongitude, 1);
			} catch (IOException e1) {
				e1.printStackTrace();
				return ("IO Exception trying to get address:" + e1);
			} catch (IllegalArgumentException e2) {
				// Error message to post in the log
				String errorString = "Illegal arguments "
						+ Double.toString(mLatitude) + " , "
						+ Double.toString(mLongitude)
						+ " passed to address service";
				e2.printStackTrace();
				return errorString;
			}
			// If the reverse geocode returned an address
			if (addresses != null &amp;&amp; addresses.size() &gt; 0) {
				// Get the first address
				Address address = addresses.get(0);
				/*
				 * Format the first line of address (if available), city, and
				 * country name.
				 */
				String addressText = String.format(
						"%s, %s, %s",
						// If there's a street address, add it
						address.getMaxAddressLineIndex() &gt; 0 ? address
								.getAddressLine(0) : "",
						// Locality is usually a city
						address.getLocality(),
						// The country of the address
						address.getCountryName());
				// Return the text
				return addressText;
			} else {
				return "No address found by the service: Note to the developers, If no address is found by google itself, there is nothing you can do about it.";
			}
		} else {
			return "Location Not available";
		}

	}

	

	/**
	 * get latitude
	 * 
	 * @return latitude in double
	 */
	public double getLatitude() {
		if (mLocation != null) {
			mLatitude = mLocation.getLatitude();
		}
		return mLatitude;
	}

	/**
	 * get longitude
	 * 
	 * @return longitude in double
	 */
	public double getLongitude() {
		if (mLocation != null) {
			mLongitude = mLocation.getLongitude();
		}
		return mLongitude;
	}
	
	/**
	 * close GPS to save battery
	 */
	public void closeGPS() {
		if (mLocationManager != null) {
			mLocationManager.removeUpdates(GPSService.this);
		}
	}

	/**
	 * show settings to open GPS
	 */
	public void askUserToOpenGPS() {
		AlertDialog.Builder mAlertDialog = new AlertDialog.Builder(mContext);

		// Setting Dialog Title
		mAlertDialog.setTitle("Location not available, Open GPS?")
		.setMessage("Activate GPS to use use location services?")
		.setPositiveButton("Open Settings", new DialogInterface.OnClickListener() {
			public void onClick(DialogInterface dialog, int which) {
				Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);
				mContext.startActivity(intent);
				}
			})
			.setNegativeButton("Cancel",new DialogInterface.OnClickListener() {
				public void onClick(DialogInterface dialog, int which) {
					dialog.cancel();
					}
				}).show();
	}

	/** 
	 * Updating the location when location changes
	 */
	@Override
	public void onLocationChanged(Location location) {
		mLatitude = location.getLatitude();
		mLongitude = location.getLongitude();
	}

	@Override
	public void onProviderDisabled(String provider) {
	}

	@Override
	public void onProviderEnabled(String provider) {
	}

	@Override
	public void onStatusChanged(String provider, int status, Bundle extras) {
	}

	@Override
	public IBinder onBind(Intent arg0) {
		return null;
	}

}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-42">42</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-44">44</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-46">46</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-48">48</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-50">50</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-52">52</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-54">54</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-56">56</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-58">58</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-60">60</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-62">62</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-64">64</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-66">66</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-68">68</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-70">70</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-72">72</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-74">74</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-76">76</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-78">78</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-80">80</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-82">82</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-84">84</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-86">86</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-88">88</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-90">90</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-92">92</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-94">94</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-96">96</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-98">98</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-100">100</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-102">102</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-104">104</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-106">106</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-108">108</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-110">110</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-112">112</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-114">114</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-116">116</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-118">118</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-120">120</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-122">122</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-124">124</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-126">126</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-128">128</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-130">130</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-132">132</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-134">134</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-136">136</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-138">138</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-140">140</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-142">142</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-144">144</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-146">146</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-148">148</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-150">150</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-152">152</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-154">154</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-156">156</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-158">158</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-160">160</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-162">162</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-164">164</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-166">166</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-168">168</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-170">170</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-172">172</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-174">174</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-176">176</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-178">178</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-180">180</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-182">182</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-184">184</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-186">186</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-188">188</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-190">190</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-192">192</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-194">194</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-196">196</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-198">198</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-200">200</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-202">202</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-204">204</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-206">206</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-208">208</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-210">210</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-212">212</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-214">214</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-216">216</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-218">218</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-220">220</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-222">222</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-224">224</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-226">226</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-227">227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-228">228</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-229">229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-230">230</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-231">231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-232">232</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-233">233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-234">234</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-235">235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-236">236</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-237">237</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-238">238</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-239">239</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-240">240</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-241">241</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-242">242</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-243">243</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-244">244</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-245">245</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-246">246</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-247">247</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-248">248</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-249">249</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-250">250</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-251">251</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-252">252</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-253">253</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-254">254</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-255">255</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-256">256</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-257">257</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-258">258</div><div class="crayon-num" data-line="crayon-5a4e315e83a6c626073428-259">259</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a6c626073428-260">260</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">locationgps_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-3"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">IOException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-4"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">List</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-5"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Locale</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">Service</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-11"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Intent</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-12"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Address</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-13"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Geocoder</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-14"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Location</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-15"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">LocationListener</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-16"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-17"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Bundle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-18"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">IBinder</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-19"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-v">Settings</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-20">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-21"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">GPSService</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">Service</span><span class="crayon-h"> </span><span class="crayon-r">implements</span><span class="crayon-h"> </span><span class="crayon-e">LocationListener</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-22">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-23"><span class="crayon-h">	</span><span class="crayon-c">// saving the context for later use</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-24"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">mContext</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-26"><span class="crayon-h">	</span><span class="crayon-c">// if GPS is enabled</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-27"><span class="crayon-h">	</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isGPSEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-28"><span class="crayon-h">	</span><span class="crayon-c">// if Network is enabled</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-29"><span class="crayon-h">	</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isNetworkEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-30"><span class="crayon-h">	</span><span class="crayon-c">// if Location co-ordinates are available using GPS or Network</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-31"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-32">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-33"><span class="crayon-h">	</span><span class="crayon-c">// Location and co-ordinates coordinates</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-34"><span class="crayon-h">	</span><span class="crayon-e">Location </span><span class="crayon-v">mLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-35"><span class="crayon-h">	</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-v">mLatitude</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-36"><span class="crayon-h">	</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-v">mLongitude</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-38"><span class="crayon-h">	</span><span class="crayon-c">// Minimum time fluctuation for next update (in milliseconds)</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-39"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">long</span><span class="crayon-h"> </span><span class="crayon-v">TIME</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30000</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-40"><span class="crayon-h">	</span><span class="crayon-c">// Minimum distance fluctuation for next update (in meters)</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-41"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">long</span><span class="crayon-h"> </span><span class="crayon-v">DISTANCE</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-42">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-43"><span class="crayon-h">	</span><span class="crayon-c">// Declaring a Location Manager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-44"><span class="crayon-h">	</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-e">LocationManager </span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-46"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">GPSService</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-47"><span class="crayon-h">		</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">mContext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-48"><span class="crayon-h">		</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">mContext</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-49"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">LOCATION_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-50">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-51"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-52">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-53"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-54"><span class="crayon-c">	 * Returs the Location</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-55"><span class="crayon-c">	 * </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-56"><span class="crayon-c">	 * @return Location or null if no location is found</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-57"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-58"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">Location </span><span class="crayon-e">getLocation</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-59"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-60">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-61"><span class="crayon-h">			</span><span class="crayon-c">// Getting GPS status</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-62"><span class="crayon-h">			</span><span class="crayon-v">isGPSEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-63"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-64">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-65"><span class="crayon-h">			</span><span class="crayon-c">// If GPS enabled, get latitude/longitude using GPS Services</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-66"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isGPSEnabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-67"><span class="crayon-h">				</span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-68"><span class="crayon-h">						</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIME</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">DISTANCE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-69"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-70"><span class="crayon-h">					</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-71"><span class="crayon-h">							</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-72"><span class="crayon-h">					</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-73"><span class="crayon-h">						</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-74"><span class="crayon-h">						</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-75"><span class="crayon-h">						</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// setting a flag that</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-76"><span class="crayon-h">													</span><span class="crayon-c">// location is available</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-77"><span class="crayon-h">						</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-78"><span class="crayon-h">					</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-79"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-80"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-81">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-82"><span class="crayon-h">			</span><span class="crayon-c">// If we are reaching this part, it means GPS was not able to fetch</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-83"><span class="crayon-h">			</span><span class="crayon-c">// any location</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-84"><span class="crayon-h">			</span><span class="crayon-c">// Getting network status</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-85"><span class="crayon-h">			</span><span class="crayon-v">isNetworkEnabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-86"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-88"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isNetworkEnabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-89"><span class="crayon-h">				</span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-90"><span class="crayon-h">						</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIME</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">DISTANCE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-91"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-92"><span class="crayon-h">					</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">mLocationManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-93"><span class="crayon-h">							</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-94"><span class="crayon-h">					</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-95"><span class="crayon-h">						</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-96"><span class="crayon-h">						</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-97"><span class="crayon-h">						</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// setting a flag that</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-98"><span class="crayon-h">													</span><span class="crayon-c">// location is available</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-99"><span class="crayon-h">						</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-100"><span class="crayon-h">					</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-101"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-102"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-103"><span class="crayon-h">			</span><span class="crayon-c">// If reaching here means, we were not able to get location neither</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-104"><span class="crayon-h">			</span><span class="crayon-c">// from GPS not Network,</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-105"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">isGPSEnabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-106"><span class="crayon-h">				</span><span class="crayon-c">// so asking user to open GPS</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-107"><span class="crayon-h">				</span><span class="crayon-e">askUserToOpenGPS</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-108"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-109">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-110"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-111"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-112"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-113"><span class="crayon-h">		</span><span class="crayon-c">// if reaching here means, location was not available, so setting the</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-114"><span class="crayon-h">		</span><span class="crayon-c">// flag as false</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-115"><span class="crayon-h">		</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-116"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-117"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-118">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-119"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-120"><span class="crayon-c">	 * Gives you complete address of the location</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-121"><span class="crayon-c">	 * </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-122"><span class="crayon-c">	 * @return complete address in String</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-123"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-124"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getLocationAddress</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-125">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-126"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isLocationAvailable</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-127">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-128"><span class="crayon-h">			</span><span class="crayon-e">Geocoder </span><span class="crayon-v">geocoder</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Geocoder</span><span class="crayon-sy">(</span><span class="crayon-v">mContext</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Locale</span><span class="crayon-sy">.</span><span class="crayon-e">getDefault</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-129"><span class="crayon-h">			</span><span class="crayon-c">// Get the current location from the input parameter list</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-130"><span class="crayon-h">			</span><span class="crayon-c">// Create a list to contain the result address</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-131"><span class="crayon-h">			</span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Address</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-132"><span class="crayon-h">			</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-133"><span class="crayon-h">				</span><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-134"><span class="crayon-c">				 * Return 1 address.</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-135"><span class="crayon-c">				 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-136"><span class="crayon-h">				</span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">geocoder</span><span class="crayon-sy">.</span><span class="crayon-e">getFromLocation</span><span class="crayon-sy">(</span><span class="crayon-v">mLatitude</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">mLongitude</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-137"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">IOException </span><span class="crayon-v">e1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-138"><span class="crayon-h">				</span><span class="crayon-v">e1</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-139"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"IO Exception trying to get address:"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">e1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-140"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">IllegalArgumentException </span><span class="crayon-v">e2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-141"><span class="crayon-h">				</span><span class="crayon-c">// Error message to post in the log</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-142"><span class="crayon-h">				</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">errorString</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Illegal arguments "</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-143"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-t">Double</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-v">mLatitude</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" , "</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-144"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-t">Double</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-v">mLongitude</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-145"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" passed to address service"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-146"><span class="crayon-h">				</span><span class="crayon-v">e2</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-147"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">errorString</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-148"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-149"><span class="crayon-h">			</span><span class="crayon-c">// If the reverse geocode returned an address</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-150"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">size</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-151"><span class="crayon-h">				</span><span class="crayon-c">// Get the first address</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-152"><span class="crayon-h">				</span><span class="crayon-e">Address </span><span class="crayon-v">address</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-153"><span class="crayon-h">				</span><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-154"><span class="crayon-c">				 * Format the first line of address (if available), city, and</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-155"><span class="crayon-c">				 * country name.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-156"><span class="crayon-c">				 */</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-157"><span class="crayon-h">				</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">addressText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-158"><span class="crayon-h">						</span><span class="crayon-s">"%s, %s, %s"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-159"><span class="crayon-h">						</span><span class="crayon-c">// If there's a street address, add it</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-160"><span class="crayon-h">						</span><span class="crayon-v">address</span><span class="crayon-sy">.</span><span class="crayon-e">getMaxAddressLineIndex</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-i">address</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-161"><span class="crayon-h">								</span><span class="crayon-sy">.</span><span class="crayon-e">getAddressLine</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-162"><span class="crayon-h">						</span><span class="crayon-c">// Locality is usually a city</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-163"><span class="crayon-h">						</span><span class="crayon-v">address</span><span class="crayon-sy">.</span><span class="crayon-e">getLocality</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-164"><span class="crayon-h">						</span><span class="crayon-c">// The country of the address</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-165"><span class="crayon-h">						</span><span class="crayon-v">address</span><span class="crayon-sy">.</span><span class="crayon-e">getCountryName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-166"><span class="crayon-h">				</span><span class="crayon-c">// Return the text</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-167"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">addressText</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-168"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-169"><span class="crayon-h">				</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"No address found by the service: Note to the developers, If no address is found by google itself, there is nothing you can do about it."</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-170"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-171"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-172"><span class="crayon-h">			</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"Location Not available"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-173"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-174">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-175"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-176">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-177"><span class="crayon-h">	</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-178">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-179"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-180"><span class="crayon-c">	 * get latitude</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-181"><span class="crayon-c">	 * </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-182"><span class="crayon-c">	 * @return latitude in double</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-183"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-184"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-185"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-186"><span class="crayon-h">			</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-187"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-188"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLatitude</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-189"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-190">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-191"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-192"><span class="crayon-c">	 * get longitude</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-193"><span class="crayon-c">	 * </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-194"><span class="crayon-c">	 * @return longitude in double</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-195"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-196"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-197"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocation</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-198"><span class="crayon-h">			</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mLocation</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-199"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-200"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">mLongitude</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-201"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-202"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-203"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-204"><span class="crayon-c">	 * close GPS to save battery</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-205"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-206"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">closeGPS</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-207"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mLocationManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-208"><span class="crayon-h">			</span><span class="crayon-v">mLocationManager</span><span class="crayon-sy">.</span><span class="crayon-e">removeUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">GPSService</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-209"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-210"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-211">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-212"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-213"><span class="crayon-c">	 * show settings to open GPS</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-214"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-215"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">askUserToOpenGPS</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-216"><span class="crayon-h">		</span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">Builder </span><span class="crayon-v">mAlertDialog</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">Builder</span><span class="crayon-sy">(</span><span class="crayon-v">mContext</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-217">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-218"><span class="crayon-h">		</span><span class="crayon-c">// Setting Dialog Title</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-219"><span class="crayon-h">		</span><span class="crayon-v">mAlertDialog</span><span class="crayon-sy">.</span><span class="crayon-e">setTitle</span><span class="crayon-sy">(</span><span class="crayon-s">"Location not available, Open GPS?"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-220"><span class="crayon-h">		</span><span class="crayon-sy">.</span><span class="crayon-e">setMessage</span><span class="crayon-sy">(</span><span class="crayon-s">"Activate GPS to use use location services?"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-221"><span class="crayon-h">		</span><span class="crayon-sy">.</span><span class="crayon-e">setPositiveButton</span><span class="crayon-sy">(</span><span class="crayon-s">"Open Settings"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-222"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-e">DialogInterface </span><span class="crayon-v">dialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">which</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-223"><span class="crayon-h">				</span><span class="crayon-e">Intent </span><span class="crayon-v">intent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-v">ACTION_LOCATION_SOURCE_SETTINGS</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-224"><span class="crayon-h">				</span><span class="crayon-v">mContext</span><span class="crayon-sy">.</span><span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-v">intent</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-225"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-226"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-227"><span class="crayon-h">			</span><span class="crayon-sy">.</span><span class="crayon-e">setNegativeButton</span><span class="crayon-sy">(</span><span class="crayon-s">"Cancel"</span><span class="crayon-sy">,</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">DialogInterface</span><span class="crayon-sy">.</span><span class="crayon-e">OnClickListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-228"><span class="crayon-h">				</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-e">DialogInterface </span><span class="crayon-v">dialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">which</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-229"><span class="crayon-h">					</span><span class="crayon-v">dialog</span><span class="crayon-sy">.</span><span class="crayon-e">cancel</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-230"><span class="crayon-h">					</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-231"><span class="crayon-h">				</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-232"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-233">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-234"><span class="crayon-h">	</span><span class="crayon-c">/** </span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-235"><span class="crayon-c">	 * Updating the location when location changes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-236"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-237"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-238"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onLocationChanged</span><span class="crayon-sy">(</span><span class="crayon-e">Location </span><span class="crayon-v">location</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-239"><span class="crayon-h">		</span><span class="crayon-v">mLatitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-240"><span class="crayon-h">		</span><span class="crayon-v">mLongitude</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-241"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-242">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-243"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-244"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderDisabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-245"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-246">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-247"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-248"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-249"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-250">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-251"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-252"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onStatusChanged</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Bundle </span><span class="crayon-v">extras</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-253"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-254">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-255"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-256"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">IBinder </span><span class="crayon-e">onBind</span><span class="crayon-sy">(</span><span class="crayon-e">Intent </span><span class="crayon-v">arg0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-257"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-258"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a6c626073428-259">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a6c626073428-260"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0505 seconds] -->
<p>
<b>7</b>. Now, create a new java class naming <em>GPSLocation.java. </em>This class contains methods like turnOn ,turnOff GPS and getLocation that we will use in our activity.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a81190925685" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">GPSLocation,java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.locationgps_demo;

import java.util.Iterator;
import java.util.List;
import java.util.Locale;

import android.content.Context;
import android.content.Intent;
import android.location.Address;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.net.Uri;
import android.os.Bundle;
import android.provider.Settings;
import android.util.Log;

public class GPSLocation {
	private Context context;
	private StringBuilder currentLocation = new StringBuilder();

	public GPSLocation(Context context) {
		this.context = context;
	}

	/**
	 * Check the type of GPS Provider available at that instance and collect the
	 * location informations
	 * 
	 * @Output Latitude and Longitude
	 */

	public void turnGPSOn() {
		try {

			@SuppressWarnings("deprecation")
			String provider = Settings.Secure.getString(
					context.getContentResolver(),
					Settings.Secure.LOCATION_PROVIDERS_ALLOWED);

			if (!provider.contains("gps")) { // if gps is disabled
				final Intent poke = new Intent();
				poke.setClassName("com.android.settings",
						"com.android.settings.widget.SettingsAppWidgetProvider");
				poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
				poke.setData(Uri.parse("3"));
				context.sendBroadcast(poke);
			}
		} catch (Exception e) {

		}
	}

	// Method to turn off the GPS
	@SuppressWarnings("deprecation")
	public void turnGPSOff() {
		String provider = Settings.Secure.getString(
				context.getContentResolver(),
				Settings.Secure.LOCATION_PROVIDERS_ALLOWED);

		if (provider.contains("gps")) { // if gps is enabled
			final Intent poke = new Intent();
			poke.setClassName("com.android.settings",
					"com.android.settings.widget.SettingsAppWidgetProvider");
			poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
			poke.setData(Uri.parse("3"));
			context.sendBroadcast(poke);
		}
	}

	public String getMyCurrentLocation() {

		LocationManager locManager = (LocationManager) context
				.getSystemService(Context.LOCATION_SERVICE);
		LocationListener locListener = new MyLocationListener();

		try {
			gps_enabled = locManager
					.isProviderEnabled(LocationManager.GPS_PROVIDER);
		} catch (Exception ex) {
		}
		try {
			network_enabled = locManager
					.isProviderEnabled(LocationManager.NETWORK_PROVIDER);
		} catch (Exception ex) {
		}

		// don't start listeners if no provider is enabled
		// if(!gps_enabled &amp;&amp; !network_enabled)
		// return false;

		if (gps_enabled) {
			locManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0,
					0, locListener);

		}

		if (gps_enabled) {
			location = locManager
					.getLastKnownLocation(LocationManager.GPS_PROVIDER);

		}

		if (network_enabled &amp;&amp; location == null) {
			locManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,
					0, 0, locListener);

		}

		if (network_enabled &amp;&amp; location == null) {
			location = locManager
					.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);

		}

		if (location != null) {

			MyLat = location.getLatitude();
			MyLong = location.getLongitude();
			currentLocation.append("Latitude : " + MyLat + "nLongitude : "
					+ MyLong);

		} else {
			Location loc = getLastKnownLocation(context);
			if (loc != null) {

				MyLat = loc.getLatitude();
				MyLong = loc.getLongitude();

			}
		}
		locManager.removeUpdates(locListener); // removes the periodic updates
												// from location listener to
												// //avoid battery drainage. If
												// you want to get location at
												// the periodic intervals call
												// this method using //pending
												// intent.

		try {
			// Getting address from found locations.
			Geocoder geocoder;

			List&lt;Address&gt; addresses;
			geocoder = new Geocoder(context, Locale.getDefault());
			addresses = geocoder.getFromLocation(MyLat, MyLong, 1);

			StateName = addresses.get(0).getAdminArea();
			CityName = addresses.get(0).getLocality();
			CountryName = addresses.get(0).getCountryName();

			currentLocation.append("nState Name : " + StateName
					+ "nCity Name : " + CityName + "nCountry Name : "
					+ CountryName);
			// you can get more details other than this . like country code,
			// state code, etc.

		} catch (Exception e) {
			e.printStackTrace();
		}

		return currentLocation.toString();
	}

	// Location listener class. to get location.
	public class MyLocationListener implements LocationListener {
		public void onLocationChanged(Location location) {
			if (location != null) {
			}
		}

		public void onProviderDisabled(String provider) {
			// TODO Auto-generated method stub
		}

		public void onProviderEnabled(String provider) {
			// TODO Auto-generated method stub
		}

		public void onStatusChanged(String provider, int status, Bundle extras) {
			// TODO Auto-generated method stub
		}
	}

	private boolean gps_enabled = false;
	private boolean network_enabled = false;
	Location location;

	Double MyLat, MyLong;
	String CityName = "", StateName = "", CountryName = "";

	// below method to get the last remembered location. because we don't get
	// locations all the times .At some instances we are unable to get the
	// location from GPS. so at that moment it will show us the last stored
	// location.

	public static Location getLastKnownLocation(Context context) {
		Location location = null;
		LocationManager locationmanager = (LocationManager) context
				.getSystemService("location");
		List&lt;String&gt; list = locationmanager.getAllProviders();
		boolean i = false;
		Iterator&lt;&gt; iterator = list.iterator();
		do {

			if (!iterator.hasNext())
				break;
			String s = (String) iterator.next();

			if (i != false &amp;&amp; !locationmanager.isProviderEnabled(s))
				continue;

			Location location1 = locationmanager.getLastKnownLocation(s);
			if (location1 == null)
				continue;
			if (location != null) {

				float f = location.getAccuracy();
				float f1 = location1.getAccuracy();
				if (f &gt;= f1) {
					long l = location1.getTime();
					long l1 = location.getTime();
					if (l - l1 &lt;= 600000L)
						continue;
				}
			}
			location = location1;

			i = locationmanager.isProviderEnabled(s);

		} while (true);
		return location;
	}

}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-42">42</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-44">44</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-46">46</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-48">48</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-50">50</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-52">52</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-54">54</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-56">56</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-58">58</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-60">60</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-62">62</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-64">64</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-66">66</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-68">68</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-70">70</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-72">72</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-74">74</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-76">76</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-78">78</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-80">80</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-82">82</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-84">84</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-86">86</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-88">88</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-90">90</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-92">92</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-94">94</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-96">96</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-98">98</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-100">100</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-102">102</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-104">104</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-106">106</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-108">108</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-110">110</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-112">112</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-114">114</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-116">116</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-118">118</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-120">120</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-122">122</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-124">124</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-126">126</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-128">128</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-130">130</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-132">132</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-134">134</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-136">136</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-138">138</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-140">140</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-142">142</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-144">144</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-146">146</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-148">148</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-150">150</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-152">152</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-154">154</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-156">156</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-158">158</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-160">160</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-162">162</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-164">164</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-166">166</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-168">168</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-170">170</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-172">172</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-174">174</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-176">176</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-178">178</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-180">180</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-182">182</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-184">184</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-186">186</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-188">188</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-190">190</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-192">192</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-194">194</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-196">196</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-198">198</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-200">200</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-202">202</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-204">204</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-206">206</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-208">208</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-210">210</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-212">212</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-214">214</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-216">216</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-218">218</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-220">220</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-222">222</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-224">224</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-226">226</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-227">227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-228">228</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-229">229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-230">230</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-231">231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-232">232</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-233">233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-234">234</div><div class="crayon-num" data-line="crayon-5a4e315e83a81190925685-235">235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a81190925685-236">236</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a81190925685-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">locationgps_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-3"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Iterator</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-4"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">List</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-5"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Locale</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Intent</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Address</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Geocoder</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-11"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Location</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-12"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">LocationListener</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-13"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-14"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-v">Uri</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-15"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Bundle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-16"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-v">Settings</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-17"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Log</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-18">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-19"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">GPSLocation</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-20"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-21"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">StringBuilder </span><span class="crayon-v">currentLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">StringBuilder</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-22">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-23"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">GPSLocation</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-24"><span class="crayon-h">		</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">context</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-25"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-26">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-27"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-28"><span class="crayon-c">	 * Check the type of GPS Provider available at that instance and collect the</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-29"><span class="crayon-c">	 * location informations</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-30"><span class="crayon-c">	 * </span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-31"><span class="crayon-c">	 * @Output Latitude and Longitude</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-32"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-34"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">turnGPSOn</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-35"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-36">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-37"><span class="crayon-h">			</span><span class="crayon-sy">@</span><span class="crayon-e">SuppressWarnings</span><span class="crayon-sy">(</span><span class="crayon-s">"deprecation"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-38"><span class="crayon-h">			</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-v">Secure</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-39"><span class="crayon-h">					</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">getContentResolver</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-40"><span class="crayon-h">					</span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-v">Secure</span><span class="crayon-sy">.</span><span class="crayon-v">LOCATION_PROVIDERS_ALLOWED</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-42"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-s">"gps"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// if gps is disabled</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-43"><span class="crayon-h">				</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Intent </span><span class="crayon-v">poke</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-44"><span class="crayon-h">				</span><span class="crayon-v">poke</span><span class="crayon-sy">.</span><span class="crayon-e">setClassName</span><span class="crayon-sy">(</span><span class="crayon-s">"com.android.settings"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-45"><span class="crayon-h">						</span><span class="crayon-s">"com.android.settings.widget.SettingsAppWidgetProvider"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-46"><span class="crayon-h">				</span><span class="crayon-v">poke</span><span class="crayon-sy">.</span><span class="crayon-e">addCategory</span><span class="crayon-sy">(</span><span class="crayon-v">Intent</span><span class="crayon-sy">.</span><span class="crayon-v">CATEGORY_ALTERNATIVE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-47"><span class="crayon-h">				</span><span class="crayon-v">poke</span><span class="crayon-sy">.</span><span class="crayon-e">setData</span><span class="crayon-sy">(</span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-s">"3"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-48"><span class="crayon-h">				</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">sendBroadcast</span><span class="crayon-sy">(</span><span class="crayon-v">poke</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-49"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-50"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-52"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-53"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-54">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-55"><span class="crayon-h">	</span><span class="crayon-c">// Method to turn off the GPS</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-56"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">SuppressWarnings</span><span class="crayon-sy">(</span><span class="crayon-s">"deprecation"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-57"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">turnGPSOff</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-58"><span class="crayon-h">		</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-v">Secure</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-59"><span class="crayon-h">				</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">getContentResolver</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-60"><span class="crayon-h">				</span><span class="crayon-v">Settings</span><span class="crayon-sy">.</span><span class="crayon-v">Secure</span><span class="crayon-sy">.</span><span class="crayon-v">LOCATION_PROVIDERS_ALLOWED</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-61">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-62"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">provider</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-s">"gps"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// if gps is enabled</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-63"><span class="crayon-h">			</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Intent </span><span class="crayon-v">poke</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-64"><span class="crayon-h">			</span><span class="crayon-v">poke</span><span class="crayon-sy">.</span><span class="crayon-e">setClassName</span><span class="crayon-sy">(</span><span class="crayon-s">"com.android.settings"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-65"><span class="crayon-h">					</span><span class="crayon-s">"com.android.settings.widget.SettingsAppWidgetProvider"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-66"><span class="crayon-h">			</span><span class="crayon-v">poke</span><span class="crayon-sy">.</span><span class="crayon-e">addCategory</span><span class="crayon-sy">(</span><span class="crayon-v">Intent</span><span class="crayon-sy">.</span><span class="crayon-v">CATEGORY_ALTERNATIVE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-67"><span class="crayon-h">			</span><span class="crayon-v">poke</span><span class="crayon-sy">.</span><span class="crayon-e">setData</span><span class="crayon-sy">(</span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-s">"3"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-68"><span class="crayon-h">			</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">sendBroadcast</span><span class="crayon-sy">(</span><span class="crayon-v">poke</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-69"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-70"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-72"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getMyCurrentLocation</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-74"><span class="crayon-h">		</span><span class="crayon-e">LocationManager </span><span class="crayon-v">locManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">context</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-75"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">Context</span><span class="crayon-sy">.</span><span class="crayon-v">LOCATION_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-76"><span class="crayon-h">		</span><span class="crayon-e">LocationListener </span><span class="crayon-v">locListener</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">MyLocationListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-77">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-78"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-79"><span class="crayon-h">			</span><span class="crayon-v">gps_enabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">locManager</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-80"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-81"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">Exception </span><span class="crayon-v">ex</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-82"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-83"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-84"><span class="crayon-h">			</span><span class="crayon-v">network_enabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">locManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-85"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-86"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">Exception </span><span class="crayon-v">ex</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-87"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-88">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-89"><span class="crayon-h">		</span><span class="crayon-c">// don't start listeners if no provider is enabled</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-90"><span class="crayon-h">		</span><span class="crayon-c">// if(!gps_enabled &amp;&amp; !network_enabled)</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-91"><span class="crayon-h">		</span><span class="crayon-c">// return false;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-92">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-93"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">gps_enabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-94"><span class="crayon-h">			</span><span class="crayon-v">locManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-95"><span class="crayon-h">					</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">locListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-96">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-97"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-98">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-99"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">gps_enabled</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-100"><span class="crayon-h">			</span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">locManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-101"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-102">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-103"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-104">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-105"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">network_enabled</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-106"><span class="crayon-h">			</span><span class="crayon-v">locManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-107"><span class="crayon-h">					</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">locListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-108">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-109"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-110">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-111"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">network_enabled</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-112"><span class="crayon-h">			</span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">locManager</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-113"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-114">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-115"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-116">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-117"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-118">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-119"><span class="crayon-h">			</span><span class="crayon-v">MyLat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-120"><span class="crayon-h">			</span><span class="crayon-v">MyLong</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-121"><span class="crayon-h">			</span><span class="crayon-v">currentLocation</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-s">"Latitude : "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">MyLat</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"nLongitude : "</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-122"><span class="crayon-h">					</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">MyLong</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-124"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-125"><span class="crayon-h">			</span><span class="crayon-e">Location </span><span class="crayon-v">loc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-126"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">loc</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-127">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-128"><span class="crayon-h">				</span><span class="crayon-v">MyLat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">loc</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-129"><span class="crayon-h">				</span><span class="crayon-v">MyLong</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">loc</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-130">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-131"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-132"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-133"><span class="crayon-h">		</span><span class="crayon-v">locManager</span><span class="crayon-sy">.</span><span class="crayon-e">removeUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">locListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// removes the periodic updates</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-134"><span class="crayon-h">												</span><span class="crayon-c">// from location listener to</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-135"><span class="crayon-h">												</span><span class="crayon-c">// //avoid battery drainage. If</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-136"><span class="crayon-h">												</span><span class="crayon-c">// you want to get location at</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-137"><span class="crayon-h">												</span><span class="crayon-c">// the periodic intervals call</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-138"><span class="crayon-h">												</span><span class="crayon-c">// this method using //pending</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-139"><span class="crayon-h">												</span><span class="crayon-c">// intent.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-140">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-141"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-142"><span class="crayon-h">			</span><span class="crayon-c">// Getting address from found locations.</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-143"><span class="crayon-h">			</span><span class="crayon-e">Geocoder </span><span class="crayon-v">geocoder</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-144">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-145"><span class="crayon-h">			</span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Address</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-146"><span class="crayon-h">			</span><span class="crayon-v">geocoder</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Geocoder</span><span class="crayon-sy">(</span><span class="crayon-v">context</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Locale</span><span class="crayon-sy">.</span><span class="crayon-e">getDefault</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-147"><span class="crayon-h">			</span><span class="crayon-v">addresses</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">geocoder</span><span class="crayon-sy">.</span><span class="crayon-e">getFromLocation</span><span class="crayon-sy">(</span><span class="crayon-v">MyLat</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">MyLong</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-148">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-149"><span class="crayon-h">			</span><span class="crayon-v">StateName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getAdminArea</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-150"><span class="crayon-h">			</span><span class="crayon-v">CityName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getLocality</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-151"><span class="crayon-h">			</span><span class="crayon-v">CountryName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">addresses</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getCountryName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-152">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-153"><span class="crayon-h">			</span><span class="crayon-v">currentLocation</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-s">"nState Name : "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">StateName</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-154"><span class="crayon-h">					</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"nCity Name : "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">CityName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"nCountry Name : "</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-155"><span class="crayon-h">					</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">CountryName</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-156"><span class="crayon-h">			</span><span class="crayon-c">// you can get more details other than this . like country code,</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-157"><span class="crayon-h">			</span><span class="crayon-c">// state code, etc.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-158">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-159"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-160"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-161"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-162">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-163"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">currentLocation</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-164"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-165">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-166"><span class="crayon-h">	</span><span class="crayon-c">// Location listener class. to get location.</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-167"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyLocationListener</span><span class="crayon-h"> </span><span class="crayon-r">implements</span><span class="crayon-h"> </span><span class="crayon-e">LocationListener</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-168"><span class="crayon-h">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onLocationChanged</span><span class="crayon-sy">(</span><span class="crayon-e">Location </span><span class="crayon-v">location</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-169"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-170"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-171"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-172">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-173"><span class="crayon-h">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderDisabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-174"><span class="crayon-h">			</span><span class="crayon-c">// TODO Auto-generated method stub</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-175"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-176">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-177"><span class="crayon-h">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-178"><span class="crayon-h">			</span><span class="crayon-c">// TODO Auto-generated method stub</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-179"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-180">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-181"><span class="crayon-h">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onStatusChanged</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Bundle </span><span class="crayon-v">extras</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-182"><span class="crayon-h">			</span><span class="crayon-c">// TODO Auto-generated method stub</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-183"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-184"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-185">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-186"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">gps_enabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-187"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">network_enabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-188"><span class="crayon-h">	</span><span class="crayon-e">Location </span><span class="crayon-v">location</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-189">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-190"><span class="crayon-h">	</span><span class="crayon-t">Double</span><span class="crayon-h"> </span><span class="crayon-v">MyLat</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">MyLong</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-191"><span class="crayon-h">	</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">CityName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">StateName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CountryName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-192">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-193"><span class="crayon-h">	</span><span class="crayon-c">// below method to get the last remembered location. because we don't get</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-194"><span class="crayon-h">	</span><span class="crayon-c">// locations all the times .At some instances we are unable to get the</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-195"><span class="crayon-h">	</span><span class="crayon-c">// location from GPS. so at that moment it will show us the last stored</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-196"><span class="crayon-h">	</span><span class="crayon-c">// location.</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-197">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-198"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-e">Location </span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-e">Context </span><span class="crayon-v">context</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-199"><span class="crayon-h">		</span><span class="crayon-e">Location </span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-200"><span class="crayon-h">		</span><span class="crayon-e">LocationManager </span><span class="crayon-v">locationmanager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">context</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-201"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-s">"location"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-202"><span class="crayon-h">		</span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">locationmanager</span><span class="crayon-sy">.</span><span class="crayon-e">getAllProviders</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-203"><span class="crayon-h">		</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-204"><span class="crayon-h">		</span><span class="crayon-v">Iterator</span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-v">iterator</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-e">iterator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-205"><span class="crayon-h">		</span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-206">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-207"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">iterator</span><span class="crayon-sy">.</span><span class="crayon-e">hasNext</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-208"><span class="crayon-h">				</span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-209"><span class="crayon-h">			</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">iterator</span><span class="crayon-sy">.</span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-210">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-211"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">locationmanager</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-212"><span class="crayon-h">				</span><span class="crayon-st">continue</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-213">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-214"><span class="crayon-h">			</span><span class="crayon-e">Location </span><span class="crayon-v">location1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">locationmanager</span><span class="crayon-sy">.</span><span class="crayon-e">getLastKnownLocation</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-215"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">location1</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-216"><span class="crayon-h">				</span><span class="crayon-st">continue</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-217"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-218">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-219"><span class="crayon-h">				</span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getAccuracy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-220"><span class="crayon-h">				</span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">f1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location1</span><span class="crayon-sy">.</span><span class="crayon-e">getAccuracy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-221"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">f1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-222"><span class="crayon-h">					</span><span class="crayon-t">long</span><span class="crayon-h"> </span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location1</span><span class="crayon-sy">.</span><span class="crayon-e">getTime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-223"><span class="crayon-h">					</span><span class="crayon-t">long</span><span class="crayon-h"> </span><span class="crayon-v">l1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getTime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-224"><span class="crayon-h">					</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">l1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">600000L</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-225"><span class="crayon-h">						</span><span class="crayon-st">continue</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-226"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-227"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-228"><span class="crayon-h">			</span><span class="crayon-v">location</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">location1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-229">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-230"><span class="crayon-h">			</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">locationmanager</span><span class="crayon-sy">.</span><span class="crayon-e">isProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-231">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-232"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-233"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-234"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a81190925685-235">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a81190925685-236"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0469 seconds] -->
<p>
<b>8</b>. The above two classes are used to get location in presence of internet but in absence of internet we have to do something else. I am using this method to get current location in latitude and longitude.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83a96976616581" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
	private void getLocationWithoutInternet() {
		// Acquire a reference to the system Location Manager
		LocationManager locationManager = (LocationManager) this
				.getSystemService(Context.LOCATION_SERVICE);

		// Define a listener that responds to location updates
		LocationListener locationListener = new LocationListener() {

			public void onStatusChanged(String provider, int status,
					Bundle extras) {
			}

			public void onProviderEnabled(String provider) {
			}

			public void onProviderDisabled(String provider) {
			}

			@Override
			public void onLocationChanged(Location location) {

				// The toast will show loaction continuosly as we are requesting
				// local updates
				Toast.makeText(
						getApplicationContext(),
						location.getLatitude() + "     "
								+ location.getLongitude(), Toast.LENGTH_SHORT)
						.show();

				

			}
		};

		// Register the listener with the Location Manager to receive location
		// updates
		if (locationManager.getAllProviders().contains(LocationManager.NETWORK_PROVIDER))
		    locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);

		if (locationManager.getAllProviders().contains(LocationManager.GPS_PROVIDER))
		    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
	}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83a96976616581-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83a96976616581-42">42</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83a96976616581-1"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">getLocationWithoutInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-2"><span class="crayon-h">		</span><span class="crayon-c">// Acquire a reference to the system Location Manager</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-3"><span class="crayon-h">		</span><span class="crayon-e">LocationManager </span><span class="crayon-v">locationManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-r">this</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-4"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">Context</span><span class="crayon-sy">.</span><span class="crayon-v">LOCATION_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-6"><span class="crayon-h">		</span><span class="crayon-c">// Define a listener that responds to location updates</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-7"><span class="crayon-h">		</span><span class="crayon-e">LocationListener </span><span class="crayon-v">locationListener</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">LocationListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-8">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-9"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onStatusChanged</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">status</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-10"><span class="crayon-h">					</span><span class="crayon-e">Bundle </span><span class="crayon-v">extras</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-11"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-12">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-13"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-14"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-16"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderDisabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-17"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-18">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-19"><span class="crayon-h">			</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-20"><span class="crayon-e">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onLocationChanged</span><span class="crayon-sy">(</span><span class="crayon-e">Location </span><span class="crayon-v">location</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-22"><span class="crayon-h">				</span><span class="crayon-c">// The toast will show loaction continuosly as we are requesting</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-23"><span class="crayon-h">				</span><span class="crayon-c">// local updates</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-24"><span class="crayon-h">				</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-25"><span class="crayon-h">						</span><span class="crayon-e">getApplicationContext</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-26"><span class="crayon-h">						</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;&nbsp;&nbsp; "</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-27"><span class="crayon-h">								</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-28"><span class="crayon-h">						</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-30"><span class="crayon-h">				</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-32"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-33"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-34">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-35"><span class="crayon-h">		</span><span class="crayon-c">// Register the listener with the Location Manager to receive location</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-36"><span class="crayon-h">		</span><span class="crayon-c">// updates</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-37"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">getAllProviders</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-38"><span class="crayon-h">		&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">locationListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-40"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">getAllProviders</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83a96976616581-41"><span class="crayon-h">		&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">locationListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83a96976616581-42"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0057 seconds] -->
<p>
<b>9</b>. Finally come to your <em>MainActivity.java </em>and add the following code. In this activity we are getting current location via internet and without internet. While getting location through internet we have to check first if internet is present or not. So for this I used ConnectionDetector class to get network status.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4e315e83aa1614263253" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">MainActivity.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package com.locationgps_demo;

import android.content.Context;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity implements OnClickListener {
	private static Button getLocation, getLocation_usingInternet;
	private static TextView displayLocation, displayInternetLocation;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		init();
		setListeners();

	}

	// Initialize the views
	private void init() {
		getLocation = (Button) findViewById(R.id.get_location_without_internet);
		getLocation_usingInternet = (Button) findViewById(R.id.get_location_using_internet);
		displayLocation = (TextView) findViewById(R.id.show_location_without_internet);
		displayInternetLocation = (TextView) findViewById(R.id.show_location_using_internet);
	}

	// Set listeners over both button
	private void setListeners() {
		getLocation.setOnClickListener(this);
		getLocation_usingInternet.setOnClickListener(this);
	}

	@Override
	public void onClick(View v) {
		switch (v.getId()) {
		case R.id.get_location_using_internet:
			getLocationUsingInternet();
			break;

		case R.id.get_location_without_internet:
			getLocationWithoutInternet();
			break;
		}

	}

	// Method that will return location in longitude, latitude, city, state, and
	// country
	private void getLocationUsingInternet() {

		boolean isInternetConnected = new ConnectionDetector(MainActivity.this)
				.isConnectingToInternet();

		// Before proceding we have to check if therr is internet connection or
		// not
		if (isInternetConnected) {
			getLocation_usingInternet.setText("Please wait...");// while getting
																// location
																// please wait
																// and disable
																// the button
			getLocation_usingInternet.setEnabled(false);
			new GPSLocation(MainActivity.this).turnGPSOn();// First turn on GPS
			String getLocation = new GPSLocation(MainActivity.this)
					.getMyCurrentLocation();// Get current location from
											// Location class
			displayInternetLocation.setText(getLocation);// Set location over
															// textview

			// Now again change the state of button
			getLocation_usingInternet.setText(R.string.location_internet);
			getLocation_usingInternet.setEnabled(true);
		} else {

			// If there is no internet connection toast will be displayed
			Toast.makeText(MainActivity.this,
					"There is no internet connection.", Toast.LENGTH_SHORT)
					.show();
		}

	}

	// Method that will fetch the location in longitude and latitude in absence
	// of internet
	private void getLocationWithoutInternet() {

		// Change the state of button
		getLocation.setText("Please wait..");
		getLocation.setEnabled(false);

		// Acquire a reference to the system Location Manager
		LocationManager locationManager = (LocationManager) this
				.getSystemService(Context.LOCATION_SERVICE);

		// Define a listener that responds to location updates
		LocationListener locationListener = new LocationListener() {

			public void onStatusChanged(String provider, int status,
					Bundle extras) {
			}

			public void onProviderEnabled(String provider) {
			}

			public void onProviderDisabled(String provider) {
			}

			@Override
			public void onLocationChanged(Location location) {

				// Display currnet longitude and latitude over textview
				displayLocation.setText("Latitude : " + location.getLatitude()
						+ "nLongitude : " + location.getLongitude());

				// The toast will show loaction continuosly as we are requesting
				// local updates
				Toast.makeText(
						getApplicationContext(),
						location.getLatitude() + "     "
								+ location.getLongitude(), Toast.LENGTH_SHORT)
						.show();

				// Now, again change the state of button
				getLocation.setText(R.string.location_without_internet);
				getLocation.setEnabled(true);

			}
		};

		// Register the listener with the Location Manager to receive location
		// updates
		if (locationManager.getAllProviders().contains(LocationManager.NETWORK_PROVIDER))
		    locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);

		if (locationManager.getAllProviders().contains(LocationManager.GPS_PROVIDER))
		    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
	}

	@Override
	protected void onDestroy() {

		super.onDestroy();
		// When activity destroyed we have to turn off GPS
		new GPSLocation(MainActivity.this).turnGPSOff();
	}

}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-2">2</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-4">4</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-6">6</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-8">8</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-10">10</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-12">12</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-14">14</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-16">16</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-18">18</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-20">20</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-22">22</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-24">24</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-26">26</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-28">28</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-30">30</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-32">32</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-34">34</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-36">36</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-38">38</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-40">40</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-42">42</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-44">44</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-46">46</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-48">48</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-50">50</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-52">52</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-54">54</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-56">56</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-58">58</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-60">60</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-62">62</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-64">64</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-66">66</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-68">68</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-70">70</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-72">72</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-74">74</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-76">76</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-78">78</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-80">80</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-82">82</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-84">84</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-86">86</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-88">88</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-90">90</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-92">92</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-94">94</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-96">96</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-98">98</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-100">100</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-102">102</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-104">104</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-106">106</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-108">108</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-110">110</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-112">112</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-114">114</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-116">116</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-118">118</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-120">120</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-122">122</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-124">124</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-126">126</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-128">128</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-130">130</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-132">132</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-134">134</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-136">136</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-138">138</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-140">140</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-142">142</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-144">144</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-146">146</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-148">148</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-150">150</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-152">152</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-154">154</div><div class="crayon-num" data-line="crayon-5a4e315e83aa1614263253-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4e315e83aa1614263253-156">156</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">locationgps_demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-2">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-3"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-v">Context</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-4"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">Location</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-5"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">LocationListener</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-6"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-7"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">Bundle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-8"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">v7</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">AppCompatActivity</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-9"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">view</span><span class="crayon-sy">.</span><span class="crayon-v">View</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-10"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">view</span><span class="crayon-sy">.</span><span class="crayon-v">View</span><span class="crayon-sy">.</span><span class="crayon-v">OnClickListener</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-11"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">Button</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-12"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">TextView</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-13"><span class="crayon-e">import </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">widget</span><span class="crayon-sy">.</span><span class="crayon-v">Toast</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-14">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-15"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MainActivity</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">AppCompatActivity</span><span class="crayon-h"> </span><span class="crayon-r">implements</span><span class="crayon-h"> </span><span class="crayon-e">OnClickListener</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-16"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-e">Button </span><span class="crayon-v">getLocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-17"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-e">TextView </span><span class="crayon-v">displayLocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">displayInternetLocation</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-18">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-19"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-20"><span class="crayon-e">	</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-21"><span class="crayon-h">		</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-22"><span class="crayon-h">		</span><span class="crayon-e">setContentView</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">layout</span><span class="crayon-sy">.</span><span class="crayon-v">activity_main</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-23"><span class="crayon-h">		</span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-24"><span class="crayon-h">		</span><span class="crayon-e">setListeners</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-26"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-28"><span class="crayon-h">	</span><span class="crayon-c">// Initialize the views</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-29"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-30"><span class="crayon-h">		</span><span class="crayon-v">getLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Button</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">findViewById</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">get_location_without_internet</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-31"><span class="crayon-h">		</span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Button</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">findViewById</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">get_location_using_internet</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-32"><span class="crayon-h">		</span><span class="crayon-v">displayLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">TextView</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">findViewById</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">show_location_without_internet</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-33"><span class="crayon-h">		</span><span class="crayon-v">displayInternetLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">TextView</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">findViewById</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">show_location_using_internet</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-34"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-36"><span class="crayon-h">	</span><span class="crayon-c">// Set listeners over both button</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-37"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setListeners</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-38"><span class="crayon-h">		</span><span class="crayon-v">getLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setOnClickListener</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-39"><span class="crayon-h">		</span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-sy">.</span><span class="crayon-e">setOnClickListener</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-40"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-42"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-43"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onClick</span><span class="crayon-sy">(</span><span class="crayon-i">View</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-44"><span class="crayon-h">		</span><span class="crayon-st">switch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">v</span><span class="crayon-sy">.</span><span class="crayon-e">getId</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-45"><span class="crayon-h">		</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">get_location_using_internet</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-46"><span class="crayon-h">			</span><span class="crayon-e">getLocationUsingInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-47"><span class="crayon-h">			</span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-48">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-49"><span class="crayon-h">		</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-v">get_location_without_internet</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-50"><span class="crayon-h">			</span><span class="crayon-e">getLocationWithoutInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-51"><span class="crayon-h">			</span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-52"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-54"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-56"><span class="crayon-h">	</span><span class="crayon-c">// Method that will return location in longitude, latitude, city, state, and</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-57"><span class="crayon-h">	</span><span class="crayon-c">// country</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-58"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">getLocationUsingInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-60"><span class="crayon-h">		</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">isInternetConnected</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">ConnectionDetector</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-61"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">isConnectingToInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-62">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-63"><span class="crayon-h">		</span><span class="crayon-c">// Before proceding we have to check if therr is internet connection or</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-64"><span class="crayon-h">		</span><span class="crayon-c">// not</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-65"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isInternetConnected</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-66"><span class="crayon-h">			</span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait..."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// while getting</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-67"><span class="crayon-h">																</span><span class="crayon-c">// location</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-68"><span class="crayon-h">																</span><span class="crayon-c">// please wait</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-69"><span class="crayon-h">																</span><span class="crayon-c">// and disable</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-70"><span class="crayon-h">																</span><span class="crayon-c">// the button</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-71"><span class="crayon-h">			</span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-sy">.</span><span class="crayon-e">setEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-72"><span class="crayon-h">			</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">GPSLocation</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">turnGPSOn</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// First turn on GPS</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-73"><span class="crayon-h">			</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">getLocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">GPSLocation</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-74"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">getMyCurrentLocation</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// Get current location from</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-75"><span class="crayon-h">											</span><span class="crayon-c">// Location class</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-76"><span class="crayon-h">			</span><span class="crayon-v">displayInternetLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-v">getLocation</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// Set location over</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-77"><span class="crayon-h">															</span><span class="crayon-c">// textview</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-78">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-79"><span class="crayon-h">			</span><span class="crayon-c">// Now again change the state of button</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-80"><span class="crayon-h">			</span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">location_internet</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-81"><span class="crayon-h">			</span><span class="crayon-v">getLocation_usingInternet</span><span class="crayon-sy">.</span><span class="crayon-e">setEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-82"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-84"><span class="crayon-h">			</span><span class="crayon-c">// If there is no internet connection toast will be displayed</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-85"><span class="crayon-h">			</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-86"><span class="crayon-h">					</span><span class="crayon-s">"There is no internet connection."</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-87"><span class="crayon-h">					</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-88"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-89">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-90"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-91">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-92"><span class="crayon-h">	</span><span class="crayon-c">// Method that will fetch the location in longitude and latitude in absence</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-93"><span class="crayon-h">	</span><span class="crayon-c">// of internet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-94"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">getLocationWithoutInternet</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-95">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-96"><span class="crayon-h">		</span><span class="crayon-c">// Change the state of button</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-97"><span class="crayon-h">		</span><span class="crayon-v">getLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait.."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-98"><span class="crayon-h">		</span><span class="crayon-v">getLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-99">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-100"><span class="crayon-h">		</span><span class="crayon-c">// Acquire a reference to the system Location Manager</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-101"><span class="crayon-h">		</span><span class="crayon-e">LocationManager </span><span class="crayon-v">locationManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-r">this</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-102"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">getSystemService</span><span class="crayon-sy">(</span><span class="crayon-v">Context</span><span class="crayon-sy">.</span><span class="crayon-v">LOCATION_SERVICE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-104"><span class="crayon-h">		</span><span class="crayon-c">// Define a listener that responds to location updates</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-105"><span class="crayon-h">		</span><span class="crayon-e">LocationListener </span><span class="crayon-v">locationListener</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">LocationListener</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-106">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-107"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onStatusChanged</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">status</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-108"><span class="crayon-h">					</span><span class="crayon-e">Bundle </span><span class="crayon-v">extras</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-109"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-110">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-111"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-112"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-113">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-114"><span class="crayon-h">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onProviderDisabled</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">provider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-115"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-116">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-117"><span class="crayon-h">			</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-118"><span class="crayon-e">			</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onLocationChanged</span><span class="crayon-sy">(</span><span class="crayon-e">Location </span><span class="crayon-v">location</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-119">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-120"><span class="crayon-h">				</span><span class="crayon-c">// Display currnet longitude and latitude over textview</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-121"><span class="crayon-h">				</span><span class="crayon-v">displayLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-s">"Latitude : "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-122"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"nLongitude : "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-124"><span class="crayon-h">				</span><span class="crayon-c">// The toast will show loaction continuosly as we are requesting</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-125"><span class="crayon-h">				</span><span class="crayon-c">// local updates</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-126"><span class="crayon-h">				</span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-e">makeText</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-127"><span class="crayon-h">						</span><span class="crayon-e">getApplicationContext</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-128"><span class="crayon-h">						</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLatitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;&nbsp;&nbsp; "</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-129"><span class="crayon-h">								</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">getLongitude</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Toast</span><span class="crayon-sy">.</span><span class="crayon-v">LENGTH_SHORT</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-130"><span class="crayon-h">						</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-131">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-132"><span class="crayon-h">				</span><span class="crayon-c">// Now, again change the state of button</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-133"><span class="crayon-h">				</span><span class="crayon-v">getLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setText</span><span class="crayon-sy">(</span><span class="crayon-v">R</span><span class="crayon-sy">.</span><span class="crayon-t">string</span><span class="crayon-sy">.</span><span class="crayon-v">location_without_internet</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-134"><span class="crayon-h">				</span><span class="crayon-v">getLocation</span><span class="crayon-sy">.</span><span class="crayon-e">setEnabled</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-135">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-136"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-137"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-138">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-139"><span class="crayon-h">		</span><span class="crayon-c">// Register the listener with the Location Manager to receive location</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-140"><span class="crayon-h">		</span><span class="crayon-c">// updates</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-141"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">getAllProviders</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-142"><span class="crayon-h">		&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">NETWORK_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">locationListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-143">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-144"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">getAllProviders</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-145"><span class="crayon-h">		&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">locationManager</span><span class="crayon-sy">.</span><span class="crayon-e">requestLocationUpdates</span><span class="crayon-sy">(</span><span class="crayon-v">LocationManager</span><span class="crayon-sy">.</span><span class="crayon-v">GPS_PROVIDER</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">locationListener</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-146"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-147">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-148"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-149"><span class="crayon-e">	</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onDestroy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-150">&nbsp;</div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-151"><span class="crayon-h">		</span><span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onDestroy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-152"><span class="crayon-h">		</span><span class="crayon-c">// When activity destroyed we have to turn off GPS</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-153"><span class="crayon-h">		</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">GPSLocation</span><span class="crayon-sy">(</span><span class="crayon-v">MainActivity</span><span class="crayon-sy">.</span><span class="crayon-v">this</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">turnGPSOff</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-154"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4e315e83aa1614263253-155">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4e315e83aa1614263253-156"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0203 seconds] -->
<p>
<b>10</b>. Now, you are all done. If you run your app in emulator you will get longitude and latitude but if you run it over real device you will get proper address (in case of internet).</p>
<p>Thanks. <img class="wp-smiley" src="https://i2.wp.com/androhub.com/wp-includes/images/smilies/icon_smile.gif?w=602" alt=":)" data-recalc-dims="1" /></p>
<p><strong><a href="http://androhub.com/downloads/LocationGPS_Demo.zip" target="_blank">Download Source Code – &gt;</a></strong></p>
<p>&nbsp;</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-530" class="share-twitter sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=twitter" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-530" class="share-facebook sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=facebook" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-530" class="share-google-plus-1 sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=google-plus-1" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow" data-shared="" class="share-jetpack-whatsapp sd-button share-icon no-text" href="whatsapp://send?text=Android%20GPS%20Location%20Manager http%3A%2F%2Fwww.androhub.com%2Fandroid-gps-location-manager%2F" target="_blank" title="Click to share on WhatsApp"><span></span><span class="sharing-screen-reader-text">Click to share on WhatsApp (Opens in new window)</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-530" class="share-linkedin sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=linkedin" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li><li class="share-email"><a rel="nofollow" data-shared="" class="share-email sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=email" target="_blank" title="Click to email this to a friend"><span></span><span class="sharing-screen-reader-text">Click to email this to a friend (Opens in new window)</span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/#print" target="_blank" title="Click to print"><span></span><span class="sharing-screen-reader-text">Click to print (Opens in new window)</span></a></li><li class="share-tumblr"><a rel="nofollow" data-shared="" class="share-tumblr sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=tumblr" target="_blank" title="Click to share on Tumblr"><span></span><span class="sharing-screen-reader-text">Click to share on Tumblr (Opens in new window)</span></a></li><li class="share-pinterest"><a rel="nofollow" data-shared="sharing-pinterest-530" class="share-pinterest sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=pinterest" target="_blank" title="Click to share on Pinterest"><span></span><span class="sharing-screen-reader-text">Click to share on Pinterest (Opens in new window)</span></a></li><li class="share-pocket"><a rel="nofollow" data-shared="" class="share-pocket sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=pocket" target="_blank" title="Click to share on Pocket"><span></span><span class="sharing-screen-reader-text">Click to share on Pocket (Opens in new window)</span></a></li><li class="share-telegram"><a rel="nofollow" data-shared="" class="share-telegram sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=telegram" target="_blank" title="Click to share on Telegram"><span></span><span class="sharing-screen-reader-text">Click to share on Telegram (Opens in new window)</span></a></li><li class="share-skype"><a rel="nofollow" data-shared="sharing-skype-530" class="share-skype sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=skype" target="_blank" title="Share on Skype"><span></span><span class="sharing-screen-reader-text">Share on Skype (Opens in new window)</span></a></li><li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.androhub.com/android-gps-location-manager/?share=reddit" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div>

<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>					</div>
	</div>
</article>

	<section class='about'>
		<h4>About the author</h4>
		<div class='separator'>
			<div></div>
		</div>
		<article class='about-content'>
			<footer>
				<div class='about-helper-absolute'>
					<div class='avatar'>
						<img alt='' src='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=61&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/ebab67fae339761312d475ef8e13e63d?s=122&amp;d=mm&amp;r=g 2x' class='avatar avatar-61 photo' height='61' width='61' />					</div>
				</div>
			</footer>
			<div class='about-body'>
				<p>I am an Android developer for whom Android is the one and only love. I work as a freelancer which gets me and Android closer. I always love to share my learnings and love to learn from others knowledge too.</p>
			</div>
		</article>
	</section>
					
	
	
	
	<section class='leave-comment'>
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.androhub.com/android-gps-location-manager/#respond" style="display:none;">Cancel Comment</a></small></h3>				<form action="http://www.androhub.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<div class="separator"><div></div></div>
			<div class="input-field text-area">
				<div>
					Comment
					<span>(required)</span>
				</div>
				<div class="input-style dlight-grey sc-input">
					<textarea aria-required="true" rows="1" cols="1" name="comment" id="comment"  aria-required='true'></textarea>
				</div>
			</div><div><p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;span class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; </code></p></div>
					<div class="input-field">
						<div>
							Name <span>(required)</span>
						</div>
						<div class="input-style dlight-grey sc-input">
							<input id="author" type="text"  aria-required='true' size="20" value="" name="author">
						</div>
					</div>

					<div class="input-field">
						<div>
							Email <span>(required)</span>
						</div>
						<div class="input-style dlight-grey sc-input">
							<input id="email" name="email" type="text" value="" size="20" aria-required='true' />
						</div>
					</div>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="SENT" /> <input type='hidden' name='comment_post_ID' value='530' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="de5248f128" /></p>
    <style type="text/css">
      .comment-image-captcha {
        margin-bottom: 20px;
      }
      .comment-image-captcha table {
        border-width: 0;
        border: 0;
        padding: 0;
        margin: 0;
      }
      .comment-image-captcha td {
        border-width: 0;
        vertical-align: middle !important;
        padding: 0;
        margin: 0;
        background-color: transparent !important;
      }
      .comment-image-captcha div {
        margin: 0;
      }
      .image-captcha {
        display: none;
      }
      #image-captcha-input {
        width: 100% !important;
        box-sizing: border-box;
        height: auto !important;;
      }
      #image-captcha-refresh {
        width: 20px;
        height: 20px;
        cursor: pointer;
        position: relative;
      }
      #image-captcha-block{
        margin-right: 10px;
        background-color: #ffffff;
      }
      #image-captcha-refresh img {
        width: 20px;
      }
    </style>
    <div class="comment-image-captcha">
      <table style="width: 100%;" class="image-captcha">
        <tr>
          <td style="width: 77px; vertical-align: bottom;">
            <div id="image-captcha-block" style="border: 1px solid #DDDDDD; width: 75px; height: 75px;"><img style="padding: 5px;" src="http://www.androhub.com/wp-content/plugins/image-captcha/images/06-89.png"></div>
          </td>
          <td style="vertical-align: bottom;">
            <table style="width: 100%">
              <tr>
                <td colspan="2"><label for="image-captcha-input">Object in the image</label></td>
              </tr>
              <tr>
                <td style="vertical-align: bottom;">
                  <input style="margin-bottom: 0px;" type="text" class="input" id="image-captcha-input" name="image-captcha-input">
                </td>
                <td style="vertical-align: middle; width: 35px; text-align: center;">
                  <span id="image-captcha-refresh"><img src="http://www.androhub.com/wp-content/plugins/image-captcha/assets/refresh.png"></span>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <!--<div class="comment-image-captcha">
      <table class="image-captcha">
          <tr>
            <td style="width: 77px; vertical-align: bottom">

            </td>
            <td style="vertical-align: bottom;">
              <label for="image-captcha-input">Object in the image</label>
              <table style="display: block;">
                <tr>
                  <td><input style="margin-bottom: 0px;" type="text" value="" class="input" id="image-captcha-input" name="image-captcha-input"></td>
                  <td><div id="image-captcha-refresh"><img src="http://www.androhub.com/wp-content/plugins/image-captcha/assets/refresh.png"></div></td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </div>--><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="192"/></p>				</form>
					</div><!-- #respond -->
			</section>							</div>
		</div>
				<aside class='right-sidebar grid_3'>
	<section id="search-2" class="widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://www.androhub.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></section><section id="facebook-likebox-2" class="widget_facebook_likebox">		<div id="fb-root"></div>
		<div class="fb-page" data-href="https://www.facebook.com/androhubtutorial/" data-width="340"  data-height="432" data-hide-cover="false" data-show-facepile="true" data-show-posts="false">
		<div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/androhubtutorial/"><a href="https://www.facebook.com/androhubtutorial/"></a></blockquote></div>
		</div>
		</section>			<section id="wp_subscribe-2" class="wp_subscribe">	
		<div id="wp-subscribe" class="wp-subscribe-wrap wp-subscribe wp-subscribe-1" data-thanks_page="0" data-thanks_page_url="" data-thanks_page_new_window="0">

			<h4 class="title"></h4>

			<p class="text">Subscribe to our mailing list and get interesting stuff and updates to your email inbox. We don't Spam.</p>

			
			<form action="http://www.androhub.com/android-gps-location-manager?name=android-gps-location-manager" method="post" class="wp-subscribe-form wp-subscribe-mailchimp" id="wp-subscribe-form-1">

				
				<input class="regular-text email-field" type="text" name="email" placeholder="Enter your email here">

				<input type="hidden" name="form_type" value="widget">

				<input type="hidden" name="service" value="mailchimp">

				<input type="hidden" name="widget" value="wp_subscribe-2">

				<input class="submit" type="submit" name="submit" value="Sign Up Now">

			</form>

			
			<div class="wp-subscribe-loader">
				<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
					<path fill="" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
						<animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
					</path>
				</svg>
			</div>

			<p class="thanks">Thank you for subscribing.</p>
			<p class="error">Something went wrong.</p>
			<div class="clear"></div>

			<p class="footer-text">We respect your privacy and take protecting it seriously.</p>

		</div>

			</section>	
		<section id="recent-posts-2" class="widget_recent_entries">		<h3>Recent Posts</h3>		<ul>
					<li>
				<a href="http://www.androhub.com/authenticate-using-google-sign-in-on-android/">Authenticate Using Google Sign-In on Android</a>
						</li>
					<li>
				<a href="http://www.androhub.com/implementing-android-app-shortcuts/">Implementing Android App Shortcuts</a>
						</li>
					<li>
				<a href="http://www.androhub.com/implement-youtube-player-fragment-android-app/">How to implement Youtube Player Fragment in Android App</a>
						</li>
					<li>
				<a href="http://www.androhub.com/how-to-show-youtube-video-thumbnail-play-youtube-video-in-android-app/">How to show Youtube Video Thumbnail &#038; Play Youtube Video in Android App</a>
						</li>
					<li>
				<a href="http://www.androhub.com/android-confirm-credential-security-lock/">Android Confirm Credential (Security Lock)</a>
						</li>
				</ul>
		</section>		<section id="recent-comments-2" class="widget_recent_comments"><h3>Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://androhub.com/' rel='external nofollow' class='url'>Dr. Droid</a></span> on <a href="http://www.androhub.com/android-expandablelistview/#comment-478">Android ExpandableListView</a></li><li class="recentcomments"><span class="comment-author-link">Mrittunjay</span> on <a href="http://www.androhub.com/android-expandablelistview/#comment-477">Android ExpandableListView</a></li><li class="recentcomments"><span class="comment-author-link">Lawrence</span> on <a href="http://www.androhub.com/android-download-files-save/#comment-476">Android Download Files &#038; Save</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://androhub.com/' rel='external nofollow' class='url'>Dr. Droid</a></span> on <a href="http://www.androhub.com/login-signup-and-forgot-password-screen-design-android/#comment-475">Login, SignUp and Forgot Password Screen Design Android</a></li><li class="recentcomments"><span class="comment-author-link">fawad azam</span> on <a href="http://www.androhub.com/login-signup-and-forgot-password-screen-design-android/#comment-474">Login, SignUp and Forgot Password Screen Design Android</a></li></ul></section><section id="archives-2" class="widget_archive"><h3>Archives</h3>		<ul>
			<li><a href='http://www.androhub.com/2017/12/'>December 2017</a></li>
	<li><a href='http://www.androhub.com/2017/11/'>November 2017</a></li>
	<li><a href='http://www.androhub.com/2017/10/'>October 2017</a></li>
	<li><a href='http://www.androhub.com/2017/07/'>July 2017</a></li>
	<li><a href='http://www.androhub.com/2017/06/'>June 2017</a></li>
	<li><a href='http://www.androhub.com/2017/05/'>May 2017</a></li>
	<li><a href='http://www.androhub.com/2017/04/'>April 2017</a></li>
	<li><a href='http://www.androhub.com/2017/03/'>March 2017</a></li>
	<li><a href='http://www.androhub.com/2017/02/'>February 2017</a></li>
	<li><a href='http://www.androhub.com/2017/01/'>January 2017</a></li>
	<li><a href='http://www.androhub.com/2016/08/'>August 2016</a></li>
	<li><a href='http://www.androhub.com/2016/07/'>July 2016</a></li>
	<li><a href='http://www.androhub.com/2016/06/'>June 2016</a></li>
	<li><a href='http://www.androhub.com/2016/04/'>April 2016</a></li>
	<li><a href='http://www.androhub.com/2016/03/'>March 2016</a></li>
	<li><a href='http://www.androhub.com/2015/12/'>December 2015</a></li>
	<li><a href='http://www.androhub.com/2015/11/'>November 2015</a></li>
	<li><a href='http://www.androhub.com/2015/10/'>October 2015</a></li>
	<li><a href='http://www.androhub.com/2015/09/'>September 2015</a></li>
	<li><a href='http://www.androhub.com/2015/08/'>August 2015</a></li>
	<li><a href='http://www.androhub.com/2015/07/'>July 2015</a></li>
	<li><a href='http://www.androhub.com/2015/06/'>June 2015</a></li>
	<li><a href='http://www.androhub.com/2015/05/'>May 2015</a></li>
	<li><a href='http://www.androhub.com/2015/04/'>April 2015</a></li>
		</ul>
		</section><section id="categories-2" class="widget_categories"><h3>Categories</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="http://www.androhub.com/category/android-actionbar/" >Android Actionbar</a>
</li>
	<li class="cat-item cat-item-500"><a href="http://www.androhub.com/category/android-advanced/" >Android Advanced</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.androhub.com/category/android-animations/" >Android Animations</a>
</li>
	<li class="cat-item cat-item-562"><a href="http://www.androhub.com/category/android-app-shortcuts/" >Android App Shortcuts</a>
</li>
	<li class="cat-item cat-item-541"><a href="http://www.androhub.com/category/android-authentication/" >Android Authentication</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.androhub.com/category/android-autocomplete/" >Android AutoComplete</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.androhub.com/category/android-basics/" >Android Basics</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.androhub.com/category/android-bluetooth/" >Android Bluetooth</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.androhub.com/category/android-cardview/" >Android CardView</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.androhub.com/category/android-clocks/" >Android Clocks</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://www.androhub.com/category/android-contacts/" >Android Contacts</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://www.androhub.com/category/android-content-provider/" >Android Content Provider</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://www.androhub.com/category/android-custom-font/" >Android Custom Font</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://www.androhub.com/category/android-custom-view/" >Android Custom View</a>
</li>
	<li class="cat-item cat-item-13"><a href="http://www.androhub.com/category/android-database/" >Android Database</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.androhub.com/category/android-dialogs/" >Android Dialogs</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://www.androhub.com/category/android-download-files/" >Android Download Files</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://www.androhub.com/category/android-drawer/" >Android Drawer</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://www.androhub.com/category/android-expandablelistview/" >Android ExpandableListView</a>
</li>
	<li class="cat-item cat-item-18"><a href="http://www.androhub.com/category/android-file/" >Android File</a>
</li>
	<li class="cat-item cat-item-489"><a href="http://www.androhub.com/category/android-fingerprint/" >Android FingerPrint</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.androhub.com/category/android-fragment/" >Android Fragment</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://www.androhub.com/category/android-gestures/" >Android Gestures</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://www.androhub.com/category/android-gps/" >Android GPS</a>
</li>
	<li class="cat-item cat-item-22"><a href="http://www.androhub.com/category/android-image-picker/" >Android Image Picker</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://www.androhub.com/category/android-internet-connection/" >Android Internet Connection</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://www.androhub.com/category/android-json/" >Android JSON</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://www.androhub.com/category/android-listview/" >Android ListView</a>
</li>
	<li class="cat-item cat-item-26"><a href="http://www.androhub.com/category/android-material-design/" >Android Material Design</a>
</li>
	<li class="cat-item cat-item-27"><a href="http://www.androhub.com/category/android-navigationdrawer/" >Android NavigationDrawer</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://www.androhub.com/category/android-notification-bar/" >Android Notification Bar</a>
</li>
	<li class="cat-item cat-item-493"><a href="http://www.androhub.com/category/android-palette/" >Android Palette</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://www.androhub.com/category/android-progressbar/" >Android ProgressBar</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://www.androhub.com/category/android-ratingbar/" >Android RatingBar</a>
</li>
	<li class="cat-item cat-item-31"><a href="http://www.androhub.com/category/android-recyclerview/" >Android RecyclerView</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://www.androhub.com/category/android-seekbar/" >Android SeekBar</a>
</li>
	<li class="cat-item cat-item-34"><a href="http://www.androhub.com/category/android-spinner/" >Android Spinner</a>
</li>
	<li class="cat-item cat-item-35"><a href="http://www.androhub.com/category/android-stackview/" >Android StackView</a>
</li>
	<li class="cat-item cat-item-36"><a href="http://www.androhub.com/category/android-swiperefresh-layout/" >Android SwipeRefresh Layout</a>
</li>
	<li class="cat-item cat-item-37"><a href="http://www.androhub.com/category/android-tabs/" >Android Tabs</a>
</li>
	<li class="cat-item cat-item-38"><a href="http://www.androhub.com/category/android-textswitcher/" >Android TextSwitcher</a>
</li>
	<li class="cat-item cat-item-39"><a href="http://www.androhub.com/category/android-toolbar/" >Android ToolBar</a>
</li>
	<li class="cat-item cat-item-40"><a href="http://www.androhub.com/category/android-ui-design/" >Android UI Design</a>
</li>
	<li class="cat-item cat-item-41"><a href="http://www.androhub.com/category/android-viewanimator/" >Android ViewAnimator</a>
</li>
	<li class="cat-item cat-item-42"><a href="http://www.androhub.com/category/android-viewpager/" >Android ViewPager</a>
</li>
	<li class="cat-item cat-item-43"><a href="http://www.androhub.com/category/android-viewswitcher/" >Android ViewSwitcher</a>
</li>
	<li class="cat-item cat-item-44"><a href="http://www.androhub.com/category/android-wifi/" >Android WIFI</a>
</li>
	<li class="cat-item cat-item-446"><a href="http://www.androhub.com/category/google-maps/" >Google Maps</a>
</li>
	<li class="cat-item cat-item-45"><a href="http://www.androhub.com/category/http-requests/" >Http Requests</a>
</li>
	<li class="cat-item cat-item-46"><a href="http://www.androhub.com/category/intent/" >Intent</a>
</li>
		</ul>
</section></aside>	</div>
</div>
<aside class='wrapper lighter-grey'>
	<div class='container'>
		<div class='grid_9'>
			<div class='posts-container'>
				<div class='post-single-pagination'>
					<a href="http://www.androhub.com/android-detect-internet-connection-using-broadcast-receiver/" rel="prev">previous post</a><a href="http://www.androhub.com/android-notification-bar/" rel="next">next post</a>
				</div>
			</div>
		</div>
	</div>
</aside>
					<footer>
			<div class='wrapper grey'>
				<div class='container'>
						<div class='grid_4'>
			</div>
	<div class='grid_4'>
			</div>
	<div class='grid_4'>
			</div>
				</div>
			</div>
			<div class='wrapper dark-grey copyright-bar'>
				<div class='container'>
					<div class='grid_12'>
						<span class='copyright'>Copyright ® 2015 - 2017 Androhub.com | All rights reserved.</span><span class="copyright" style="float: right;">Powered by <a href="http://pacdevelopers.com/" target="_blank">PAC Developers</a></span>
					</div>
				</div>
			</div>
		</footer>
		<a id="back_to_top" href="#"></a>
					<div style="display:none">
	<div class="grofile-hash-map-ebab67fae339761312d475ef8e13e63d">
	</div>
	<div class="grofile-hash-map-ebab67fae339761312d475ef8e13e63d">
	</div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"http:\/\/www.androhub.com\/android-gps-location-manager\/":530};
	</script>
	<div id="sharing_email" style="display: none;">
		<form action="http://www.androhub.com/android-gps-location-manager/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" />
			<script>jQuery( document ).ready( function(){ document.getElementById('jetpack-source_f_name').value = '' });</script>
			
			<img style="float: right; display: none" class="loading" src="http://www.androhub.com/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a rel="nofollow" href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
		<link rel='stylesheet' id='wp-subscribe-css'  href='http://www.androhub.com/wp-content/plugins/wp-subscribe/assets/css/wp-subscribe-form.css?ver=4.5.12' type='text/css' media='all' />
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201801'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2018Janaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/main.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.nicescroll.min.js'></script>
<script type='text/javascript' src='http://heartcode-canvasloader.googlecode.com/files/heartcode-canvasloader-min-0.9.1.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.prettyPhoto.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.flexslider-min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/zozo.tabs.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.isotope.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/themes/circles/js/jquery.iosslider.min.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/comment-reply.min.js?ver=4.5.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var jpfbembed = {"appid":"249643311490","locale":"en_US"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/_inc/facebook-embed.js'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/youtube-embed-plus/scripts/fitvids.min.js?ver=4.5.12'></script>
<script type='text/javascript' src='http://www.androhub.com/wp-includes/js/wp-embed.min.js?ver=4.5.12'></script>
<script async="async" type='text/javascript' src='http://www.androhub.com/wp-content/plugins/akismet/_inc/form.js?ver=4.0.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wp_subscribe = {"ajaxurl":"http:\/\/www.androhub.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/wp-subscribe/assets/js/wp-subscribe-form.js?ver=4.5.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.androhub.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=4.4.2'></script>
<script type='text/javascript'>
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-tumblr', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtumblr', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-pocket', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcompocket', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-telegram', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtelegram', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-skype', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomskype', 'menubar=1,resizable=1,width=305,height=665' );
				return false;
			});
</script>
<script type='text/javascript' src='http://stats.wp.com/e-201801.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.4.2',blog:'113004364',post:'530',tz:'0',srv:'www.androhub.com'} ]);
	_stq.push([ 'clickTrackerInit', '113004364', '530' ]);
</script>
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-63664503-1']);
			_gaq.push(['_trackPageview']);

			(function() {
			  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
			<div class="media_for_js"></div>
	</body>

<!-- Mirrored from www.androhub.com/android-gps-location-manager/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jan 2018 03:38:45 GMT -->
</html>